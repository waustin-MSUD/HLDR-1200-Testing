<!DOCTYPE html>
<html class="night"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8"> <!-- Poof Proofing Format, for Twine 2, by Chapel; v1.9.0 --> <title>Poof: War on Drugs</title> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1"> <meta name="description" content="Poof Proofing Format, for Twine 2, by Chapel"> <meta name="theme-color" content="#ccc"> <link rel="icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAAGYktHRAD/AP8A/6C9p5MAAAOTSURBVFhH7ZVLLKRBEMf/M2MEyZA4eK2LqzPZhAuXXXEVDoSTjISErLAmDma9EnuwSGQjsrhKhHFAHMUSmyASJ0L2IEE8J8R7mN6qmq/HZzx297IOO7+kUt1d/XVVd1X3Z1EEXhGroV+NcADhAMIB/NE7MDMzgzGPB464OJydnOBjfT3epKYaVuDu7g49PT04Pj6GxWJBREQE/H4/HA4HqqqqEB0dbcx8Ag7gJWZnZ9XX/n6jF6ClrU15PB5pDw8Pq8bGRnV9fS19M5eXl8rlcqnp6Wlj5DG/DaDJ7RbtM+RWekp9GxhQnZ2dEoDm9vY2KD6fT9HJyHhNTY3op3iUgsmJCXyfn4c9MhJ2OsrxsTHMUN8REwM/2S0mycjIwNLSkhy3XsasWex2O1ZXV7G7u4u8vDyxmXkQgNvtRnZODt7l5hojwIHXi5+bm3ibmSkBMLpyQ50xHAyj+1wPOzs7mJycREpKCvb29pCeno6srCyxBwOYmpqCjYrlPTn3iSmwy4hA84Fz7ZALjjU71W0tmkg6yerqaiQlJaGwsFAKc2VlBSMjIxgcHJTFhIaGBtE3huiccxa1MORMhPPLwrlmubm5CQoXJAsX4dXVldQEwzbuM3Qqqq+vTwXfAT6e7f192KmtB82PhN45o4859LiZUBtrChAXFxei+cqenZ0hOTkZR0dH9z74mD63tuLH4iJs1GdhOA0vOTcTOkfzVIAM14d5k/jS1YVKpxMNLlfQMWu9QKhm/sYWGhilSYzC6Oio+tTcbPTuoY9EOI+cc33HzXnnvOqca6EjF9Hob3ktpq6uTtHVDLwDfPeP6YktLSmBjp8M0iZzYIDQO9BjfMdpUcmrHjPrGHo7KioqkJaWhtjYWNhsNnmuDw4OUF5eLteRJ6oPtbWsgpVOYQarXEfMO+Qd6Cpn5ubmlNfrlTG98/PzcxEqNJnT1NQkmgpO0Rsga5qxztMrV1pWJlHrfJNLuddWq1V0QUEBlpeXZQe8a77bzNDQEMiBjEVFRcl8jZ4jeSbi4+ORkJDwYI7A+ausrAyEEwLXhdPpVIeHh6qlpUW1t7crekBUb2+vor+c2traUqenp4pukOro6FDr6+vGl0otLCyooqIio/c8UgPb29vo7u6WnFE3mOvi4uJAngzYtrGxgcTERMTRr9kM73R8fBxra2uglCA7Oxv5+fmG9Xke/Ateg5CE/HvCAYQD+N8DAH4BqDgqhiHX0tcAAAAASUVORK5CYII=" type="image/png"> <style type="text/css"> /*! normalize.css v8.0.0 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}template{display:none}[hidden]{display:none}/*! Pure v1.0.0 Copyright 2013 Yahoo! Licensed under the BSD License. https://github.com/yahoo/pure/blob/master/LICENSE.md *//*! normalize.css v^3.0 | MIT License | git.io/normalize Copyright (c) Nicolas Gallagher and Jonathan Neal *//*! normalize.css v3.0.3 | MIT License | github.com/necolas/normalize.css */.pure-button:focus,a:active,a:hover{outline:0}.pure-table,table{border-collapse:collapse;border-spacing:0}html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background-color:transparent}abbr[title]{border-bottom:1px dotted}b,optgroup,strong{font-weight:700}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}img{border:0}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{box-sizing:content-box;height:0}pre,textarea{overflow:auto}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}button,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0}.pure-button,input{line-height:normal}button{overflow:visible}button,select{text-transform:none}button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{height:auto}input[type=search]{-webkit-appearance:textfield;box-sizing:content-box}.pure-button,.pure-form input:not([type]),.pure-menu{box-sizing:border-box}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration{-webkit-appearance:none}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend,td,th{padding:0}legend{border:0}.hidden,[hidden]{display:none!important}.pure-img{max-width:100%;height:auto;display:block}.pure-g{letter-spacing:-.31em;text-rendering:optimizespeed;font-family:FreeSans,Arimo,"Droid Sans",Helvetica,Arial,sans-serif;display:flex;flex-flow:row wrap;align-content:flex-start}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){table .pure-g{display:block}}.opera-only :-o-prefocus,.pure-g{word-spacing:-.43em}.pure-u,.pure-u-1,.pure-u-1-1,.pure-u-1-12,.pure-u-1-2,.pure-u-1-24,.pure-u-1-3,.pure-u-1-4,.pure-u-1-5,.pure-u-1-6,.pure-u-1-8,.pure-u-10-24,.pure-u-11-12,.pure-u-11-24,.pure-u-12-24,.pure-u-13-24,.pure-u-14-24,.pure-u-15-24,.pure-u-16-24,.pure-u-17-24,.pure-u-18-24,.pure-u-19-24,.pure-u-2-24,.pure-u-2-3,.pure-u-2-5,.pure-u-20-24,.pure-u-21-24,.pure-u-22-24,.pure-u-23-24,.pure-u-24-24,.pure-u-3-24,.pure-u-3-4,.pure-u-3-5,.pure-u-3-8,.pure-u-4-24,.pure-u-4-5,.pure-u-5-12,.pure-u-5-24,.pure-u-5-5,.pure-u-5-6,.pure-u-5-8,.pure-u-6-24,.pure-u-7-12,.pure-u-7-24,.pure-u-7-8,.pure-u-8-24,.pure-u-9-24{letter-spacing:normal;word-spacing:normal;vertical-align:top;text-rendering:auto;display:inline-block;zoom:1}.pure-g [class*=pure-u]{font-family:sans-serif}.pure-u-1-24{width:4.1667%}.pure-u-1-12,.pure-u-2-24{width:8.3333%}.pure-u-1-8,.pure-u-3-24{width:12.5%}.pure-u-1-6,.pure-u-4-24{width:16.6667%}.pure-u-1-5{width:20%}.pure-u-5-24{width:20.8333%}.pure-u-1-4,.pure-u-6-24{width:25%}.pure-u-7-24{width:29.1667%}.pure-u-1-3,.pure-u-8-24{width:33.3333%}.pure-u-3-8,.pure-u-9-24{width:37.5%}.pure-u-2-5{width:40%}.pure-u-10-24,.pure-u-5-12{width:41.6667%}.pure-u-11-24{width:45.8333%}.pure-u-1-2,.pure-u-12-24{width:50%}.pure-u-13-24{width:54.1667%}.pure-u-14-24,.pure-u-7-12{width:58.3333%}.pure-u-3-5{width:60%}.pure-u-15-24,.pure-u-5-8{width:62.5%}.pure-u-16-24,.pure-u-2-3{width:66.6667%}.pure-u-17-24{width:70.8333%}.pure-u-18-24,.pure-u-3-4{width:75%}.pure-u-19-24{width:79.1667%}.pure-u-4-5{width:80%}.pure-u-20-24,.pure-u-5-6{width:83.3333%}.pure-u-21-24,.pure-u-7-8{width:87.5%}.pure-u-11-12,.pure-u-22-24{width:91.6667%}.pure-u-23-24{width:95.8333%}.pure-u-1,.pure-u-1-1,.pure-u-24-24,.pure-u-5-5{width:100%}.pure-button{display:inline-block;zoom:1;white-space:nowrap;vertical-align:middle;text-align:center;cursor:pointer;-webkit-user-drag:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pure-button::-moz-focus-inner{padding:0;border:0}.pure-button-group{letter-spacing:-.31em;text-rendering:optimizespeed}.opera-only :-o-prefocus,.pure-button-group{word-spacing:-.43em}.pure-button{font-family:inherit;font-size:100%;padding:.5em 1em;color:#444;color:rgba(0,0,0,.8);border:1px solid #999;border:transparent;background-color:#e6e6e6;text-decoration:none;border-radius:2px}.pure-button-hover,.pure-button:focus,.pure-button:hover{background-image:linear-gradient(transparent,rgba(0,0,0,.05) 40%,rgba(0,0,0,.1))}.pure-button-active,.pure-button:active{box-shadow:0 0 0 1px rgba(0,0,0,.15) inset,0 0 6px rgba(0,0,0,.2) inset}.pure-button-disabled,.pure-button-disabled:active,.pure-button-disabled:focus,.pure-button-disabled:hover,.pure-button[disabled]{border:none;background-image:none;opacity:.4;cursor:not-allowed;box-shadow:none;pointer-events:none}.pure-button-hidden{display:none}.pure-button-primary,.pure-button-selected,a.pure-button-primary,a.pure-button-selected{background-color:#0078e7;color:#fff}.pure-button-group .pure-button{letter-spacing:normal;word-spacing:normal;vertical-align:top;text-rendering:auto;margin:0;border-radius:0;border-right:1px solid #111;border-right:1px solid rgba(0,0,0,.2)}.pure-button-group .pure-button:first-child{border-top-left-radius:2px;border-bottom-left-radius:2px}.pure-button-group .pure-button:last-child{border-top-right-radius:2px;border-bottom-right-radius:2px;border-right:none}.pure-form input[type=color],.pure-form input[type=date],.pure-form input[type=datetime-local],.pure-form input[type=datetime],.pure-form input[type=email],.pure-form input[type=month],.pure-form input[type=number],.pure-form input[type=password],.pure-form input[type=search],.pure-form input[type=tel],.pure-form input[type=text],.pure-form input[type=time],.pure-form input[type=url],.pure-form input[type=week],.pure-form select,.pure-form textarea{padding:.5em .6em;display:inline-block;border:1px solid #ccc;box-shadow:inset 0 1px 3px #ddd;border-radius:4px;vertical-align:middle;box-sizing:border-box}.pure-form input:not([type]){padding:.5em .6em;display:inline-block;border:1px solid #ccc;box-shadow:inset 0 1px 3px #ddd;border-radius:4px}.pure-form input[type=color]{padding:.2em .5em}.pure-form input:not([type]):focus,.pure-form input[type=color]:focus,.pure-form input[type=date]:focus,.pure-form input[type=datetime-local]:focus,.pure-form input[type=datetime]:focus,.pure-form input[type=email]:focus,.pure-form input[type=month]:focus,.pure-form input[type=number]:focus,.pure-form input[type=password]:focus,.pure-form input[type=search]:focus,.pure-form input[type=tel]:focus,.pure-form input[type=text]:focus,.pure-form input[type=time]:focus,.pure-form input[type=url]:focus,.pure-form input[type=week]:focus,.pure-form select:focus,.pure-form textarea:focus{outline:0;border-color:#129fea}.pure-form input[type=checkbox]:focus,.pure-form input[type=file]:focus,.pure-form input[type=radio]:focus{outline:#129fea auto 1px}.pure-form .pure-checkbox,.pure-form .pure-radio{margin:.5em 0;display:block}.pure-form input:not([type])[disabled],.pure-form input[type=color][disabled],.pure-form input[type=date][disabled],.pure-form input[type=datetime-local][disabled],.pure-form input[type=datetime][disabled],.pure-form input[type=email][disabled],.pure-form input[type=month][disabled],.pure-form input[type=number][disabled],.pure-form input[type=password][disabled],.pure-form input[type=search][disabled],.pure-form input[type=tel][disabled],.pure-form input[type=text][disabled],.pure-form input[type=time][disabled],.pure-form input[type=url][disabled],.pure-form input[type=week][disabled],.pure-form select[disabled],.pure-form textarea[disabled]{cursor:not-allowed;background-color:#eaeded;color:#cad2d3}.pure-form input[readonly],.pure-form select[readonly],.pure-form textarea[readonly]{background-color:#eee;color:#777;border-color:#ccc}.pure-form input:focus:invalid,.pure-form select:focus:invalid,.pure-form textarea:focus:invalid{color:#b94a48;border-color:#e9322d}.pure-form input[type=checkbox]:focus:invalid:focus,.pure-form input[type=file]:focus:invalid:focus,.pure-form input[type=radio]:focus:invalid:focus{outline-color:#e9322d}.pure-form select{height:2.25em;border:1px solid #ccc;background-color:#fff}.pure-form select[multiple]{height:auto}.pure-form label{margin:.5em 0 .2em}.pure-form fieldset{margin:0;padding:.35em 0 .75em;border:0}.pure-form legend{display:block;width:100%;padding:.3em 0;margin-bottom:.3em;color:#333;border-bottom:1px solid #e5e5e5}.pure-form-stacked input:not([type]),.pure-form-stacked input[type=color],.pure-form-stacked input[type=date],.pure-form-stacked input[type=datetime-local],.pure-form-stacked input[type=datetime],.pure-form-stacked input[type=email],.pure-form-stacked input[type=file],.pure-form-stacked input[type=month],.pure-form-stacked input[type=number],.pure-form-stacked input[type=password],.pure-form-stacked input[type=search],.pure-form-stacked input[type=tel],.pure-form-stacked input[type=text],.pure-form-stacked input[type=time],.pure-form-stacked input[type=url],.pure-form-stacked input[type=week],.pure-form-stacked label,.pure-form-stacked select,.pure-form-stacked textarea{display:block;margin:.25em 0}.pure-form-aligned .pure-help-inline,.pure-form-aligned input,.pure-form-aligned select,.pure-form-aligned textarea,.pure-form-message-inline{display:inline-block;vertical-align:middle}.pure-form-aligned textarea{vertical-align:top}.pure-form-aligned .pure-control-group{margin-bottom:.5em}.pure-form-aligned .pure-control-group label{text-align:right;display:inline-block;vertical-align:middle;width:10em;margin:0 1em 0 0}.pure-form-aligned .pure-controls{margin:1.5em 0 0 11em}.pure-form .pure-input-rounded,.pure-form input.pure-input-rounded{border-radius:2em;padding:.5em 1em}.pure-form .pure-group fieldset{margin-bottom:10px}.pure-form .pure-group input,.pure-form .pure-group textarea{display:block;padding:10px;margin:0 0 -1px;border-radius:0;position:relative;top:-1px}.pure-form .pure-group input:focus,.pure-form .pure-group textarea:focus{z-index:3}.pure-form .pure-group input:first-child,.pure-form .pure-group textarea:first-child{top:1px;border-radius:4px 4px 0 0;margin:0}.pure-form .pure-group input:first-child:last-child,.pure-form .pure-group textarea:first-child:last-child{top:1px;border-radius:4px;margin:0}.pure-form .pure-group input:last-child,.pure-form .pure-group textarea:last-child{top:-2px;border-radius:0 0 4px 4px;margin:0}.pure-form .pure-group button{margin:.35em 0}.pure-form .pure-input-1{width:100%}.pure-form .pure-input-3-4{width:75%}.pure-form .pure-input-2-3{width:66%}.pure-form .pure-input-1-2{width:50%}.pure-form .pure-input-1-3{width:33%}.pure-form .pure-input-1-4{width:25%}.pure-form .pure-help-inline,.pure-form-message-inline{display:inline-block;padding-left:.3em;color:#666;vertical-align:middle;font-size:.875em}.pure-form-message{display:block;color:#666;font-size:.875em}@media only screen and (max-width :480px){.pure-form button[type=submit]{margin:.7em 0 0}.pure-form input:not([type]),.pure-form input[type=color],.pure-form input[type=date],.pure-form input[type=datetime-local],.pure-form input[type=datetime],.pure-form input[type=email],.pure-form input[type=month],.pure-form input[type=number],.pure-form input[type=password],.pure-form input[type=search],.pure-form input[type=tel],.pure-form input[type=text],.pure-form input[type=time],.pure-form input[type=url],.pure-form input[type=week],.pure-form label{margin-bottom:.3em;display:block}.pure-group input:not([type]),.pure-group input[type=color],.pure-group input[type=date],.pure-group input[type=datetime-local],.pure-group input[type=datetime],.pure-group input[type=email],.pure-group input[type=month],.pure-group input[type=number],.pure-group input[type=password],.pure-group input[type=search],.pure-group input[type=tel],.pure-group input[type=text],.pure-group input[type=time],.pure-group input[type=url],.pure-group input[type=week]{margin-bottom:0}.pure-form-aligned .pure-control-group label{margin-bottom:.3em;text-align:left;display:block;width:100%}.pure-form-aligned .pure-controls{margin:1.5em 0 0}.pure-form .pure-help-inline,.pure-form-message,.pure-form-message-inline{display:block;font-size:.75em;padding:.2em 0 .8em}}.pure-menu-fixed{position:fixed;left:0;top:0;z-index:3}.pure-menu-item,.pure-menu-list{position:relative}.pure-menu-list{list-style:none;margin:0;padding:0}.pure-menu-item{padding:0;margin:0;height:100%}.pure-menu-heading,.pure-menu-link{display:block;text-decoration:none;white-space:nowrap}.pure-menu-horizontal{width:100%;white-space:nowrap}.pure-menu-horizontal .pure-menu-list{display:inline-block}.pure-menu-horizontal .pure-menu-heading,.pure-menu-horizontal .pure-menu-item,.pure-menu-horizontal .pure-menu-separator{display:inline-block;zoom:1;vertical-align:middle}.pure-menu-item .pure-menu-item{display:block}.pure-menu-children{display:none;position:absolute;left:100%;top:0;margin:0;padding:0;z-index:3}.pure-menu-horizontal .pure-menu-children{left:0;top:auto;width:inherit}.pure-menu-active>.pure-menu-children,.pure-menu-allow-hover:hover>.pure-menu-children{display:block;position:absolute}.pure-menu-has-children>.pure-menu-link:after{padding-left:.5em;content:"\25B8";font-size:small}.pure-menu-horizontal .pure-menu-has-children>.pure-menu-link:after{content:"\25BE"}.pure-menu-scrollable{overflow-y:scroll;overflow-x:hidden}.pure-menu-scrollable .pure-menu-list{display:block}.pure-menu-horizontal.pure-menu-scrollable .pure-menu-list{display:inline-block}.pure-menu-horizontal.pure-menu-scrollable{white-space:nowrap;overflow-y:hidden;overflow-x:auto;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;padding:.5em 0}.pure-menu-horizontal.pure-menu-scrollable::-webkit-scrollbar{display:none}.pure-menu-horizontal .pure-menu-children .pure-menu-separator,.pure-menu-separator{background-color:#ccc;height:1px;margin:.3em 0}.pure-menu-horizontal .pure-menu-separator{width:1px;height:1.3em;margin:0 .3em}.pure-menu-horizontal .pure-menu-children .pure-menu-separator{display:block;width:auto}.pure-menu-heading{text-transform:uppercase;color:#565d64}.pure-menu-link{color:#777}.pure-menu-children{background-color:#fff}.pure-menu-disabled,.pure-menu-heading,.pure-menu-link{padding:.5em 1em}.pure-menu-disabled{opacity:.5}.pure-menu-disabled .pure-menu-link:hover{background-color:transparent}.pure-menu-active>.pure-menu-link,.pure-menu-link:focus,.pure-menu-link:hover{background-color:#eee}.pure-menu-selected .pure-menu-link,.pure-menu-selected .pure-menu-link:visited{color:#000}.pure-table{empty-cells:show;border:1px solid #cbcbcb}.pure-table caption{color:#000;font:italic 85%/1 arial,sans-serif;padding:1em 0;text-align:center}.pure-table td,.pure-table th{border-left:1px solid #cbcbcb;border-width:0 0 0 1px;font-size:inherit;margin:0;overflow:visible;padding:.5em 1em}.pure-table td:first-child,.pure-table th:first-child{border-left-width:0}.pure-table thead{background-color:#e0e0e0;color:#000;text-align:left;vertical-align:bottom}.pure-table td{background-color:transparent}.pure-table-odd td,.pure-table-striped tr:nth-child(2n-1) td{background-color:#f2f2f2}.pure-table-bordered td{border-bottom:1px solid #cbcbcb}.pure-table-bordered tbody>tr:last-child>td{border-bottom-width:0}.pure-table-horizontal td,.pure-table-horizontal th{border-width:0 0 1px;border-bottom:1px solid #cbcbcb}.pure-table-horizontal tbody>tr:last-child>td{border-bottom-width:0}.hljs{display:block;overflow-x:auto;padding:.5em;color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}td.hljs-ln-numbers{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;text-align:center;color:#ccc;border-right:1em solid transparent;vertical-align:top;margin-right:5px}td.hljs-ln-code{margin-left:10px}.loader,.loader:after{border-radius:50%;width:10em;height:10em}.loader{margin:60px auto;font-size:10px;position:relative;text-indent:-9999em;border-top:1.1em solid rgba(75,75,75,.2);border-right:1.1em solid rgba(75,75,75,.2);border-bottom:1.1em solid rgba(75,75,75,.2);border-left:1.1em solid #4b4b4b;transform:translateZ(0);-webkit-animation:load8 1.1s infinite linear;animation:load8 1.1s infinite linear}@-webkit-keyframes load8{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes load8{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}body{background-color:#aaa;font-family:Verdana,Geneva,sans-serif;font-size:16px}.pure-menu.pure-menu-horizontal{background-color:#111;position:fixed;top:0;z-index:100}.pure-menu-link{color:#fafafa}.pure-menu-active>.pure-menu-link,.pure-menu-link:focus,.pure-menu-link:hover{background-color:#333}.pure-menu-children{background-color:#555}.pure-menu-horizontal .pure-menu-children{min-width:100%}.pure-menu-item a span{display:inline-block;width:.5rem;height:.5rem;border:1px solid #eee;background:#eee;margin-right:.5rem;margin-bottom:.1rem}.pure-menu-item a.on span{background:#111}#configs::after{content:'';padding:0}div#content{margin:3em auto;max-width:970px}div#story-data{background-color:#fff;padding:1em;box-shadow:0 0 3px #888}p{margin:1em 2em}p#format{float:right}#story-data>p{font-family:Consolas,monaco,monospace}div#overlay{background:#333;padding:4em 2em;position:absolute;top:0;left:0;right:0;bottom:0;z-index:10}.loader{border-top:1.1em solid #666;border-right:1.1em solid #666;border-bottom:1.1em solid #666;border-left:1.1em solid #eee}.hide{display:none}.smallify{height:0;max-height:0;overflow:hidden}ul#credits{list-style:none}input[type=file]{display:none}.void{display:none}#clear-filters{position:fixed;background-color:#85144b;top:2.5em;right:0;border-radius:0;box-shadow:-1px 1px 2px #888}#title{font-size:2em;text-align:center;margin-top:.67em;margin-bottom:.6em;padding-bottom:.6em;border-bottom:1px solid #888}#story-data,.passage-card{border-radius:5px}@media only screen and (max-width:800px){body{font-size:14px}div#content{margin:3em 1em 1em 1em}div.passage-card{margin:1em 0}div.passage-source{margin:0}}div.passage-card{background-color:#fff;margin:1em 0;padding:1em;box-shadow:0 0 2px #888}h2.passage-title{padding-left:5%;margin-top:0;font-size:1.7rem;font-family:Corbel,Arial,sans-serif}h2.passage-title::before{content:"::\00a0"}p.passage-tags{border-left:5px solid #888;background-color:#eee;padding:1em;margin:1em 1em}div.passage-references{border-left:5px solid #888;background-color:#eee;padding:1em;margin:1em}h3.passage-references-title{font-size:.9rem;margin:0;margin-bottom:.5em}div.passage-reference-wrapper{font-size:.8rem;margin-left:1rem}a.jumpto{margin-right:1em}div.passage-source{border:1px solid #111;padding:1em;margin:1em;background-color:#f8f8f8;overflow:auto;scrollbar-width:thin}div.passage-source pre{font-family:Consolas,monaco,monospace;white-space:pre-wrap;line-height:1.5em}.passage-card .edit{float:right;margin:0;padding:.5em;display:none;z-index:2;cursor:pointer;background:#ccc;border-radius:50%;transition:.3s all;-webkit-user-select:none;-moz-user-select:none;user-select:none}.passage-card:hover .edit{display:inline-block}.passage-card:hover .edit:active,.passage-card:hover .edit:hover{display:inline-block;padding:1em;background:#eee;border:1px solid #ccc}span.tag-listing{cursor:pointer}span.tag-listing:hover{opacity:.8}#sidebar{position:fixed;background-color:#ccc;left:0;top:2em;bottom:0;width:15em;overflow-y:auto;overflow-x:hidden;box-shadow:0 0 4px #000;color:#111;transition:left .3s;-webkit-transition:left .3s;-moz-transition:left .3s;-ms-transition:left .3s;-o-transition:left .3s}#sidebar.closed{left:-16em}#sidebar h3{text-align:center;border-bottom:1px solid #555;padding-bottom:1em;margin-bottom:.2em}#sidebar ul{padding:0;margin:0}#sidebar li{list-style:none;display:block;margin:.2em .5em;padding:.2em 0}#sidebar li:not(:last-child){border-bottom:1px solid #111}#sidebar li::before{content:'\23F5';display:inline-block;float:left;bottom:-.5em;position:relative}a.jumpto.sidebar-jump{color:inherit;text-decoration:none;display:block;height:100%;padding:.5em;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;transition:padding-left .3s;-webkit-transition:padding-left .3s;-moz-transition:padding-left .3s;-ms-transition:padding-left .3s;-o-transition:padding-left .3s}a.jumpto.sidebar-jump:hover{padding-left:1em;color:#555}#sidebar-link{width:1.1em}#sidebar-link.invis{visibility:hidden}#main.collapse div.passage-source{max-height:20em}div#content.simple{background-color:#fff}div#content.simple div#story-data,div#content.simple div.passage-card,div#content.simple div.passage-references,div#content.simple p.passage-tags{padding:1em;box-shadow:none;background-color:#fff;border:0}div#content.simple div.passage-references{border-top:1px solid #111}div#content.simple div.passage-source{border:0;padding:1em;background-color:#eee;min-height:unset}div#content.simple pre.hljs{background-color:#eee}.btn-close{color:#aaa;font-size:20px;text-decoration:none;padding:10px;position:absolute;right:7px;top:0}.btn-close:hover{color:#919191}.modale:before{content:"";display:none;background:rgba(0,0,0,.6);position:fixed;top:0;left:0;right:0;bottom:0;z-index:200}.opened:before{display:block}.opened .modal-dialog{transform:translate(0,0);top:10%}.modal-dialog{background:#fefefe;border:#333 solid 0;border-radius:5px;margin:auto;padding:1em;text-align:center;position:fixed;left:20%;top:-100%;z-index:210;width:60%;box-shadow:0 5px 10px rgba(0,0,0,.3);transform:translate(0,-500%);transition:transform .3s ease-out}.modal-body{padding:20px;overflow:auto;max-height:15em;text-align:center}.modal-footer,.modal-header{padding:10px 20px}.modal-header{border-bottom:#eee solid 1px}.modal-header h2{font-size:20px}.modal-footer{border-top:1px solid #ccc}.confirm-btn{float:left}.cancel-btn{float:right}.left-align{text-align:left}.pure-form select{padding:0}div.passage-footer{text-align:center;border:1px solid #111;transition:.3s all;overflow:hidden}div.passage-footer.closed{border:0}button.comment-open{color:#000}div.passage-footer button.comment-open{min-width:100%;transition:.3s all;font-size:1rem}div.passage-footer.closed button.comment-open{min-width:10%;font-size:1.2rem;color:#fff}div.passage-footer button.comment-open::after{float:right;content:"\00d7"}div.passage-footer.closed button.comment-open::after{content:none}div.comment-wrapper{margin:1em;overflow:auto;max-height:20em;transition:.3s all}div.passage-footer.closed div.comment-wrapper{margin:0}div.empty-comment.add-comment{text-align:center;color:#888;cursor:pointer;margin:.1em}div.empty-comment.add-comment:active,div.empty-comment.add-comment:hover{color:#111}div.comment-wrapper div.comment-readout:last-child{margin-bottom:1em;border-bottom:1px solid #eee}div.comment-readout div{overflow:hidden;text-overflow:ellipsis;white-space:pre;padding:1em;display:inline-block;height:1em}div.comment-readout:hover div{text-decoration:underline}div.comment-readout:nth-child(odd){background:#eee}div.comment-readout div.number{max-width:1em;float:left}div.comment-readout div.title{max-width:7em;float:left;font-weight:700}div.comment-readout div.content{max-width:72%}.modal-body .comment-content-out{white-space:pre-wrap;text-align:left}input#comment-title,textarea#comment-content{width:100%;margin:0}textarea#comment-content{height:10em}div.lint-btn-wrapper{text-align:center}div.errors{text-align:left}p.error-p{padding-left:1em;text-indent:-2em}span.error-msg{padding-left:1em;text-indent:1em}html.night .hljs{color:#eee;background:#151515}html.night .hljs-keyword,html.night .hljs-selector-tag,html.night .hljs-subst{color:#fff}html.night .hljs-section,html.night .hljs-selector-id,html.night .hljs-title{color:#f22}html.night .hljs-class .hljs-title,html.night .hljs-type{color:#2cc}html.night .hljs-attribute,html.night .hljs-name,html.night .hljs-tag{color:#4444f4}html.night td.hljs-ln-numbers{color:#555}html.night body{background:#111;color:#eee}html.night div#story-data,html.night div.passage-card{background-color:#333;box-shadow:0 0 3px #000}html.night div.passage-source{background-color:#151515}html.night div.passage-references,html.night p.passage-tags{background-color:#252525;border:0}html.night .passage-card .edit{color:#111}html.night div.comment-readout:nth-child(odd){background:#333}html.night div.comment-wrapper div.comment-readout:last-child{border-bottom:1px solid #333}html.night .pure-menu.pure-menu-horizontal{border-bottom:1px solid #333}html.night .pure-menu-children{border:1px solid #555;border-top:0}html.night .modal-dialog{background:#333;border:1px solid #444}html.night .modal-dialog input,html.night .modal-dialog select,html.night .modal-dialog textarea{color:#111}html.night .pure-form-message-inline{color:#aaa}html.night div.empty-comment.add-comment:active,html.night div.empty-comment.add-comment:hover{color:#eee}html.night div#content.simple{background-color:#333}html.night div#content.simple div#story-data,html.night div#content.simple div.passage-card,html.night div#content.simple div.passage-references,html.night div#content.simple p.passage-tags{padding:1em;box-shadow:none;background-color:#454545;border:0}html.night div#content.simple div.passage-references{border-top:1px solid #ccc}html.night div#content.simple div.passage-source{border:0;padding:1em;background-color:#333;min-height:unset}html.night div#content.simple div#main{background:#454545}html.night div#content.simple pre.hljs{background-color:#333}html.night #clear-filters{box-shadow:-1px 1px 2px #222}html.night a.jumpto{color:#7fdbff}html.night a.jumpto.sidebar-jump{color:#fff}html.night #sidebar{color:#fff;background-color:#222}html.night #sidebar li{border-color:#ccc} </style> <style type="text/css">.hljs-ln{border-collapse:collapse}.hljs-ln td{padding:0}.hljs-ln-n:before{content:attr(data-line-number)}</style></head> <body data-version="1.9.0" data-byline="Poof Proofing Format, for Twine 2, by Chapel"> <div class="modale" aria-hidden="true" role="dialog" aria-labelledby="modal-title"> <div class="modal-dialog"> <div class="modal-header"> <h2 id="modal-title">Title</h2> <a href="javascript:void(0)" tabindex="-1" class="btn-close closemodale" aria-hidden="true">×</a> </div> <div id="modal-body" class="modal-body">Body</div> <div id="modal-footer" class="modal-footer">Footer</div> </div> </div> <div class="pure-menu pure-menu-horizontal" role="navigation"> <a href="javascript:void(0)" id="sidebar-link" class="pure-menu-heading pure-menu-link" title="Passage List">❌</a> <ul class="pure-menu-list"> <li class="pure-menu-item pure-menu-has-children pure-menu-allow-hover"> <a href="javascript:void(0)" id="configs" class="pure-menu-link" title="Settings">⚙</a> <ul class="pure-menu-children"> <li class="pure-menu-item"><a id="night" href="javascript:void(0)" class="pure-menu-link on" title="Toggle night mode."><span></span>Dark Mode</a></li> <li class="pure-menu-item"><a id="simple" href="javascript:void(0)" class="pure-menu-link" title="Toggle a simpler view mode."><span></span>Simplified View</a></li> <li class="pure-menu-item"><a id="line-no" href="javascript:void(0)" class="pure-menu-link on" title="Toggle whether to show line numbers."><span></span>Line Numbers</a></li> <li class="pure-menu-item"><a id="collapse" href="javascript:void(0)" class="pure-menu-link on" title="Toggle whether to use a scrollbar for lengthy text."><span></span>Limit Passage Card Height</a></li> </ul> </li> <li class="pure-menu-item pure-menu-has-children pure-menu-allow-hover"> <a href="javascript:void(0)" id="menuLink1" class="pure-menu-link" title="View">View</a> <ul class="pure-menu-children"> <li class="pure-menu-item"><a id="passages" href="javascript:void(0)" class="pure-menu-link" title="View your passages.">Passages</a></li> <li class="pure-menu-item"><a id="javascript" href="javascript:void(0)" class="pure-menu-link" title="View your JavaScript code.">JavaScript</a></li> <li class="pure-menu-item"><a id="stylesheet" href="javascript:void(0)" class="pure-menu-link" title="View your stylesheet.">Stylesheet</a></li> </ul> </li> <li class="pure-menu-item pure-menu-has-children pure-menu-allow-hover"> <a href="javascript:void(0)" id="menuLink2" class="pure-menu-link" title="Tools">Tools</a> <ul class="pure-menu-children"> <li class="pure-menu-item"><a id="tools-filter" href="javascript:void(0)" class="pure-menu-link" title="Filter the displayed passages.">Filter...</a></li> <li class="pure-menu-item"><a id="tools-sort" href="javascript:void(0)" class="pure-menu-link" title="Sort the displayed passages.">Sort...</a></li> <li class="pure-menu-item"><a id="tools-find" href="javascript:void(0)" class="pure-menu-link" title="Find a specific passage by title.">Find...</a></li> <li class="pure-menu-item"><a id="tools-starting" href="javascript:void(0)" class="pure-menu-link" title="Locate the starting passage.">Start</a></li> </ul> </li> <li class="pure-menu-item pure-menu-has-children pure-menu-allow-hover"> <a href="javascript:void(0)" id="menuLink3" class="pure-menu-link" title="Export">Export</a> <ul class="pure-menu-children"> <li class="pure-menu-item"><a id="twee-export" href="javascript:void(0)" class="pure-menu-link" title="Export to plain text in Twee notation.">Twee</a></li> <li class="pure-menu-item"><a id="pdf-export" href="javascript:void(0)" class="pure-menu-link" title="Export to PDF format for printing or sharing.">PDF</a></li> <li class="pure-menu-item"><a id="archive-export" href="javascript:void(0)" class="pure-menu-link" title="Export to a Twine 2 archive HTML file.">Archive</a></li> <li class="pure-menu-item"><a id="json-export" href="javascript:void(0)" class="pure-menu-link" title="Export passage data in JSON format.">JSON</a></li> <li class="pure-menu-item"><a id="config-export" href="javascript:void(0)" class="pure-menu-link" title="Create a JSON configuration for your current settings.">Poof Config</a></li> </ul> </li> <li class="pure-menu-item pure-menu-has-children pure-menu-allow-hover"> <a href="javascript:void(0)" id="menuLink4" class="pure-menu-link" title="Comments">Comments</a> <ul class="pure-menu-children"> <li class="pure-menu-item"><a id="comments-export" href="javascript:void(0)" class="pure-menu-link" title="Export comments to file.">Export</a></li> <li class="pure-menu-item"><a id="comments-import" href="javascript:void(0)" class="pure-menu-link" title="Import comments from a file.">Import...</a></li> </ul> </li> <li class="pure-menu-item pure-menu-has-children pure-menu-allow-hover"> <a href="javascript:void(0)" id="menuLink5" class="pure-menu-link" title="About">About</a> <ul class="pure-menu-children"> <li class="pure-menu-item"><a id="website" target="_blank" href="https://twinelab.net/poof" class="pure-menu-link" rel="noopener">Website</a></li> <li class="pure-menu-item"><a id="bugs" target="_blank" href="https://github.com/ChapelR/poof/issues/new" class="pure-menu-link" rel="noopener">Report Bugs</a></li> <li class="pure-menu-item"><a id="about" href="javascript:void(0)" class="pure-menu-link" title="About this story format.">About</a></li> </ul> </li> </ul> </div> <div id="sidebar" class="" role="complementary"> <h3>Jump To…</h3> <ul><li><a href="javascript:void(0)" title="Jump" class="jumpto sidebar-jump">Start</a></li><li><a href="javascript:void(0)" title="Jump" class="jumpto sidebar-jump">StoryCaption</a></li><li><a href="javascript:void(0)" title="Jump" class="jumpto sidebar-jump">Character Select</a></li><li><a href="javascript:void(0)" title="Jump" class="jumpto sidebar-jump">John Anderson</a></li><li><a href="javascript:void(0)" title="Jump" class="jumpto sidebar-jump">JA00S</a></li><li><a href="javascript:void(0)" title="Jump" class="jumpto sidebar-jump">JA10S</a></li><li><a href="javascript:void(0)" title="Jump" class="jumpto sidebar-jump">JA1A</a></li><li><a href="javascript:void(0)" title="Jump" class="jumpto sidebar-jump">JA1B</a></li><li><a href="javascript:void(0)" title="Jump" class="jumpto sidebar-jump">JA2A</a></li><li><a href="javascript:void(0)" title="Jump" class="jumpto sidebar-jump">JA3A</a></li><li><a href="javascript:void(0)" title="Jump" class="jumpto sidebar-jump">JA3B</a></li><li><a href="javascript:void(0)" title="Jump" class="jumpto sidebar-jump">JA3C</a></li><li><a href="javascript:void(0)" title="Jump" class="jumpto sidebar-jump">JA3D</a></li><li><a href="javascript:void(0)" title="Jump" class="jumpto sidebar-jump">JA3E</a></li><li><a href="javascript:void(0)" title="Jump" class="jumpto sidebar-jump">JA3F</a></li><li><a href="javascript:void(0)" title="Jump" class="jumpto sidebar-jump">JA4A</a></li><li><a href="javascript:void(0)" title="Jump" class="jumpto sidebar-jump">JA4B</a></li><li><a href="javascript:void(0)" title="Jump" class="jumpto sidebar-jump">JA4C</a></li><li><a href="javascript:void(0)" title="Jump" class="jumpto sidebar-jump">JA4D</a></li><li><a href="javascript:void(0)" title="Jump" class="jumpto sidebar-jump">JA5A</a></li><li><a href="javascript:void(0)" title="Jump" class="jumpto sidebar-jump">JA5B</a></li><li><a href="javascript:void(0)" title="Jump" class="jumpto sidebar-jump">JA90S</a></li><li><a href="javascript:void(0)" title="Jump" class="jumpto sidebar-jump">Jamal Washington</a></li><li><a href="javascript:void(0)" title="Jump" class="jumpto sidebar-jump">JW00S</a></li><li><a href="javascript:void(0)" title="Jump" class="jumpto sidebar-jump">JW00S2</a></li><li><a href="javascript:void(0)" title="Jump" class="jumpto sidebar-jump">JW10S</a></li><li><a href="javascript:void(0)" title="Jump" class="jumpto sidebar-jump">JW1A</a></li><li><a href="javascript:void(0)" title="Jump" class="jumpto sidebar-jump">JW1B</a></li><li><a href="javascript:void(0)" title="Jump" class="jumpto sidebar-jump">JW1C</a></li><li><a href="javascript:void(0)" title="Jump" class="jumpto sidebar-jump">JW1D</a></li><li><a href="javascript:void(0)" title="Jump" class="jumpto sidebar-jump">JW20S</a></li><li><a href="javascript:void(0)" title="Jump" class="jumpto sidebar-jump">JW2A</a></li><li><a href="javascript:void(0)" title="Jump" class="jumpto sidebar-jump">JW2B</a></li><li><a href="javascript:void(0)" title="Jump" class="jumpto sidebar-jump">JW2C</a></li><li><a href="javascript:void(0)" title="Jump" class="jumpto sidebar-jump">JW2D</a></li><li><a href="javascript:void(0)" title="Jump" class="jumpto sidebar-jump">JW2E</a></li><li><a href="javascript:void(0)" title="Jump" class="jumpto sidebar-jump">JW2F</a></li><li><a href="javascript:void(0)" title="Jump" class="jumpto sidebar-jump">JW3A</a></li><li><a href="javascript:void(0)" title="Jump" class="jumpto sidebar-jump">JW3B</a></li><li><a href="javascript:void(0)" title="Jump" class="jumpto sidebar-jump">JW3C</a></li><li><a href="javascript:void(0)" title="Jump" class="jumpto sidebar-jump">JW3D</a></li><li><a href="javascript:void(0)" title="Jump" class="jumpto sidebar-jump">JW4A</a></li><li><a href="javascript:void(0)" title="Jump" class="jumpto sidebar-jump">JW4B</a></li><li><a href="javascript:void(0)" title="Jump" class="jumpto sidebar-jump">JW5A</a></li><li><a href="javascript:void(0)" title="Jump" class="jumpto sidebar-jump">JW5B</a></li><li><a href="javascript:void(0)" title="Jump" class="jumpto sidebar-jump">JW90S</a></li><li><a href="javascript:void(0)" title="Jump" class="jumpto sidebar-jump">Michael Thompson</a></li><li><a href="javascript:void(0)" title="Jump" class="jumpto sidebar-jump">MT00S</a></li><li><a href="javascript:void(0)" title="Jump" class="jumpto sidebar-jump">MT1A</a></li><li><a href="javascript:void(0)" title="Jump" class="jumpto sidebar-jump">MT20S</a></li><li><a href="javascript:void(0)" title="Jump" class="jumpto sidebar-jump">MT2A</a></li><li><a href="javascript:void(0)" title="Jump" class="jumpto sidebar-jump">MT2B</a></li><li><a href="javascript:void(0)" title="Jump" class="jumpto sidebar-jump">MT2C</a></li><li><a href="javascript:void(0)" title="Jump" class="jumpto sidebar-jump">MT2D</a></li><li><a href="javascript:void(0)" title="Jump" class="jumpto sidebar-jump">MT2E</a></li><li><a href="javascript:void(0)" title="Jump" class="jumpto sidebar-jump">MT3A</a></li><li><a href="javascript:void(0)" title="Jump" class="jumpto sidebar-jump">MT4A</a></li><li><a href="javascript:void(0)" title="Jump" class="jumpto sidebar-jump">MT5A</a></li><li><a href="javascript:void(0)" title="Jump" class="jumpto sidebar-jump">MT5B</a></li><li><a href="javascript:void(0)" title="Jump" class="jumpto sidebar-jump">MT5C</a></li><li><a href="javascript:void(0)" title="Jump" class="jumpto sidebar-jump">MT5D</a></li><li><a href="javascript:void(0)" title="Jump" class="jumpto sidebar-jump">MT5E</a></li><li><a href="javascript:void(0)" title="Jump" class="jumpto sidebar-jump">MT5F</a></li><li><a href="javascript:void(0)" title="Jump" class="jumpto sidebar-jump">MT5G</a></li><li><a href="javascript:void(0)" title="Jump" class="jumpto sidebar-jump">MT6A</a></li><li><a href="javascript:void(0)" title="Jump" class="jumpto sidebar-jump">MT6E</a></li><li><a href="javascript:void(0)" title="Jump" class="jumpto sidebar-jump">MT80S</a></li><li><a href="javascript:void(0)" title="Jump" class="jumpto sidebar-jump">MT90S</a></li><li><a href="javascript:void(0)" title="Jump" class="jumpto sidebar-jump">StoryInit</a></li></ul> </div> <div id="content" role="main" class=""><div id="overlay" class="hide"><div class="loader hide">Loading...</div><div id="story-javascript" class="passage-card hide"><h2 class="passage-title">Story JavaScript</h2><div class="passage-source"><pre data-language="javascript" class="story-code javascript hljs"><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-comment">//-------------FONT CHOICE SETTINGS------------//</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-keyword">var</span> settingFontFamily = [<span class="hljs-string">'Sans Serif'</span>, <span class="hljs-string">'Serif'</span>, <span class="hljs-string">'Monospace'</span>, <span class="hljs-string">'Open Dyslexic'</span>]</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="4"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-keyword">var</span> fontFamily = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="5"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-keyword">var</span> $html = $(<span class="hljs-string">'html'</span>)</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="6"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  $html.removeClass(<span class="hljs-string">'sansserif serif monospace dyslexic'</span>)</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="7"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="8"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-keyword">switch</span> (settings.fontFamily) {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="9"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-keyword">case</span> <span class="hljs-string">'Sans Serif'</span>:</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="10"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      $html.addClass(<span class="hljs-string">'sansserif'</span>)</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="11"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      <span class="hljs-keyword">break</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="12"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-keyword">case</span> <span class="hljs-string">'Serif'</span>:</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="13"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      $html.addClass(<span class="hljs-string">'serif'</span>)</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="14"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      <span class="hljs-keyword">break</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="15"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-keyword">case</span> <span class="hljs-string">'Monospace'</span>:</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="16"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      $html.addClass(<span class="hljs-string">'monospace'</span>)</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="17"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      <span class="hljs-keyword">break</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="18"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-keyword">case</span> <span class="hljs-string">'Open Dyslexic'</span>:</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="19"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      $html.addClass(<span class="hljs-string">'dyslexic'</span>)</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="20"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      <span class="hljs-keyword">break</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="21"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="22"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="23"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">Setting.addList(<span class="hljs-string">'fontFamily'</span>, {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="24"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attr">label</span>: <span class="hljs-string">'Change font type'</span>,</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="25"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attr">desc</span>: <span class="hljs-string">'Choose between a Serif, Sans-serif, or the OpenDyslexic Font'</span>,</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="26"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attr">list</span>: settingFontFamily,</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="27"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attr">default</span>: <span class="hljs-string">'Sans Serif'</span>,</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="28"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attr">onInit</span>: fontFamily,</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="29"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attr">onChange</span>: fontFamily,</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="30"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">})</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="31"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="32"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-comment">/* font size */</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="33"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="34"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-keyword">var</span> settingFontSize = [<span class="hljs-string">'75%'</span>, <span class="hljs-string">'100%'</span>, <span class="hljs-string">'125%'</span>, <span class="hljs-string">'150%'</span>]</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="35"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-keyword">var</span> resizeFont = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="36"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-keyword">var</span> size = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'passages'</span>)</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="37"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-keyword">switch</span> (settings.fontSize) {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="38"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-keyword">case</span> <span class="hljs-string">'75%'</span>:</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="39"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      size.style.fontSize = <span class="hljs-string">'75%'</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="40"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      <span class="hljs-keyword">break</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="41"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-keyword">case</span> <span class="hljs-string">'100%'</span>:</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="42"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      size.style.fontSize = <span class="hljs-string">'100%'</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="43"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      <span class="hljs-keyword">break</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="44"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-keyword">case</span> <span class="hljs-string">'125%'</span>:</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="45"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      size.style.fontSize = <span class="hljs-string">'125%'</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="46"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      <span class="hljs-keyword">break</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="47"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-keyword">case</span> <span class="hljs-string">'150%'</span>:</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="48"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      size.style.fontSize = <span class="hljs-string">'150%'</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="49"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      <span class="hljs-keyword">break</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="50"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="51"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="52"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">Setting.addList(<span class="hljs-string">'fontSize'</span>, {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="53"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attr">label</span>: <span class="hljs-string">'Change Font Size'</span>,</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="54"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attr">list</span>: settingFontSize,</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="55"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attr">default</span>: <span class="hljs-string">'100%'</span>,</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="56"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attr">onInit</span>: resizeFont,</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="57"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attr">onChange</span>: resizeFont,</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="58"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">})</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="59"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="60"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-comment">/* line height */</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="61"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="62"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-keyword">var</span> settingLineHeight = [<span class="hljs-string">'75%'</span>, <span class="hljs-string">'100%'</span>, <span class="hljs-string">'125%'</span>, <span class="hljs-string">'150%'</span>]</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="63"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-keyword">var</span> lineHeight = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="64"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-keyword">var</span> $html = $(<span class="hljs-string">'html'</span>)</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="65"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  $html.removeClass(<span class="hljs-string">'lh-small lh-medium lh-large lh-biggest'</span>)</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="66"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-keyword">switch</span> (settings.lineheight) {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="67"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-keyword">case</span> <span class="hljs-string">'75%'</span>:</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="68"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      $html.addClass(<span class="hljs-string">'lh-small'</span>)</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="69"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      <span class="hljs-keyword">break</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="70"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-keyword">case</span> <span class="hljs-string">'100%'</span>:</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="71"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      $html.addClass(<span class="hljs-string">'lh-medium'</span>)</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="72"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      <span class="hljs-keyword">break</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="73"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-keyword">case</span> <span class="hljs-string">'125%'</span>:</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="74"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      $html.addClass(<span class="hljs-string">'lh-large'</span>)</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="75"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      <span class="hljs-keyword">break</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="76"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-keyword">case</span> <span class="hljs-string">'150%'</span>:</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="77"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      $html.addClass(<span class="hljs-string">'lh-biggest'</span>)</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="78"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      <span class="hljs-keyword">break</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="79"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="80"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="81"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">Setting.addList(<span class="hljs-string">'lineheight'</span>, {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="82"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attr">label</span>: <span class="hljs-string">'Change Line Height'</span>,</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="83"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attr">default</span>: <span class="hljs-string">'100%'</span>,</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="84"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attr">list</span>: settingLineHeight,</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="85"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attr">onInit</span>: lineHeight,</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="86"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attr">onChange</span>: lineHeight,</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="87"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">})</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="88"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="89"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-comment">/* justification */</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="90"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="91"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-keyword">var</span> settingtextAlign = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="92"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-keyword">if</span> (settings.textalign) {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="93"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    $(<span class="hljs-string">'html'</span>).addClass(<span class="hljs-string">'justified'</span>)</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="94"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  } <span class="hljs-keyword">else</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="95"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    $(<span class="hljs-string">'html'</span>).removeClass(<span class="hljs-string">'justified'</span>)</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="96"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="97"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="98"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">Setting.addToggle(<span class="hljs-string">'textalign'</span>, {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="99"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attr">label</span>: <span class="hljs-string">'Change Text Alignment'</span>,</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="100"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attr">desc</span>: <span class="hljs-string">'If enabled, the text will be justified'</span>,</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="101"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attr">default</span>: <span class="hljs-literal">false</span>,</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="102"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attr">onInit</span>: settingtextAlign,</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="103"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attr">onChange</span>: settingtextAlign,</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="104"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">})</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="105"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="106"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-comment">//-------------KEYBOARD NAVIGATION------------//</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="107"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="108"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-keyword">var</span> KBIntervalID = <span class="hljs-number">0</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="109"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">$(<span class="hljs-built_in">document</span>).on(<span class="hljs-string">":passagerender"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">ev</span>) </span>{</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="110"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    clearInterval(KBIntervalID);</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="111"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    UpdateLinks(ev.content);</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="112"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-comment">// Search passages for links every 300ms, just in case they get updated, and marks them for key clicks</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="113"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    KBIntervalID = setInterval(UpdateLinks, <span class="hljs-number">300</span>);</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="114"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">});</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="115"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-comment">// Adds key shortcut indicators to links in passage if there are less than 11 links in the passsage.</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="116"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">UpdateLinks</span>(<span class="hljs-params">Container</span>) </span>{</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="117"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-comment">// Enables keyboard shortcuts on passages that do not have the "DisableKeyLinks" tag</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="118"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-keyword">if</span> (!tags().includes(<span class="hljs-string">"DisableKeyLinks"</span>)) {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="119"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">var</span> Links, i;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="120"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> Container === <span class="hljs-string">"undefined"</span>) {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="121"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">            Container = <span class="hljs-built_in">document</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="122"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">            Links = $(<span class="hljs-string">"#passages a"</span>).toArray();</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="123"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        } <span class="hljs-keyword">else</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="124"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">            Links = $(Container).find(<span class="hljs-string">"a"</span>).toArray();</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="125"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="126"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">if</span> (Links.length &gt; <span class="hljs-number">0</span>) {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="127"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">            <span class="hljs-keyword">for</span> (i = Links.length - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i--) {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="128"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">                <span class="hljs-keyword">if</span> ($(Links[i]).data(<span class="hljs-string">"nokeys"</span>) || $(Links[i]).parent().data(<span class="hljs-string">"nokeys"</span>)) {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="129"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">                    Links.deleteAt(i);</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="130"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">                }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="131"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">            }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="132"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="133"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">if</span> (Links.length === <span class="hljs-number">1</span>) {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="134"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">            <span class="hljs-keyword">if</span> (!Links[<span class="hljs-number">0</span>].id.includes(<span class="hljs-string">"Link"</span>)) {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="135"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">                Links[<span class="hljs-number">0</span>].id = <span class="hljs-string">"NextLink"</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="136"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">            }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="137"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (Links.length &gt;= <span class="hljs-number">1</span> &amp;&amp; Links.length &lt;= <span class="hljs-number">10</span>) {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="138"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">            <span class="hljs-keyword">var</span> n = <span class="hljs-number">1</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="139"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">            <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; Links.length; i++) {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="140"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">                <span class="hljs-keyword">if</span> (!Links[i].id.includes(<span class="hljs-string">"Link"</span>)) {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="141"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">                    <span class="hljs-keyword">while</span> ($(Container).find(<span class="hljs-string">"#Link"</span> + n).length) {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="142"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">                        ++n;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="143"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">                        <span class="hljs-keyword">if</span> (n &gt; <span class="hljs-number">10</span>) {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="144"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">                            <span class="hljs-keyword">break</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="145"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">                        }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="146"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">                    }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="147"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">                    <span class="hljs-keyword">if</span> (n &lt; <span class="hljs-number">10</span>) {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="148"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">                        $(<span class="hljs-string">"</span><sup><span class="hljs-string">["</span> + n + <span class="hljs-string">"]</span></sup><span class="hljs-string">"</span>).appendTo(Links[i]);</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="149"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">                        Links[i].id = <span class="hljs-string">"Link"</span> + n;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="150"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">                    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (n === <span class="hljs-number">10</span>) {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="151"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">                        $(<span class="hljs-string">"</span><sup><span class="hljs-string">[0]</span></sup><span class="hljs-string">"</span>).appendTo(Links[i]);</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="152"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">                        Links[i].id = <span class="hljs-string">"Link0"</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="153"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">                        <span class="hljs-keyword">break</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="154"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">                    } <span class="hljs-keyword">else</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="155"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">                        <span class="hljs-keyword">break</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="156"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">                    }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="157"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">                }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="158"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">            }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="159"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="160"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="161"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="162"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">$(<span class="hljs-built_in">document</span>).on(<span class="hljs-string">"keyup"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="163"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-comment">// Enables keyboard shortcuts on passages that do not have the "DisableKeyLinks" tag</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="164"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-keyword">if</span> (!tags().includes(<span class="hljs-string">"DisableKeyLinks"</span>) &amp;&amp; ($(<span class="hljs-string">"input:focus"</span>).length === <span class="hljs-number">0</span>)) {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="165"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-comment">// Trigger next link click on right arrow key or "1" (normal and numpad)</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="166"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">if</span> (((e.key == <span class="hljs-string">"ArrowRight"</span>) || (e.key == <span class="hljs-string">"1"</span>) || (e.keyCode === <span class="hljs-number">97</span>)) &amp;&amp; ($(<span class="hljs-string">"#NextLink"</span>).length &gt; <span class="hljs-number">0</span>)) {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="167"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">            <span class="hljs-keyword">if</span> (!(tags().includes(<span class="hljs-string">"IgnoreArrowKeys"</span>) &amp;&amp; (e.key == <span class="hljs-string">"ArrowRight"</span>))) {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="168"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">                e.preventDefault();</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="169"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">                $(<span class="hljs-string">"#NextLink"</span>).click();</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="170"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="171"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">            }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="172"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        } <span class="hljs-keyword">else</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="173"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">            <span class="hljs-comment">// Trigger link click on keys "0" through "9"</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="174"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">            <span class="hljs-keyword">if</span> ((e.keyCode &gt; <span class="hljs-number">47</span>) &amp;&amp; (e.keyCode &lt; <span class="hljs-number">58</span>)) {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="175"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">                <span class="hljs-keyword">if</span> ($(<span class="hljs-string">"#Link"</span> + (e.keyCode - <span class="hljs-number">48</span>)).length) {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="176"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">                    e.preventDefault();</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="177"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">                    $(<span class="hljs-string">"#Link"</span> + (e.keyCode - <span class="hljs-number">48</span>)).click();</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="178"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">                    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="179"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">                }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="180"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">            }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="181"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">            <span class="hljs-comment">// Trigger link click on numpad keys "0" through "9"</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="182"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">            <span class="hljs-keyword">if</span> ((e.keyCode &gt; <span class="hljs-number">95</span>) &amp;&amp; (e.keyCode &lt; <span class="hljs-number">106</span>)) {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="183"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">                <span class="hljs-keyword">if</span> ($(<span class="hljs-string">"#Link"</span> + (e.keyCode - <span class="hljs-number">96</span>)).length) {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="184"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">                    e.preventDefault();</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="185"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">                    $(<span class="hljs-string">"#Link"</span> + (e.keyCode - <span class="hljs-number">96</span>)).click();</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="186"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">                    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="187"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">                }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="188"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">            }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="189"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="190"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-comment">// Trigger random click on "." or "r" key</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="191"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">if</span> ((e.key == <span class="hljs-string">"."</span>) || (e.key == <span class="hljs-string">"r"</span>)) {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="192"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">            e.preventDefault();</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="193"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">            <span class="hljs-keyword">var</span> Links = $(<span class="hljs-string">"#passages a"</span>), n, UsableLinks = [];</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="194"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">            <span class="hljs-keyword">if</span> (Links.length &gt; <span class="hljs-number">0</span>) {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="195"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">                <span class="hljs-keyword">for</span> (n = <span class="hljs-number">0</span>; n &lt; Links.length; n++) {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="196"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">                    <span class="hljs-keyword">if</span> (!$(Links[n]).data(<span class="hljs-string">"nokey"</span>)) {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="197"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">                        UsableLinks.push(n);</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="198"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">                    }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="199"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">                }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="200"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">                <span class="hljs-keyword">if</span> (UsableLinks.length &gt; <span class="hljs-number">0</span>) {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="201"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">                    n = random(UsableLinks.length - <span class="hljs-number">1</span>);</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="202"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">                    Links[UsableLinks[n]].click();</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="203"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">                    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="204"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">                }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="205"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">            }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="206"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="207"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-comment">// Trigger back click on left arrow key or backquote</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="208"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">if</span> ((e.key == <span class="hljs-string">"ArrowLeft"</span>) || (e.key == <span class="hljs-string">"`"</span>)) {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="209"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">            <span class="hljs-keyword">if</span> ((!tags().includes(<span class="hljs-string">"IgnoreArrowKeys"</span>)) || (e.key != <span class="hljs-string">"ArrowLeft"</span>)) {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="210"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">                e.preventDefault();</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="211"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">                Engine.backward();</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="212"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="213"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">            }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="214"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="215"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="216"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">});</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="217"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="218"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-comment">//-------------STATUS/PROGRESS BARS------------//</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="219"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="220"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-built_in">window</span>.updateBars = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="221"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-keyword">let</span> sysdis = State.variables.sysdis || <span class="hljs-number">0</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="222"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-keyword">let</span> legal = State.variables.legal || <span class="hljs-number">0</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="223"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-keyword">let</span> wealth = State.variables.wealth || <span class="hljs-number">0</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="224"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-keyword">let</span> health = State.variables.health || <span class="hljs-number">0</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="225"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="226"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-comment">// Normal scale: Higher = More Danger</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="227"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getStandardBarColor</span>(<span class="hljs-params">value</span>) </span>{</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="228"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">if</span> (value &lt;= <span class="hljs-number">30</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">"SpringGreen"</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="229"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">if</span> (value &lt;= <span class="hljs-number">60</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">"Gold"</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="230"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">return</span> <span class="hljs-string">"Tomato"</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="231"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="232"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="233"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-comment">// Inverted scale: Lower = More Danger</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="234"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getInvertedBarColor</span>(<span class="hljs-params">value</span>) </span>{</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="235"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">if</span> (value &gt;= <span class="hljs-number">70</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">"SpringGreen"</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="236"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">if</span> (value &gt;= <span class="hljs-number">40</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">"Gold"</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="237"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">return</span> <span class="hljs-string">"Tomato"</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="238"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="239"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="240"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">updateBar</span>(<span class="hljs-params">barId, value, colorFunction</span>) </span>{</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="241"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">let</span> barElement = <span class="hljs-built_in">document</span>.getElementById(barId);</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="242"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">if</span> (barElement) {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="243"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">            barElement.style.width = value + <span class="hljs-string">"%"</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="244"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">            barElement.style.background = colorFunction(value);</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="245"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="246"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="247"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="248"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    updateBar(<span class="hljs-string">"sysdis-bar"</span>, sysdis, getStandardBarColor);</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="249"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    updateBar(<span class="hljs-string">"legal-bar"</span>, legal, getStandardBarColor);</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="250"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    updateBar(<span class="hljs-string">"wealth-bar"</span>, wealth, getInvertedBarColor);</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="251"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    updateBar(<span class="hljs-string">"health-bar"</span>, health, getInvertedBarColor);</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="252"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">};</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="253"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="254"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">$(<span class="hljs-built_in">document</span>).on(<span class="hljs-string">':passageend'</span>, updateBars);</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="255"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="256"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-comment">//---------------SPEECH BOX MACRO--------------//</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="257"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="258"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">;(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="259"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-comment">// v1.1.1</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="260"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-meta">  'use strict'</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="261"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="262"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-keyword">var</span> characters = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Map</span>()</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="263"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="264"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addCharacter</span>(<span class="hljs-params">name, displayname, icon</span>) </span>{</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="265"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-keyword">if</span> (icon === <span class="hljs-literal">undefined</span> &amp;&amp; displayname) {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="266"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      icon = displayname</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="267"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      displayname = <span class="hljs-literal">null</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="268"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="269"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-keyword">if</span> (State.length) {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="270"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'addCharacter() -&gt; must be called before story starts'</span>)</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="271"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="272"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-keyword">if</span> (!name || !icon) {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="273"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      <span class="hljs-built_in">console</span>.error(<span class="hljs-string">'addCharacter() -&gt; invalid arguments'</span>)</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="274"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      <span class="hljs-keyword">return</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="275"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="276"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-keyword">if</span> (characters.has(name)) {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="277"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      <span class="hljs-built_in">console</span>.error(<span class="hljs-string">'addCharacter() -&gt; overwriting character "'</span> + name + <span class="hljs-string">'"'</span>)</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="278"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="279"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    characters.set(name, { <span class="hljs-attr">displayName</span>: displayname, <span class="hljs-attr">image</span>: icon })</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="280"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="281"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="282"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">say</span>(<span class="hljs-params">$output, character, text, imgSrc</span>) </span>{</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="283"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-comment">//</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="284"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-keyword">var</span> $box = $(<span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'div'</span>)).addClass(</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="285"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      Util.slugify(character) + <span class="hljs-string">' say'</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="286"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    )</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="287"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="288"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-comment">// portrait</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="289"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-keyword">var</span> _img = characters.has(character)</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="290"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      ? characters.get(character).image</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="291"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      : <span class="hljs-literal">null</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="292"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-keyword">var</span> $img = $(<span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'img'</span>)).attr(</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="293"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      <span class="hljs-string">'src'</span>,</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="294"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      imgSrc || _img || <span class="hljs-string">''</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="295"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    )</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="296"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="297"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-keyword">if</span> ($img.attr(<span class="hljs-string">'src'</span>) &amp;&amp; $img.attr(<span class="hljs-string">'src'</span>).trim()) {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="298"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      $box.append($img)</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="299"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="300"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="301"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-comment">// name and content boxes</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="302"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-keyword">var</span> _name = character.toUpperFirst()</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="303"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-keyword">if</span> (characters.has(character) &amp;&amp; characters.get(character).displayName) {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="304"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      _name = characters.get(character).displayName</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="305"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="306"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="307"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    $box</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="308"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      .append($(<span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'p'</span>)).wiki(_name))</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="309"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      .append($(<span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'p'</span>)).wiki(text))</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="310"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="311"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-keyword">if</span> ($output) {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="312"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      <span class="hljs-keyword">if</span> (!($output <span class="hljs-keyword">instanceof</span> $)) {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="313"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        $output = $($output)</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="314"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="315"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      $box.appendTo($output)</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="316"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="317"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="318"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-keyword">return</span> $box</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="319"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="320"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="321"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  setup.say = say</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="322"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  setup.addCharacter = addCharacter</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="323"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="324"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  Macro.add(<span class="hljs-string">'character'</span>, {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="325"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-comment">// character macro</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="326"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    handler: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="327"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      addCharacter(<span class="hljs-keyword">this</span>.args[<span class="hljs-number">0</span>], <span class="hljs-keyword">this</span>.args[<span class="hljs-number">1</span>], <span class="hljs-keyword">this</span>.args[<span class="hljs-number">2</span>])</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="328"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    },</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="329"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  })</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="330"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="331"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  $(<span class="hljs-built_in">document</span>).one(<span class="hljs-string">':passagestart'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="332"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-comment">// construct array of character names</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="333"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-keyword">var</span> names = <span class="hljs-built_in">Array</span>.from(characters.keys())</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="334"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    names.push(<span class="hljs-string">'say'</span>)</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="335"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-comment">// generate macros</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="336"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    Macro.add(names, {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="337"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      <span class="hljs-attr">tags</span>: <span class="hljs-literal">null</span>,</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="338"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      <span class="hljs-attr">handler</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="339"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.name !== <span class="hljs-string">'say'</span>) {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="340"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">          say(<span class="hljs-keyword">this</span>.output, <span class="hljs-keyword">this</span>.name, <span class="hljs-keyword">this</span>.payload[<span class="hljs-number">0</span>].contents)</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="341"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        } <span class="hljs-keyword">else</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="342"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">          say(<span class="hljs-keyword">this</span>.output, <span class="hljs-keyword">this</span>.args[<span class="hljs-number">0</span>], <span class="hljs-keyword">this</span>.payload[<span class="hljs-number">0</span>].contents, <span class="hljs-keyword">this</span>.args[<span class="hljs-number">1</span>])</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="343"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="344"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      },</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="345"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    })</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="346"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  })</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="347"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">})()</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="348"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="349"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-comment">//-------------CLICK TO PROCEED MACRO------------//</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="350"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="351"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">;<span class="hljs-function">(<span class="hljs-params">(</span>) =&gt;</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="352"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-string">'use strict'</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="353"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="354"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  $(<span class="hljs-built_in">document</span>).on(<span class="hljs-string">':passageinit'</span>, () =&gt; {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="355"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    CTP.Logs.forEach(<span class="hljs-function">(<span class="hljs-params">_, id</span>) =&gt;</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="356"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      <span class="hljs-keyword">if</span> (!CTP.Repository.get(id)?.persist) CTP.Logs.delete(id)</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="357"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    })</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="358"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    CTP.Repository.forEach(<span class="hljs-function">(<span class="hljs-params">{ persist }, id</span>) =&gt;</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="359"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      <span class="hljs-keyword">if</span> (!persist) CTP.Repository.delete(id)</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="360"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    })</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="361"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  })</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="362"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="363"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-keyword">var</span> CTP = <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_CTP</span> </span>{</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="364"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-keyword">constructor</span>(id, persist = false) {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="365"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      <span class="hljs-keyword">this</span>.stack = []</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="366"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      <span class="hljs-keyword">this</span>.clears = []</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="367"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      <span class="hljs-keyword">this</span>.options = {}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="368"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      <span class="hljs-keyword">if</span> (!id?.trim()) <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">`No ID specified!`</span>)</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="369"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      <span class="hljs-keyword">this</span>.id = id</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="370"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      <span class="hljs-keyword">this</span>.persist = persist</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="371"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      _CTP.Repository.set(id, <span class="hljs-keyword">this</span>)</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="372"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="373"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-keyword">static</span> get Repository() {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="374"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      <span class="hljs-keyword">if</span> (!setup[<span class="hljs-string">'@CTP/Repository'</span>]) setup[<span class="hljs-string">'@CTP/Repository'</span>] = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Map</span>()</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="375"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      <span class="hljs-keyword">return</span> setup[<span class="hljs-string">'@CTP/Repository'</span>]</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="376"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="377"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-keyword">static</span> get Logs() {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="378"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      <span class="hljs-keyword">if</span> (!variables()[<span class="hljs-string">'@CTP/Logs'</span>]) variables()[<span class="hljs-string">'@CTP/Logs'</span>] = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Map</span>()</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="379"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      <span class="hljs-keyword">return</span> variables()[<span class="hljs-string">'@CTP/Logs'</span>]</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="380"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="381"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    get log() {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="382"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      <span class="hljs-keyword">if</span> (!_CTP.Logs.get(<span class="hljs-keyword">this</span>.id))</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="383"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        _CTP.Logs.set(<span class="hljs-keyword">this</span>.id, { <span class="hljs-attr">lastClear</span>: <span class="hljs-number">-1</span>, <span class="hljs-attr">index</span>: <span class="hljs-number">-1</span>, <span class="hljs-attr">seen</span>: <span class="hljs-number">-1</span> })</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="384"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      <span class="hljs-keyword">return</span> _CTP.Logs.get(<span class="hljs-keyword">this</span>.id)</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="385"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="386"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-keyword">static</span> getCTP(id) {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="387"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      <span class="hljs-keyword">return</span> _CTP.Repository.get(id)</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="388"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="389"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    add(content, options = {}) {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="390"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      <span class="hljs-keyword">if</span> (options.clear) <span class="hljs-keyword">this</span>.clears.push(<span class="hljs-keyword">this</span>.stack.length)</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="391"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      <span class="hljs-keyword">this</span>.stack.push({</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="392"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        options,</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="393"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        content,</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="394"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-attr">index</span>: <span class="hljs-keyword">this</span>.stack.length,</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="395"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-attr">element</span>: $(),</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="396"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      })</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="397"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="398"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="399"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    print(index) {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="400"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      <span class="hljs-keyword">const</span> { content, <span class="hljs-attr">options</span>: iOpts } = <span class="hljs-keyword">this</span>.stack[index]</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="401"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      <span class="hljs-keyword">const</span> options = {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="402"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        ...this.options,</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="403"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        ...iOpts,</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="404"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="405"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      <span class="hljs-keyword">const</span> element = $(<span class="hljs-built_in">document</span>.createElement(options.element || <span class="hljs-string">'span'</span>))</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="406"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        .addClass(<span class="hljs-string">'--macro-ctp-hidden'</span>)</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="407"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        .attr({</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="408"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">          <span class="hljs-string">'data-macro-ctp-id'</span>: <span class="hljs-keyword">this</span>.id,</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="409"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">          <span class="hljs-string">'data-macro-ctp-index'</span>: index,</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="410"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        })</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="411"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        .on(<span class="hljs-string">'update-internal.macro-ctp'</span>, (event, firstTime) =&gt; {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="412"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">          <span class="hljs-keyword">if</span> ($(event.target).is(element)) {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="413"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">            <span class="hljs-keyword">if</span> (index === <span class="hljs-keyword">this</span>.log.index) {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="414"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">              <span class="hljs-keyword">if</span> (firstTime) {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="415"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> content === <span class="hljs-string">'string'</span>) element.wiki(content)</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="416"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">                <span class="hljs-keyword">else</span> element.append(content)</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="417"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">                element.addClass(options.transition ? <span class="hljs-string">'--macro-ctp-t8n'</span> : <span class="hljs-string">''</span>)</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="418"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">              }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="419"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">              element.removeClass(<span class="hljs-string">'--macro-ctp-hidden'</span>)</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="420"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">            } <span class="hljs-keyword">else</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="421"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">              <span class="hljs-keyword">if</span> (index &lt; <span class="hljs-keyword">this</span>.log.seen) element.removeClass(<span class="hljs-string">'--macro-ctp-t8n'</span>)</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="422"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">              element.toggleClass(</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="423"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">                <span class="hljs-string">'--macro-ctp-hidden'</span>,</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="424"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">                index &gt; <span class="hljs-keyword">this</span>.log.index || index &lt; <span class="hljs-keyword">this</span>.log.lastClear</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="425"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">              )</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="426"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">            }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="427"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">          }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="428"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        })</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="429"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      <span class="hljs-keyword">this</span>.stack[index].element = element</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="430"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      <span class="hljs-keyword">return</span> element</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="431"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="432"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="433"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    output() {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="434"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      <span class="hljs-keyword">const</span> wrapper = <span class="hljs-built_in">document</span>.createDocumentFragment()</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="435"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-keyword">this</span>.stack.length; i++) {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="436"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">this</span>.print(i).appendTo(wrapper)</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="437"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="438"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      <span class="hljs-keyword">return</span> wrapper</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="439"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="440"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="441"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    advance() {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="442"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.log.index &lt; <span class="hljs-keyword">this</span>.stack.length - <span class="hljs-number">1</span>) {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="443"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">this</span>.log.index++</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="444"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">const</span> firstTime = <span class="hljs-keyword">this</span>.log.index &gt; <span class="hljs-keyword">this</span>.log.seen</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="445"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">this</span>.log.seen = <span class="hljs-built_in">Math</span>.max(<span class="hljs-keyword">this</span>.log.seen, <span class="hljs-keyword">this</span>.log.index)</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="446"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">this</span>.log.lastClear =</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="447"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">          <span class="hljs-keyword">this</span>.clears</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="448"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">            .slice()</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="449"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">            .reverse()</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="450"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">            .find(<span class="hljs-function"><span class="hljs-params">el</span> =&gt;</span> el &lt;= <span class="hljs-keyword">this</span>.log.index) ?? <span class="hljs-number">-1</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="451"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        $(<span class="hljs-built_in">document</span>).trigger(<span class="hljs-string">'update.macro-ctp'</span>, [</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="452"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">          <span class="hljs-string">'advance'</span>,</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="453"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">          <span class="hljs-keyword">this</span>.id,</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="454"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">          <span class="hljs-keyword">this</span>.log.index,</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="455"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        ])</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="456"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">this</span>.stack.forEach(<span class="hljs-function">(<span class="hljs-params">{ element }</span>) =&gt;</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="457"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">          element.trigger(<span class="hljs-string">'update-internal.macro-ctp'</span>, [</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="458"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">            firstTime,</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="459"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">            <span class="hljs-string">'advance'</span>,</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="460"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">            <span class="hljs-keyword">this</span>.id,</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="461"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">            <span class="hljs-keyword">this</span>.log.index,</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="462"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">          ])</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="463"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        )</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="464"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="465"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="466"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="467"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="468"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    back() {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="469"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.log.index &gt; <span class="hljs-number">0</span>) {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="470"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">this</span>.log.index--</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="471"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">this</span>.log.lastClear =</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="472"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">          <span class="hljs-keyword">this</span>.clears</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="473"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">            .slice()</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="474"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">            .reverse()</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="475"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">            .find(<span class="hljs-function"><span class="hljs-params">el</span> =&gt;</span> el &lt;= <span class="hljs-keyword">this</span>.log.index) ?? <span class="hljs-number">-1</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="476"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        $(<span class="hljs-built_in">document</span>).trigger(<span class="hljs-string">'update.macro-ctp'</span>, [</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="477"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">          <span class="hljs-string">'back'</span>,</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="478"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">          <span class="hljs-keyword">this</span>.id,</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="479"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">          <span class="hljs-keyword">this</span>.log.index,</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="480"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        ])</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="481"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">this</span>.stack.forEach(<span class="hljs-function">(<span class="hljs-params">{ element }</span>) =&gt;</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="482"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">          element.trigger(<span class="hljs-string">'update-internal.macro-ctp'</span>, [</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="483"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">            <span class="hljs-literal">false</span>,</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="484"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">            <span class="hljs-string">'back'</span>,</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="485"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">            <span class="hljs-keyword">this</span>.id,</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="486"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">            <span class="hljs-keyword">this</span>.log.index,</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="487"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">          ])</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="488"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        )</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="489"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="490"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="491"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="492"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="493"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-built_in">window</span>.CTP = CTP</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="494"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="495"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  Macro.add(<span class="hljs-string">'ctp'</span>, {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="496"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-attr">tags</span>: [<span class="hljs-string">'ctpNext'</span>],</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="497"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    handler() {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="498"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      <span class="hljs-keyword">const</span> id = <span class="hljs-keyword">this</span>.args[<span class="hljs-number">0</span>]</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="499"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      <span class="hljs-keyword">const</span> persist = <span class="hljs-keyword">this</span>.args.slice(<span class="hljs-number">1</span>).includes(<span class="hljs-string">'persist'</span>)</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="500"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      <span class="hljs-keyword">const</span> ctp = <span class="hljs-keyword">new</span> CTP(id, persist)</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="501"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      <span class="hljs-keyword">const</span> _passage = passage()</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="502"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      <span class="hljs-keyword">this</span>.payload.forEach(<span class="hljs-function">(<span class="hljs-params">{ args, name, contents }</span>) =&gt;</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="503"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">const</span> options = {}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="504"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">if</span> (args.includes(<span class="hljs-string">'clear'</span>)) options.clear = <span class="hljs-literal">true</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="505"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">if</span> (args.includesAny(<span class="hljs-string">'t8n'</span>, <span class="hljs-string">'transition'</span>)) options.transition = <span class="hljs-literal">true</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="506"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">const</span> elementArg = args.find(<span class="hljs-function"><span class="hljs-params">el</span> =&gt;</span> el.startsWith(<span class="hljs-string">'element:'</span>)) ?? <span class="hljs-string">''</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="507"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">if</span> (elementArg) options.element = elementArg.replace(<span class="hljs-string">'element:'</span>, <span class="hljs-string">''</span>)</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="508"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">if</span> (name === <span class="hljs-string">'ctp'</span>) ctp.options = { ...options }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="509"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        ctp.add(contents, options)</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="510"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      })</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="511"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      $(<span class="hljs-keyword">this</span>.output).append(ctp.output())</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="512"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="513"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      <span class="hljs-keyword">if</span> (_passage === passage()) {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="514"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">const</span> i = <span class="hljs-built_in">Math</span>.max(ctp.log.index, <span class="hljs-number">0</span>)</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="515"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        ctp.log.index = <span class="hljs-number">-1</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="516"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        ctp.log.seen = <span class="hljs-number">-1</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="517"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">while</span> (ctp.log.index &lt; i) ctp.advance()</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="518"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="519"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    },</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="520"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  })</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="521"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="522"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  Macro.add(<span class="hljs-string">'ctpAdvance'</span>, {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="523"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    handler() {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="524"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      <span class="hljs-keyword">const</span> id = <span class="hljs-keyword">this</span>.args[<span class="hljs-number">0</span>]</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="525"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      <span class="hljs-keyword">if</span> (id) {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="526"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">const</span> ctp = CTP.getCTP(id)</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="527"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">if</span> (ctp) ctp.advance()</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="528"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">else</span> <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">`No CTP with ID '<span class="hljs-subst">${id}</span>' found!`</span>)</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="529"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      } <span class="hljs-keyword">else</span> <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">`No ID specified!`</span>)</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="530"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    },</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="531"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  })</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="532"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="533"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  Macro.add(<span class="hljs-string">'ctpBack'</span>, {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="534"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    handler() {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="535"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      <span class="hljs-keyword">const</span> id = <span class="hljs-keyword">this</span>.args[<span class="hljs-number">0</span>]</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="536"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      <span class="hljs-keyword">if</span> (id) {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="537"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">const</span> ctp = CTP.getCTP(id)</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="538"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">if</span> (ctp) ctp.back()</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="539"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">else</span> <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">`No CTP with ID '<span class="hljs-subst">${id}</span>' found!`</span>)</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="540"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      } <span class="hljs-keyword">else</span> <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">`No ID specified!`</span>)</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="541"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    },</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="542"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  })</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="543"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">})()</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="544"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="545"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-comment">//--------------VIDEO HELPER---------------------//</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="546"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="547"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">Macro.add(<span class="hljs-string">'video'</span>, {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="548"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-attr">handler</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="549"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.args.length &lt; <span class="hljs-number">1</span>) {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="550"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.error(<span class="hljs-string">"The video macro requires a path argument."</span>);</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="551"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="552"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="553"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">const</span> videoPath = <span class="hljs-keyword">this</span>.args[<span class="hljs-number">0</span>];</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="554"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">let</span> videoWidth = <span class="hljs-string">'100%'</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="555"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">let</span> videoType;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="556"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">let</span> additionalAttributes = [];</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="557"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="558"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-comment">// Check if the second argument is a width or a video attribute</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="559"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.args[<span class="hljs-number">1</span>] &amp;&amp; !<span class="hljs-keyword">this</span>.args[<span class="hljs-number">1</span>].includes(<span class="hljs-string">'='</span>)) {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="560"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">            <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.args[<span class="hljs-number">1</span>].includes(<span class="hljs-string">'autoplay'</span>) &amp;&amp; !<span class="hljs-keyword">this</span>.args[<span class="hljs-number">1</span>].includes(<span class="hljs-string">'loop'</span>) &amp;&amp; !<span class="hljs-keyword">this</span>.args[<span class="hljs-number">1</span>].includes(<span class="hljs-string">'muted'</span>) &amp;&amp; !<span class="hljs-keyword">this</span>.args[<span class="hljs-number">1</span>].includes(<span class="hljs-string">'controls'</span>)) {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="561"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">                videoWidth = <span class="hljs-keyword">this</span>.args[<span class="hljs-number">1</span>];</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="562"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">                additionalAttributes = <span class="hljs-keyword">this</span>.args.slice(<span class="hljs-number">2</span>);</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="563"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">            } <span class="hljs-keyword">else</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="564"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">                additionalAttributes = <span class="hljs-keyword">this</span>.args.slice(<span class="hljs-number">1</span>);</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="565"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">            }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="566"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        } <span class="hljs-keyword">else</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="567"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">            additionalAttributes = <span class="hljs-keyword">this</span>.args.slice(<span class="hljs-number">1</span>);</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="568"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="569"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="570"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-comment">// Determine the video type based on the file extension</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="571"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">if</span> (videoPath.endsWith(<span class="hljs-string">'.mp4'</span>)) {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="572"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">            videoType = <span class="hljs-string">'video/mp4'</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="573"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (videoPath.endsWith(<span class="hljs-string">'.webm'</span>)) {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="574"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">            videoType = <span class="hljs-string">'video/webm'</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="575"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (videoPath.endsWith(<span class="hljs-string">'.mov'</span>)) {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="576"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">            videoType = <span class="hljs-string">'video/mp4'</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="577"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (videoPath.endsWith(<span class="hljs-string">'.ogg'</span>)) {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="578"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">            videoType = <span class="hljs-string">'video/ogg'</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="579"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (videoPath.endsWith(<span class="hljs-string">'.avi'</span>)) {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="580"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">            videoType = <span class="hljs-string">'video/x-msvideo'</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="581"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        } <span class="hljs-keyword">else</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="582"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.error(<span class="hljs-string">"Unsupported video format."</span>);</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="583"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="584"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="585"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">const</span> additionalAttributesStr = additionalAttributes.join(<span class="hljs-string">' '</span>);</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="586"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="587"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">const</span> videoHTML = <span class="hljs-string">`</span><video width="${videoWidth}" ${additionalattributesstr}=""><span class="hljs-string"></span></video></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="588"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">                              <source src="Poof_%20War%20on%20Drugs_files/$%7BvideoPath%7D" type="${videoType}"><span class="hljs-string"></span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="589"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">                              Your browser does not support the video tag.</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="590"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">                           <span class="hljs-string">`</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="591"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="592"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">new</span> Wikifier(<span class="hljs-keyword">this</span>.output, videoHTML);</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="593"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="594"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">});</div></td></tr></tbody></table></pre></div><div class="lint-btn-wrapper"><button id="lint" class="lint-btn pure-button" title="Check your JavaScript code for errors.">Lint</button></div></div><div id="story-stylesheet" class="passage-card hide"><h2 class="passage-title">Story StyleSheet</h2><div class="passage-source"><pre data-language="css" class="story-code css hljs"><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-comment">/* ---------------IMPORT FONTS-------------- */</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-comment">/* Monospaced */</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="4"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">@<span class="hljs-keyword">import</span> url(<span class="hljs-string">'https://fonts.googleapis.com/css2?family=Noto+Sans+Mono:wght@100..900&amp;display=swap'</span>);</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="5"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="6"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-comment">/* Serifed */</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="7"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">@<span class="hljs-keyword">import</span> url(<span class="hljs-string">'https://fonts.googleapis.com/css2?family=Noto+Serif:ital,wght@0,100..900;1,100..900&amp;display=swap'</span>);</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="8"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="9"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-comment">/* Sans Serif */</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="10"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">@<span class="hljs-keyword">import</span> url(<span class="hljs-string">'https://fonts.googleapis.com/css2?family=Noto+Sans:ital,wght@0,100..900;1,100..900&amp;display=swap'</span>);</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="11"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="12"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-comment">/* Fantasy */</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="13"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">@<span class="hljs-keyword">import</span> url(<span class="hljs-string">'https://fonts.googleapis.com/css2?family=Megrim&amp;display=swap'</span>);</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="14"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="15"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-comment">/* Dyslexic */</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="16"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">@<span class="hljs-keyword">import</span> url(<span class="hljs-string">'https://fonts.cdnfonts.com/css/open-dyslexic'</span>);</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="17"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="18"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-comment">/* Icons */</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="19"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">@<span class="hljs-keyword">import</span> url(<span class="hljs-string">'https://use.fontawesome.com/releases/v6.7.2/css/all.css'</span>);</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="20"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="21"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-comment">/* ---------------FONT SETTINGS-------------- */</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="22"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="23"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-selector-class">.sansserif</span> <span class="hljs-selector-class">.passage</span>,</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="24"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-selector-class">.sansserif</span> <span class="hljs-selector-id">#ui-dialog-body</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="25"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">font-family</span>: <span class="hljs-string">'Noto Sans'</span>, sans-serif;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="26"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="27"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="28"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-selector-class">.monospace</span> <span class="hljs-selector-class">.passage</span>,</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="29"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-selector-class">.monospace</span> <span class="hljs-selector-id">#ui-dialog-body</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="30"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">font-family</span>: <span class="hljs-string">'Noto Sans Mono'</span>, monospace;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="31"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="32"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="33"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-selector-class">.serif</span> <span class="hljs-selector-class">.passage</span>,</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="34"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-selector-class">.serif</span> <span class="hljs-selector-id">#ui-dialog-body</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="35"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">font-family</span>: <span class="hljs-string">'Noto Serif'</span>, serif;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="36"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="37"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="38"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-selector-class">.dyslexic</span> <span class="hljs-selector-class">.passage</span>,</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="39"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-selector-class">.dyslexic</span> <span class="hljs-selector-id">#ui-dialog-body</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="40"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">font-family</span>: <span class="hljs-string">'Open-Dyslexic'</span>, dyslexic;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="41"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="42"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="43"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-comment">/*Alignment*/</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="44"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-selector-class">.justified</span> <span class="hljs-selector-class">.passage</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="45"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">text-align</span>: justify;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="46"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="47"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="48"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-comment">/*Line Height*/</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="49"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-selector-class">.lh-small</span> <span class="hljs-selector-class">.passage</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="50"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">line-height</span>: <span class="hljs-number">1.2</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="51"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="52"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="53"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-selector-class">.lh-medium</span> <span class="hljs-selector-class">.passage</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="54"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">line-height</span>: <span class="hljs-number">1.6</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="55"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="56"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="57"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-selector-class">.lh-large</span> <span class="hljs-selector-class">.passage</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="58"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">line-height</span>: <span class="hljs-number">2</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="59"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="60"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="61"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-selector-class">.lh-biggest</span> <span class="hljs-selector-class">.passage</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="62"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">line-height</span>: <span class="hljs-number">2.4</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="63"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="64"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="65"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-comment">/* ---------------TEMPLATE SETTINGS------------- */</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="66"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="67"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-selector-class">.center</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="68"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">text-align</span>: center;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="69"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="70"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="71"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-selector-class">.justify</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="72"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">text-align</span>: justify;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="73"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="74"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="75"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-selector-tag">body</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="76"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">padding</span>: <span class="hljs-number">5%</span> <span class="hljs-number">15%</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="77"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">background</span>: transparent;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="78"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="79"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="80"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-selector-tag">html</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="81"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">background-color</span>: black;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="82"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">background-image</span>: <span class="hljs-built_in">url</span>(<span class="hljs-string">'images/leaf.jpg'</span>);</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="83"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">background-repeat</span>: repeat;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="84"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">background-position</span>: top center;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="85"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">background-attachment</span>: fixed;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="86"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">background-size</span>: cover;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="87"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="88"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="89"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="90"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-selector-tag">a</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="91"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">color</span>: white;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="92"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="93"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="94"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-selector-tag">a</span><span class="hljs-selector-pseudo">:hover</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="95"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">color</span>: white;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="96"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">text-shadow</span>: <span class="hljs-number">0px</span> <span class="hljs-number">0px</span> <span class="hljs-number">1px</span> black;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="97"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="98"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="99"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-comment">/* Text box styling */</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="100"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-selector-id">#passages</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="101"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-comment">/* Base size for the font inside the passage */</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="102"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">16px</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="103"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="104"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-comment">/* Set a maximum width for the textbox */</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="105"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">max-width</span>: <span class="hljs-number">800px</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="106"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="107"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-comment">/* An outline around the textbox */</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="108"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid black;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="109"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0px</span> <span class="hljs-number">0px</span> <span class="hljs-number">20px</span> black;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="110"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="111"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span> <span class="hljs-number">30px</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="112"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="113"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-comment">/* A semi-transparent background color */</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="114"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">background-color</span>: <span class="hljs-built_in">rgba</span>(0, 0, 0, 0.75);</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="115"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="116"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-comment">/* Space between the edges of the textbox and the text */</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="117"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">padding</span>: <span class="hljs-number">50px</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="118"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="119"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-comment">/* Round off the edges of the textbox */</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="120"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">10px</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="121"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="122"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">-webkit-animation</span>: fadein <span class="hljs-number">0.7s</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="123"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-comment">/* Safari, Chrome and Opera &gt; 12.1 */</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="124"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">-moz-animation</span>: fadein <span class="hljs-number">0.7s</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="125"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-comment">/* Firefox &lt; 16 */</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="126"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">-ms-animation</span>: fadein <span class="hljs-number">0.7s</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="127"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-comment">/* Internet Explorer */</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="128"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">-o-animation</span>: fadein <span class="hljs-number">0.7s</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="129"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-comment">/* Opera &lt; 12.1 */</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="130"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">animation</span>: fadein <span class="hljs-number">0.7s</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="131"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="132"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="133"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">@<span class="hljs-keyword">keyframes</span> fadein {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="134"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-selector-tag">from</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="135"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="136"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="137"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="138"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-selector-tag">to</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="139"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-attribute">opacity</span>: <span class="hljs-number">1</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="140"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="141"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="142"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="143"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-comment">/* Firefox &lt; 16 */</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="144"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">@-<span class="hljs-keyword">moz</span>-<span class="hljs-keyword">keyframes</span> fadein {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="145"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-selector-tag">from</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="146"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="147"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="148"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="149"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-selector-tag">to</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="150"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-attribute">opacity</span>: <span class="hljs-number">1</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="151"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="152"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="153"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="154"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-comment">/* Safari, Chrome and Opera &gt; 12.1 */</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="155"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">@-<span class="hljs-keyword">webkit</span>-<span class="hljs-keyword">keyframes</span> fadein {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="156"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-selector-tag">from</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="157"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="158"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="159"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="160"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-selector-tag">to</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="161"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-attribute">opacity</span>: <span class="hljs-number">1</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="162"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="163"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="164"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="165"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-comment">/* Internet Explorer */</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="166"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">@-<span class="hljs-keyword">ms</span>-<span class="hljs-keyword">keyframes</span> fadein {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="167"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-selector-tag">from</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="168"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="169"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="170"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="171"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-selector-tag">to</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="172"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-attribute">opacity</span>: <span class="hljs-number">1</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="173"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="174"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="175"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="176"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-comment">/* Opera &lt; 12.1 */</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="177"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">@-<span class="hljs-keyword">o</span>-<span class="hljs-keyword">keyframes</span> fadein {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="178"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-selector-tag">from</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="179"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="180"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="181"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="182"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-selector-tag">to</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="183"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-attribute">opacity</span>: <span class="hljs-number">1</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="184"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  }</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="185"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="186"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="187"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-selector-id">#passages</span> <span class="hljs-selector-tag">a</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="188"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">color</span>: lightblue;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="189"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="190"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="191"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-selector-id">#passages</span> <span class="hljs-selector-tag">a</span><span class="hljs-selector-pseudo">:hover</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="192"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">color</span>: white;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="193"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">text-decoration</span>: none;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="194"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="195"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="196"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-selector-class">.chapterHead</span> <span class="hljs-selector-tag">h2</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="197"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">text-align</span>: center;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="198"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">text-transform</span>: uppercase;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="199"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">16px</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="200"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">letter-spacing</span>: <span class="hljs-number">5px</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="201"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="202"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="203"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-selector-class">.chapterHead</span> <span class="hljs-selector-tag">h1</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="204"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">text-align</span>: center;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="205"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">30px</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="206"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">35px</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="207"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="208"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="209"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-selector-tag">img</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="210"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">max-width</span>: <span class="hljs-number">100%</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="211"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">10px</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="212"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="213"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="214"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-selector-tag">h1</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="215"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">font-family</span>: <span class="hljs-string">'Megrim'</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="216"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">35px</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="217"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">letter-spacing</span>: <span class="hljs-number">3px</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="218"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">line-height</span>: <span class="hljs-number">40px</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="219"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="220"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="221"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-selector-tag">h2</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="222"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">font-family</span>: sans-serif;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="223"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">25px</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="224"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">font-weight</span>: <span class="hljs-number">300</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="225"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">line-height</span>: <span class="hljs-number">30px</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="226"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="227"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="228"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-selector-class">.storychoice</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="229"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">font-family</span>: sans-serif;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="230"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">16px</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="231"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">color</span>: white;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="232"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-comment">/* display: inline-block; */</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="233"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">float</span>: center;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="234"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#555555</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="235"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">10px</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="236"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0px</span> <span class="hljs-number">0px</span> <span class="hljs-number">20px</span> black;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="237"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span> <span class="hljs-number">15px</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="238"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">30px</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="239"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="240"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="241"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-selector-class">.storychoice</span><span class="hljs-selector-pseudo">:hover</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="242"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">background</span>: <span class="hljs-number">#262626</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="243"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">color</span>: white;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="244"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0px</span> <span class="hljs-number">0px</span> <span class="hljs-number">10px</span> <span class="hljs-number">#474747</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="245"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="246"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="247"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-selector-class">.storychoice</span><span class="hljs-selector-pseudo">:visited</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="248"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">color</span>: white;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="249"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="250"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="251"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-selector-class">.storychoice</span><span class="hljs-selector-class">.visited</span><span class="hljs-selector-pseudo">:hover</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="252"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">color</span>: white;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="253"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="254"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="255"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-selector-class">.storychoice</span><span class="hljs-selector-pseudo">:before</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="256"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">content</span>: <span class="hljs-string">'\f595'</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="257"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">font-family</span>: <span class="hljs-string">'Font Awesome 6 Free'</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="258"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">font-weight</span>: <span class="hljs-number">900</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="259"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">margin-right</span>: <span class="hljs-number">13px</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="260"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="261"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="262"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-selector-class">.storychoice</span><span class="hljs-selector-pseudo">:hover</span><span class="hljs-selector-pseudo">::before</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="263"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">margin-right</span>: <span class="hljs-number">25px</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="264"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">transition</span>: all <span class="hljs-number">0.5s</span> ease;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="265"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="266"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="267"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-selector-id">#ui-bar</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="268"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">background-color</span>: <span class="hljs-built_in">rgba</span>(0, 0, 0, 0.7);</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="269"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">color</span>: <span class="hljs-built_in">rgba</span>(255, 255, 255, 1);</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="270"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">border-right</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#000</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="271"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">text-align</span>: center;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="272"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="273"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="274"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-selector-id">#menu</span> <span class="hljs-selector-tag">ul</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="275"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> <span class="hljs-number">0</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="276"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="277"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">list-style</span>: none;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="278"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#000</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="279"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="280"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="281"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-selector-id">#menu</span> <span class="hljs-selector-tag">ul</span><span class="hljs-selector-pseudo">:empty</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="282"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">display</span>: none;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="283"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="284"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="285"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-selector-id">#menu</span> <span class="hljs-selector-tag">li</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="286"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="287"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="288"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="289"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-selector-id">#menu</span> <span class="hljs-selector-tag">li</span><span class="hljs-selector-pseudo">:not(</span><span class="hljs-selector-pseudo">:first-child)</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="290"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">border-top</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#000</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="291"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="292"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="293"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-selector-id">#menu</span> <span class="hljs-selector-tag">li</span> <span class="hljs-selector-tag">a</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="294"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">display</span>: block;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="295"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">padding</span>: <span class="hljs-number">0.25em</span> <span class="hljs-number">0.75em</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="296"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid transparent;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="297"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">color</span>: <span class="hljs-number">#fff</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="298"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">text-transform</span>: uppercase;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="299"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="300"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="301"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-selector-id">#menu</span> <span class="hljs-selector-tag">li</span> <span class="hljs-selector-tag">a</span><span class="hljs-selector-pseudo">:hover</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="302"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">background-color</span>: <span class="hljs-built_in">rgba</span>(0, 0, 0, 0.25);</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="303"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">border-color</span>: <span class="hljs-number">#fff</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="304"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="305"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="306"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-selector-id">#ui-bar-toggle</span>,</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="307"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-selector-id">#ui-bar-history</span> <span class="hljs-selector-attr">[id|='history']</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="308"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">background-color</span>: <span class="hljs-built_in">rgba</span>(0, 0, 0, 0.25);</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="309"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">border-color</span>: <span class="hljs-number">#000</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="310"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="311"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="312"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-selector-id">#ui-bar-toggle</span><span class="hljs-selector-pseudo">:hover</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="313"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">background-color</span>: <span class="hljs-built_in">rgba</span>(0, 0, 0, 0.25);</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="314"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">border-color</span>: <span class="hljs-number">#fff</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="315"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="316"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="317"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-selector-id">#ui-bar-history</span> <span class="hljs-selector-attr">[id|='history']</span><span class="hljs-selector-pseudo">:hover</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="318"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">background-color</span>: <span class="hljs-built_in">rgba</span>(0, 0, 0, 0.25);</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="319"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">border-color</span>: <span class="hljs-number">#fff</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="320"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="321"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="322"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-selector-id">#story-title</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="323"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">padding</span>: <span class="hljs-number">25px</span> <span class="hljs-number">0px</span> <span class="hljs-number">0px</span> <span class="hljs-number">0px</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="324"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">font-family</span>: <span class="hljs-string">'Megrim'</span>, sans-serif;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="325"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="326"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="327"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-comment">/*NOTEBOXS AND SPECIAL DIVS*/</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="328"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="329"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-selector-class">.notebox</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="330"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">background-color</span>: <span class="hljs-built_in">rgba</span>(38, 38, 38, 0.25);</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="331"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">padding</span>: <span class="hljs-number">15px</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="332"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">margin</span>: <span class="hljs-number">10px</span> <span class="hljs-number">0px</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="333"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">text-align</span>: center;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="334"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">font-family</span>: sans-serif;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="335"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">15px</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="336"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">line-height</span>: <span class="hljs-number">25px</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="337"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">10px</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="338"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="339"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="340"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-selector-class">.notebox</span> <span class="hljs-selector-tag">i</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="341"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">15px</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="342"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">margin-right</span>: <span class="hljs-number">20px</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="343"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="344"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="345"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-selector-class">.warningbox</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="346"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">background-color</span>: <span class="hljs-built_in">rgba</span>(0, 0, 0, 0.5);</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="347"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid black;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="348"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">padding</span>: <span class="hljs-number">30px</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="349"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">margin</span>: <span class="hljs-number">10px</span> <span class="hljs-number">0px</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="350"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">text-align</span>: center;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="351"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">font-family</span>: sans-serif;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="352"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">15px</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="353"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">line-height</span>: <span class="hljs-number">17px</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="354"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">10px</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="355"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="356"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="357"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-selector-class">.warningbox</span> <span class="hljs-selector-tag">h2</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="358"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">23px</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="359"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="360"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="361"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-selector-class">.itemadd</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="362"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#26c35a</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="363"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">padding</span>: <span class="hljs-number">5px</span> <span class="hljs-number">10px</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="364"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">text-align</span>: center;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="365"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">font-weight</span>: <span class="hljs-number">500</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="366"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">font-family</span>: sans-serif;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="367"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">16px</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="368"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">10px</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="369"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">display</span>: inline-block;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="370"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">margin</span>: <span class="hljs-number">10px</span> auto;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="371"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="372"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="373"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-selector-class">.itemlost</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="374"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#c3263c</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="375"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">padding</span>: <span class="hljs-number">5px</span> <span class="hljs-number">10px</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="376"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">text-align</span>: center;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="377"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">font-weight</span>: <span class="hljs-number">500</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="378"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">font-family</span>: sans-serif;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="379"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">16px</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="380"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">10px</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="381"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">display</span>: inline-block;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="382"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">  <span class="hljs-attribute">margin</span>: <span class="hljs-number">10px</span> auto;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="383"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="384"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="385"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-comment">/* ------------ADDITIONS TO TEMPLATE-----------*/</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="386"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="387"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-selector-id">#passages</span> <span class="hljs-selector-tag">button</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="388"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-attribute">cursor</span>: pointer;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="389"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-attribute">border</span>: <span class="hljs-number">2px</span> solid <span class="hljs-number">#add9e6</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="390"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-attribute">font-family</span>: Raleway;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="391"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">12px</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="392"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-attribute">color</span>: <span class="hljs-built_in">rgb</span>(255, 255, 255);</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="393"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-attribute">padding</span>: <span class="hljs-number">5px</span> <span class="hljs-number">10px</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="394"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-attribute">transition</span>: all;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="395"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-attribute">width</span>: <span class="hljs-number">80px</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="396"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">8px</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="397"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-attribute">background</span>: <span class="hljs-built_in">rgb</span>(000, 000, 000);</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="398"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-attribute">font-weight</span>: <span class="hljs-number">600</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="399"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-attribute">display</span>: flex;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="400"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-attribute">justify-content</span>: center;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="401"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-attribute">align-items</span>: center;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="402"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-attribute">flex-direction</span>: row-reverse;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="403"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="404"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="405"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="406"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-selector-id">#passages</span> <span class="hljs-selector-tag">button</span><span class="hljs-selector-pseudo">:hover</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="407"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="408"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-attribute">color</span>: <span class="hljs-built_in">rgb</span>(255, 255, 255);</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="409"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-attribute">width</span>: <span class="hljs-number">85px</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="410"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-attribute">background</span>: <span class="hljs-built_in">rgb</span>(000, 000, 000);</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="411"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-attribute">border-color</span>: <span class="hljs-built_in">rgb</span>(255, 204, 102);</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="412"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-attribute">border-width</span>: <span class="hljs-number">2px</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="413"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-attribute">border-style</span>: solid;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="414"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="415"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="416"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-selector-id">#passages</span> <span class="hljs-selector-tag">button</span><span class="hljs-selector-pseudo">:after</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="417"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-attribute">content</span>: <span class="hljs-string">'\f55f'</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="418"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-attribute">font-family</span>: <span class="hljs-string">'Font Awesome 5 Free'</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="419"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-attribute">font-weight</span>: <span class="hljs-number">700</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="420"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-attribute">margin-right</span>: <span class="hljs-number">13px</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="421"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="422"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="423"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-comment">/* ------------STATUS/PROGRESS BARS----------- */</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="424"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="425"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-selector-class">.progress-bar</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="426"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="427"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-attribute">height</span>: <span class="hljs-number">15px</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="428"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-attribute">background</span>: <span class="hljs-number">#343434</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="429"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0.6</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="430"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">10px</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="431"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-attribute">margin</span>: -<span class="hljs-number">20px</span> <span class="hljs-number">0</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="432"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="433"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="434"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-selector-class">.progress-bar</span> <span class="hljs-selector-tag">div</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="435"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="436"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">10px</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="437"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="438"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="439"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-selector-id">#status-bars</span> <span class="hljs-selector-tag">p</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="440"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">2px</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="441"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">1.00em</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="442"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-attribute">text-align</span>: left;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="443"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="444"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="445"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-comment">/* ---------------SPEECH BOXES-------------- */</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="446"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="447"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-selector-class">.say</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="448"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#555555</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="449"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">10px</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="450"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-attribute">overflow</span>: auto;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="451"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="452"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="453"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-selector-class">.say</span>&gt;<span class="hljs-selector-tag">img</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="454"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-attribute">max-width</span>: <span class="hljs-number">20%</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="455"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-attribute">float</span>: left;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="456"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-attribute">margin-right</span>: <span class="hljs-number">1em</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="457"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="458"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="459"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-selector-class">.say</span>&gt;<span class="hljs-selector-tag">p</span><span class="hljs-selector-pseudo">:first-of-type</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="460"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-attribute">font-weight</span>: bold;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="461"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-attribute">margin</span>: <span class="hljs-number">0.2em</span> <span class="hljs-number">0</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="462"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-attribute">border-bottom</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#555555</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="463"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="464"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="465"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-selector-class">.say</span>&gt;<span class="hljs-selector-tag">p</span><span class="hljs-selector-pseudo">:last-of-type</span> {</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="466"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-attribute">padding</span>: <span class="hljs-number">0.5em</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="467"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="468"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">}</div></td></tr></tbody></table></pre></div></div></div><div id="main" class="collapse"><div id="story-data"><h1 id="title">Story: War on Drugs</h1><p id="format">SugarCube v2.37.3</p><p id="ifid">IFID: 2F329366-7393-484B-B197-DD974FFD475B</p><p id="compile">Made with: Twine 2.10.0</p></div><div data-id="1" class="passage-card" name="Start" data-pid="1" data-lt="1999"><div role="button" title="Create a comment using this passage's text." class="edit">✎</div><h2 class="passage-title">Start</h2><p class="passage-tags hide"><span class="tag-title">Tags: </span><span title="Filter..." class="tag-listing" style="display: inline-block; border-width: 0px 1.1em; border-left: 1.1em solid rgb(170, 170, 170); border-color: rgb(170, 170, 170); padding: 0px 0.1rem; margin-right: 0.5rem;"></span></p><div class="passage-references"><h3 class="passage-references-title">References to Other Passages: </h3><div class="passage-reference-wrapper"><div title="Links and other code in this passage that points to other passages.">Refers to: <a href="javascript:void(0)" title="Jump" class="jumpto">Character Select</a></div></div></div><div tabindex="0" class="passage-source"><pre><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="chapterHead"&gt;&lt;h2&gt;Introduction&lt;/h2&gt;&lt;hr&gt;&lt;h1&gt;The War on Drugs&lt;/h1&gt;&lt;/div&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;img src="images/SKYLINE.JPG" alt="The Denver skyline with Rocky Mountains in the background."&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="notebox"&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="4"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;hr&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="5"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="chapterHead"&gt;&lt;h2&gt;Overview&lt;/h2&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="6"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">This simulation gives you the opportunity to see small glimpses of life and the world through the eyes of three very different people growing up in the same general area. </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="7"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="8"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">Play as all three characters, pause and reflect on what you've experienced, and remember that you're only seeing small scenes from their lives.</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="9"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="10"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">Imagine what the "big picture" must have been like for each of them.&lt;/div&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="11"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;hr&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="12"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="chapterHead"&gt;&lt;h2&gt;Navigation&lt;/h2&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="13"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">The simulation was created to make navigation easy. Mouse-clicking should be intuitive, with choices clearly labeled.</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="14"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="15"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">The left arrow key can be used to go back. The right arrow key can be used to go forward if there is only one choice.</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="16"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="17"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">If a choice has a number after it, that number key on the keyboard will take you there.&lt;/div&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="18"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;hr&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="19"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="chapterHead"&gt;&lt;h2&gt;Bookmarks&lt;/h2&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="20"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">You are free to bookmark your place at any point using the SAVES menu in the sidebar. You can come back and load your saves later.</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="21"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="22"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">Bookmarks are stored by your browser and aren't shared from one browser to another.&lt;/div&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="23"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;hr&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="24"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="chapterHead"&gt;&lt;h2&gt;Restart&lt;/h2&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="25"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">The Restart button will reset everything. It will be as if you had not checked out any of the characters' stories.</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="26"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="27"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">Careful with this one!&lt;/div&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="28"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;hr&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="29"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="chapterHead"&gt;&lt;h2&gt;Note&lt;/h2&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="30"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">This simulation includes themes of drugs and drug use, life and death, racism, and capitalism.</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="31"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="32"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">Viewer discretion is advised.&lt;/div&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="33"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;/div&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="34"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Select a Character|Character Select]]&lt;/div&gt;&lt;/div&gt;</div></td></tr></tbody></table></pre></div><div class="passage-footer"><button title="View this passage's comments." class="comment-open pure-button">💬</button><div class="comment-wrapper"><div role="button" class="empty-comment add-comment">+ Add a comment...</div></div></div></div><div data-id="2" class="passage-card" name="StoryCaption" data-pid="2" data-lt="877"><div role="button" title="Create a comment using this passage's text." class="edit">✎</div><h2 class="passage-title">StoryCaption</h2><p class="passage-tags"><span class="tag-title">Tags: </span><span title="Filter..." class="tag-listing" style="display: inline-block; border-width: 0px 1.1em; border-left: 1.1em solid rgb(255, 65, 54); border-color: rgb(255, 65, 54); padding: 0px 0.1rem; margin-right: 0.5rem;">Special-Passage</span></p><div tabindex="0" class="passage-source"><pre><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div id="status-bars"&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    &lt;p&gt;&lt;i class="fas fa-balance-scale" style="font-size: 1.75em;"&gt;&lt;/i&gt;&amp;emsp;SYS DISADVANTAGE&lt;/p&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    &lt;div class="progress-bar"&gt;&lt;div id="sysdis-bar"&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="4"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    &lt;/div&gt;&lt;/div&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="5"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="6"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    &lt;p&gt;&lt;i class="fas fa-gavel" style="font-size: 1.75em;"&gt;&lt;/i&gt;&amp;emsp;LEGAL TROUBLE&lt;/p&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="7"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    &lt;div class="progress-bar"&gt;&lt;div id="legal-bar"&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="8"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    &lt;/div&gt;&lt;/div&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="9"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="10"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    &lt;p&gt;&lt;i class="fas fa-piggy-bank" style="font-size: 1.75em;"&gt;&lt;/i&gt;&amp;emsp;WEALTH&lt;/p&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="11"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    &lt;div class="progress-bar"&gt;&lt;div id="wealth-bar"&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="12"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    &lt;/div&gt;&lt;/div&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="13"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="14"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    &lt;p&gt;&lt;i class="fas fa-heartbeat" style="font-size: 1.75em;"&gt;&lt;/i&gt;&amp;emsp;HEALTH&lt;/p&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="15"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    &lt;div class="progress-bar"&gt;&lt;div id="health-bar"&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="16"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    &lt;/div&gt;&lt;/div&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="17"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;/div&gt;</div></td></tr></tbody></table></pre></div><div class="passage-footer closed"><button title="View this passage's comments." class="comment-open pure-button pure-button-primary">💬</button><div class="comment-wrapper"></div></div></div><div data-id="3" class="passage-card" name="Character Select" data-pid="3" data-lt="793"><div role="button" title="Create a comment using this passage's text." class="edit">✎</div><h2 class="passage-title">Character Select</h2><p class="passage-tags hide"><span class="tag-title">Tags: </span><span title="Filter..." class="tag-listing" style="display: inline-block; border-width: 0px 1.1em; border-left: 1.1em solid rgb(170, 170, 170); border-color: rgb(170, 170, 170); padding: 0px 0.1rem; margin-right: 0.5rem;"></span></p><div class="passage-references"><h3 class="passage-references-title">References to Other Passages: </h3><div class="passage-reference-wrapper"><div title="Links and other code in other passages that points to this passage.">Referred by: <a href="javascript:void(0)" title="Jump" class="jumpto">Start</a><a href="javascript:void(0)" title="Jump" class="jumpto">JA4B</a><a href="javascript:void(0)" title="Jump" class="jumpto">JA4D</a><a href="javascript:void(0)" title="Jump" class="jumpto">JA5A</a><a href="javascript:void(0)" title="Jump" class="jumpto">JA5B</a><a href="javascript:void(0)" title="Jump" class="jumpto">JW5A</a><a href="javascript:void(0)" title="Jump" class="jumpto">JW5B</a><a href="javascript:void(0)" title="Jump" class="jumpto">MT5A</a><a href="javascript:void(0)" title="Jump" class="jumpto">MT5E</a><a href="javascript:void(0)" title="Jump" class="jumpto">MT5G</a><a href="javascript:void(0)" title="Jump" class="jumpto">MT6E</a></div><div title="Links and other code in this passage that points to other passages.">Refers to: <a href="javascript:void(0)" title="Jump" class="jumpto">Michael Thompson</a><a href="javascript:void(0)" title="Jump" class="jumpto">John Anderson</a><a href="javascript:void(0)" title="Jump" class="jumpto">Jamal Washington</a></div></div></div><div tabindex="0" class="passage-source"><pre><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;set $sysdis to 0&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;set $legal to 0&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;set $wealth to 0&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="4"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;set $health to 0&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="5"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="chapterHead"&gt;&lt;h2&gt;Introduction&lt;/h2&gt;&lt;hr&gt;&lt;h1&gt;Choose Your Character&lt;/h1&gt;&lt;/div&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="6"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;img src="images/TRIP.PNG" alt="Michael Thompson, John Anderson, and Jamal Washington as young men."&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="7"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">Jump in and experience all three characters in whichever order you like.</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="8"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="9"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">Every ending will bring you back to this page.</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="10"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Michael Thompson]]&lt;/div&gt;&lt;/div&gt; </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="11"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[John Anderson]]&lt;/div&gt;&lt;/div&gt; </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="12"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Jamal Washington]]&lt;/div&gt;&lt;/div&gt;</div></td></tr></tbody></table></pre></div><div class="passage-footer closed"><button title="View this passage's comments." class="comment-open pure-button pure-button-primary">💬</button><div class="comment-wrapper"></div></div></div><div data-id="4" class="passage-card" name="John Anderson" data-pid="4" data-lt="1016"><div role="button" title="Create a comment using this passage's text." class="edit">✎</div><h2 class="passage-title">John Anderson</h2><p class="passage-tags"><span class="tag-title">Tags: </span><span title="Filter..." class="tag-listing" style="display: inline-block; border-width: 0px 1.1em; border-left: 1.1em solid rgb(46, 204, 64); border-color: rgb(46, 204, 64); padding: 0px 0.1rem; margin-right: 0.5rem;">JA</span></p><div class="passage-references"><h3 class="passage-references-title">References to Other Passages: </h3><div class="passage-reference-wrapper"><div title="Links and other code in other passages that points to this passage.">Referred by: <a href="javascript:void(0)" title="Jump" class="jumpto">Character Select</a></div><div title="Links and other code in this passage that points to other passages.">Refers to: <a href="javascript:void(0)" title="Jump" class="jumpto">JA90S</a></div></div></div><div tabindex="0" class="passage-source"><pre><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;set $sysdis to 0&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;set $legal to 0&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;set $wealth to 90&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="4"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;set $health to 80&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="5"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="chapterHead"&gt;&lt;h2&gt;Scene 3&lt;/h2&gt;&lt;hr&gt;&lt;h1&gt;John Anderson&lt;/h1&gt;&lt;/div&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="6"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;img src="images/JA0A.JPG" alt="John Anderson as a young man."&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="7"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="notebox"&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="8"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">!!! Bio Facts</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="9"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;type 60ms&gt;&gt;&lt;b&gt;Year of Birth:  &lt;/b&gt;1968&lt;&lt;/type&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="10"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;type 60ms&gt;&gt;&lt;b&gt;Place of Birth:  &lt;/b&gt;Aspen, Colorado&lt;&lt;/type&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="11"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;type 60ms&gt;&gt;&lt;b&gt;Race:  &lt;/b&gt;White&lt;&lt;/type&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="12"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;type 60ms&gt;&gt;&lt;b&gt;Occupation:  &lt;/b&gt;Inherited Business&lt;&lt;/type&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="13"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;type 60ms&gt;&gt;&lt;b&gt;Education:  &lt;/b&gt;Ivy-League Graduate&lt;&lt;/type&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="14"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;type 60ms&gt;&gt;&lt;b&gt;Income:  &lt;/b&gt;Wealthy&lt;&lt;/type&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="15"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;/div&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="16"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[John Anderson|JA90S]]&lt;/div&gt;&lt;/div&gt;</div></td></tr></tbody></table></pre></div><div class="passage-footer closed"><button title="View this passage's comments." class="comment-open pure-button pure-button-primary">💬</button><div class="comment-wrapper"></div></div></div><div data-id="5" class="passage-card" name="JA00S" data-pid="5" data-lt="268"><div role="button" title="Create a comment using this passage's text." class="edit">✎</div><h2 class="passage-title">JA00S</h2><p class="passage-tags"><span class="tag-title">Tags: </span><span title="Filter..." class="tag-listing" style="display: inline-block; border-width: 0px 1.1em; border-left: 1.1em solid rgb(46, 204, 64); border-color: rgb(46, 204, 64); padding: 0px 0.1rem; margin-right: 0.5rem;">JA</span></p><div class="passage-references"><h3 class="passage-references-title">References to Other Passages: </h3><div class="passage-reference-wrapper"><div title="Links and other code in other passages that points to this passage.">Referred by: <a href="javascript:void(0)" title="Jump" class="jumpto">JA1B</a></div><div title="Links and other code in this passage that points to other passages.">Refers to: <a href="javascript:void(0)" title="Jump" class="jumpto">JA2A</a></div></div></div><div tabindex="0" class="passage-source"><pre><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="chapterHead"&gt;&lt;h2&gt;Social Context&lt;/h2&gt;&lt;hr&gt;&lt;h1&gt;The 2000s&lt;/h1&gt;&lt;/div&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;video "videos/02-Gun.mp4" controls&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Continue|JA2A]]&lt;/div&gt;&lt;/div&gt;</div></td></tr></tbody></table></pre></div><div class="passage-footer closed"><button title="View this passage's comments." class="comment-open pure-button pure-button-primary">💬</button><div class="comment-wrapper"></div></div></div><div data-id="6" class="passage-card" name="JA10S" data-pid="6" data-lt="269"><div role="button" title="Create a comment using this passage's text." class="edit">✎</div><h2 class="passage-title">JA10S</h2><p class="passage-tags"><span class="tag-title">Tags: </span><span title="Filter..." class="tag-listing" style="display: inline-block; border-width: 0px 1.1em; border-left: 1.1em solid rgb(46, 204, 64); border-color: rgb(46, 204, 64); padding: 0px 0.1rem; margin-right: 0.5rem;">JA</span></p><div class="passage-references"><h3 class="passage-references-title">References to Other Passages: </h3><div class="passage-reference-wrapper"><div title="Links and other code in other passages that points to this passage.">Referred by: <a href="javascript:void(0)" title="Jump" class="jumpto">JA2A</a></div><div title="Links and other code in this passage that points to other passages.">Refers to: <a href="javascript:void(0)" title="Jump" class="jumpto">JA3A</a></div></div></div><div tabindex="0" class="passage-source"><pre><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="chapterHead"&gt;&lt;h2&gt;Social Context&lt;/h2&gt;&lt;hr&gt;&lt;h1&gt;The 2010s&lt;/h1&gt;&lt;/div&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;video "videos/06-Flat.mp4" controls&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Continue|JA3A]]&lt;/div&gt;&lt;/div&gt;</div></td></tr></tbody></table></pre></div><div class="passage-footer closed"><button title="View this passage's comments." class="comment-open pure-button pure-button-primary">💬</button><div class="comment-wrapper"></div></div></div><div data-id="7" class="passage-card" name="JA1A" data-pid="7" data-lt="646"><div role="button" title="Create a comment using this passage's text." class="edit">✎</div><h2 class="passage-title">JA1A</h2><p class="passage-tags"><span class="tag-title">Tags: </span><span title="Filter..." class="tag-listing" style="display: inline-block; border-width: 0px 1.1em; border-left: 1.1em solid rgb(46, 204, 64); border-color: rgb(46, 204, 64); padding: 0px 0.1rem; margin-right: 0.5rem;">JA</span></p><div class="passage-references"><h3 class="passage-references-title">References to Other Passages: </h3><div class="passage-reference-wrapper"><div title="Links and other code in other passages that points to this passage.">Referred by: <a href="javascript:void(0)" title="Jump" class="jumpto">JA90S</a></div><div title="Links and other code in this passage that points to other passages.">Refers to: <a href="javascript:void(0)" title="Jump" class="jumpto">JA1B</a></div></div></div><div tabindex="0" class="passage-source"><pre><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;img src="images/JA1A.JPG"/&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">You just graduated from cornell with a business degree. Money has never been a worry for you. Your dad inherited his dads real estate business, and they expect you to take it over next. This is a safe option but you have dreams of something else. Cannabis just got legalized in colorado and you hope to get in on the ground floor and start a new empire. Your dad disagress with your plan, he knows theres no risk in his real estate business. He asks to talk to you when you get back to Aspen from Cornell. </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Talk to father|JA1B]]&lt;/div&gt;&lt;/div&gt;</div></td></tr></tbody></table></pre></div><div class="passage-footer closed"><button title="View this passage's comments." class="comment-open pure-button pure-button-primary">💬</button><div class="comment-wrapper"></div></div></div><div data-id="8" class="passage-card" name="JA1B" data-pid="8" data-lt="1393"><div role="button" title="Create a comment using this passage's text." class="edit">✎</div><h2 class="passage-title">JA1B</h2><p class="passage-tags"><span class="tag-title">Tags: </span><span title="Filter..." class="tag-listing" style="display: inline-block; border-width: 0px 1.1em; border-left: 1.1em solid rgb(46, 204, 64); border-color: rgb(46, 204, 64); padding: 0px 0.1rem; margin-right: 0.5rem;">JA</span></p><div class="passage-references"><h3 class="passage-references-title">References to Other Passages: </h3><div class="passage-reference-wrapper"><div title="Links and other code in other passages that points to this passage.">Referred by: <a href="javascript:void(0)" title="Jump" class="jumpto">JA1A</a></div><div title="Links and other code in this passage that points to other passages.">Refers to: <a href="javascript:void(0)" title="Jump" class="jumpto">JA00S</a></div></div></div><div tabindex="0" class="passage-source"><pre><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;img src="images/JA1B.JPG"/&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">You meet with your father in his estate in Aspen:</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;ctp "JAandJAdad"&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="4"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;jadad&gt;&gt;John, your grandfather made his fortune in real estate.&lt;&lt;/jadad&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="5"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance "JAandJAdad"&gt;&gt;&lt;&lt;/button&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="6"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;ctpNext&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="7"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;jadad&gt;&gt;We don’t take risks.&lt;&lt;/jadad&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="8"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance "JAandJAdad"&gt;&gt;&lt;&lt;/button&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="9"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;ctpNext&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="10"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;ja&gt;&gt;Yeah, but this is the future, Dad.&lt;&lt;/ja&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="11"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance "JAandJAdad"&gt;&gt;&lt;&lt;/button&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="12"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;ctpNext&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="13"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;ja&gt;&gt;If it flops, the government will protect us.&lt;&lt;/ja&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="14"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">You think they’ll do that for people like Michael Thompson?</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="15"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;/ctp&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="16"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="17"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">You hear his advice but you know theres money to be made in cannabis. Didn't grandpa have to take a risk at some point?</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="18"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">Its time to make your decision. Do you play it safe and keep working in the family business? Or do you invest in cannabis early?</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="19"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Take over real estate business|JA00S][$wealth +=30, $health +=10]]&lt;/div&gt;&lt;/div&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="20"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Invest in cannabis early|JA00S][$wealth +=50]]&lt;/div&gt;&lt;/div&gt;</div></td></tr></tbody></table></pre></div><div class="passage-footer closed"><button title="View this passage's comments." class="comment-open pure-button pure-button-primary">💬</button><div class="comment-wrapper"></div></div></div><div data-id="9" class="passage-card" name="JA2A" data-pid="9" data-lt="1376"><div role="button" title="Create a comment using this passage's text." class="edit">✎</div><h2 class="passage-title">JA2A</h2><p class="passage-tags"><span class="tag-title">Tags: </span><span title="Filter..." class="tag-listing" style="display: inline-block; border-width: 0px 1.1em; border-left: 1.1em solid rgb(46, 204, 64); border-color: rgb(46, 204, 64); padding: 0px 0.1rem; margin-right: 0.5rem;">JA</span></p><div class="passage-references"><h3 class="passage-references-title">References to Other Passages: </h3><div class="passage-reference-wrapper"><div title="Links and other code in other passages that points to this passage.">Referred by: <a href="javascript:void(0)" title="Jump" class="jumpto">JA00S</a></div><div title="Links and other code in this passage that points to other passages.">Refers to: <a href="javascript:void(0)" title="Jump" class="jumpto">JA10S</a></div></div></div><div tabindex="0" class="passage-source"><pre><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;img src="images/JA2A.JPG"/&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">Cannabis is still illegal federally but in some states the medical sector is profitable. You get a call from Dave, your friend from Cornell. You guys always talked about investing together, maybe now is the perfect time?</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">Dave flies into Aspen and you show him the beauties of Colorado. Before long business talks begin and Dave agrees, theres less risk for you guys. </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="4"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="5"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;ctp "JAandJAfriend"&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="6"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;jafriend&gt;&gt;This new medical marijuana industry is risky…&lt;&lt;/jafriend&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="7"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance "JAandJAfriend"&gt;&gt;&lt;&lt;/button&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="8"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;ctpNext&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="9"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;jafriend&gt;&gt;but let’s be real; we aren’t the ones getting arrested for this.&lt;&lt;/jafriend&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="10"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;/ctp&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="11"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">You know he is right, no matter how bad it feels. You know theres long been injustice surronding cannabis in different communities. Dave leaves Aspen the next day, you still haven't given him your decision yet. You haven't decided yet yourself. </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="12"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">Do you play it safe in a retail business or take a risk and invest in medical marijuana?</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="13"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Real Estate|JA10S][$wealth +=20]]&lt;/div&gt;&lt;/div&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="14"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[medical marijuana|JA10S][$wealth +=40, $sysdis +=5]]&lt;/div&gt;&lt;/div&gt;</div></td></tr></tbody></table></pre></div><div class="passage-footer closed"><button title="View this passage's comments." class="comment-open pure-button pure-button-primary">💬</button><div class="comment-wrapper"></div></div></div><div data-id="10" class="passage-card" name="JA3A" data-pid="10" data-lt="360"><div role="button" title="Create a comment using this passage's text." class="edit">✎</div><h2 class="passage-title">JA3A</h2><p class="passage-tags"><span class="tag-title">Tags: </span><span title="Filter..." class="tag-listing" style="display: inline-block; border-width: 0px 1.1em; border-left: 1.1em solid rgb(46, 204, 64); border-color: rgb(46, 204, 64); padding: 0px 0.1rem; margin-right: 0.5rem;">JA</span></p><div class="passage-references"><h3 class="passage-references-title">References to Other Passages: </h3><div class="passage-reference-wrapper"><div title="Links and other code in other passages that points to this passage.">Referred by: <a href="javascript:void(0)" title="Jump" class="jumpto">JA10S</a></div><div title="Links and other code in this passage that points to other passages.">Refers to: <a href="javascript:void(0)" title="Jump" class="jumpto">JA3B</a></div></div></div><div tabindex="0" class="passage-source"><pre><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;img src="images/JA3A.JPG"/&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">Its 2014, an amendment got passed in 2012 in Colorado, allowing for the sell of recreational cannabis. Big investors dominate from the start, they have the captial to open lots of dispensaries without worrying about profit right away. </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[JA3B]]&lt;/div&gt;&lt;/div&gt;</div></td></tr></tbody></table></pre></div><div class="passage-footer closed"><button title="View this passage's comments." class="comment-open pure-button pure-button-primary">💬</button><div class="comment-wrapper"></div></div></div><div data-id="11" class="passage-card" name="JA3B" data-pid="11" data-lt="1262"><div role="button" title="Create a comment using this passage's text." class="edit">✎</div><h2 class="passage-title">JA3B</h2><p class="passage-tags"><span class="tag-title">Tags: </span><span title="Filter..." class="tag-listing" style="display: inline-block; border-width: 0px 1.1em; border-left: 1.1em solid rgb(46, 204, 64); border-color: rgb(46, 204, 64); padding: 0px 0.1rem; margin-right: 0.5rem;">JA</span></p><div class="passage-references"><h3 class="passage-references-title">References to Other Passages: </h3><div class="passage-reference-wrapper"><div title="Links and other code in other passages that points to this passage.">Referred by: <a href="javascript:void(0)" title="Jump" class="jumpto">JA3A</a></div><div title="Links and other code in this passage that points to other passages.">Refers to: <a href="javascript:void(0)" title="Jump" class="jumpto">JA4A</a><a href="javascript:void(0)" title="Jump" class="jumpto">JA3C</a></div></div></div><div tabindex="0" class="passage-source"><pre><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;img src="images/JA3A.JPG"/&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;ctp "JA"&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;ja&gt;&gt;"So they finally legalized it...&lt;&lt;/ja&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="4"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance "JA"&gt;&gt;&lt;&lt;/button&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="5"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;ctpNext&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="6"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;ja&gt;&gt;but the same people who got locked up for selling it can’t even open a dispensary now?&lt;&lt;/ja&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="7"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance "JA"&gt;&gt;&lt;&lt;/button&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="8"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;ctpNext&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="9"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;ja&gt;&gt;Wild.&lt;&lt;/ja&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="10"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;/ctp&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="11"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="12"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">Weed has been legal for a few weeks now and Dave is worried about the increased risk. The new market is hot right now, but who knows if it will stay that way. He thinks you guys should shift to a safer business plan and franchise a fast food restaurant. You still see opportunities in Cannabis. You see an opportunity to invest on a corporate scale into the cannabis industry. Time is running out if you want to get into cannabis early, what do you decide?</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="13"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Franchise in fast food|JA4A][$wealth +=10]]&lt;/div&gt;&lt;/div&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="14"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Invest in cannabis at a corporate scale|JA3C][$wealth +=50]]&lt;/div&gt;&lt;/div&gt;</div></td></tr></tbody></table></pre></div><div class="passage-footer closed"><button title="View this passage's comments." class="comment-open pure-button pure-button-primary">💬</button><div class="comment-wrapper"></div></div></div><div data-id="12" class="passage-card" name="JA3C" data-pid="12" data-lt="338"><div role="button" title="Create a comment using this passage's text." class="edit">✎</div><h2 class="passage-title">JA3C</h2><p class="passage-tags"><span class="tag-title">Tags: </span><span title="Filter..." class="tag-listing" style="display: inline-block; border-width: 0px 1.1em; border-left: 1.1em solid rgb(46, 204, 64); border-color: rgb(46, 204, 64); padding: 0px 0.1rem; margin-right: 0.5rem;">JA</span></p><div class="passage-references"><h3 class="passage-references-title">References to Other Passages: </h3><div class="passage-reference-wrapper"><div title="Links and other code in other passages that points to this passage.">Referred by: <a href="javascript:void(0)" title="Jump" class="jumpto">JA3B</a></div><div title="Links and other code in this passage that points to other passages.">Refers to: <a href="javascript:void(0)" title="Jump" class="jumpto">JA3D</a></div></div></div><div tabindex="0" class="passage-source"><pre><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;img src="images/JA3C.JPG"/&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">You've decided that you're committed to investing in the cannabis industry. Your dad is displeased with your decision and urges you to reconsider. He thinks the risk is too great in a new industry. </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Risk assesment|JA3D]]&lt;/div&gt;&lt;/div&gt;</div></td></tr></tbody></table></pre></div><div class="passage-footer closed"><button title="View this passage's comments." class="comment-open pure-button pure-button-primary">💬</button><div class="comment-wrapper"></div></div></div><div data-id="13" class="passage-card" name="JA3D" data-pid="13" data-lt="937"><div role="button" title="Create a comment using this passage's text." class="edit">✎</div><h2 class="passage-title">JA3D</h2><p class="passage-tags"><span class="tag-title">Tags: </span><span title="Filter..." class="tag-listing" style="display: inline-block; border-width: 0px 1.1em; border-left: 1.1em solid rgb(46, 204, 64); border-color: rgb(46, 204, 64); padding: 0px 0.1rem; margin-right: 0.5rem;">JA</span></p><div class="passage-references"><h3 class="passage-references-title">References to Other Passages: </h3><div class="passage-reference-wrapper"><div title="Links and other code in other passages that points to this passage.">Referred by: <a href="javascript:void(0)" title="Jump" class="jumpto">JA3C</a></div><div title="Links and other code in this passage that points to other passages.">Refers to: <a href="javascript:void(0)" title="Jump" class="jumpto">JA3E</a><a href="javascript:void(0)" title="Jump" class="jumpto">JA3F</a></div></div></div><div tabindex="0" class="passage-source"><pre><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;img src="images/JA3C.JPG"/&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="notebox"&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">THE DENVER POST</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="4"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;hr&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="5"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;type 60ms&gt;&gt;Black communities faced higher incarceration rates for cannabis, but now wealthy investors are swooping in.&lt;&lt;/type&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="6"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;hr&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="7"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;/div&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="8"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="9"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">Your dad knows now that you are committed to the cannabis industry and tries to form a compromise. He wants you to start small, maybe as a partial owner of one dispensary. You still think there is fortunes to be made in the new market. You want to go all-in and start your own chain of dispensaries. You have the capital to open multiple stores and compete with local dispensary prices. </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="10"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Small scale investments|JA3E][$wealth +=30]]&lt;/div&gt;&lt;/div&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="11"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Go all-in and fund dispensary chain|JA3F][$wealth +=50, $sysdis +=5]]&lt;/div&gt;&lt;/div&gt;</div></td></tr></tbody></table></pre></div><div class="passage-footer closed"><button title="View this passage's comments." class="comment-open pure-button pure-button-primary">💬</button><div class="comment-wrapper"></div></div></div><div data-id="14" class="passage-card" name="JA3E" data-pid="14" data-lt="419"><div role="button" title="Create a comment using this passage's text." class="edit">✎</div><h2 class="passage-title">JA3E</h2><p class="passage-tags"><span class="tag-title">Tags: </span><span title="Filter..." class="tag-listing" style="display: inline-block; border-width: 0px 1.1em; border-left: 1.1em solid rgb(46, 204, 64); border-color: rgb(46, 204, 64); padding: 0px 0.1rem; margin-right: 0.5rem;">JA</span></p><div class="passage-references"><h3 class="passage-references-title">References to Other Passages: </h3><div class="passage-reference-wrapper"><div title="Links and other code in other passages that points to this passage.">Referred by: <a href="javascript:void(0)" title="Jump" class="jumpto">JA3D</a></div><div title="Links and other code in this passage that points to other passages.">Refers to: <a href="javascript:void(0)" title="Jump" class="jumpto">JA4C</a></div></div></div><div tabindex="0" class="passage-source"><pre><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;img src="images/JA3E.JPG"/&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;ja&gt;&gt;"This industry is blowing up. I’d be stupid not to get in… but I gotta be careful. Politics change fast."&lt;&lt;/ja&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">Your dad is happy with your decision. At least now if this experiment fails, you can still fall back on the families real estate company. </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="4"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[News segment|JA4C]]&lt;/div&gt;&lt;/div&gt;</div></td></tr></tbody></table></pre></div><div class="passage-footer closed"><button title="View this passage's comments." class="comment-open pure-button pure-button-primary">💬</button><div class="comment-wrapper"></div></div></div><div data-id="15" class="passage-card" name="JA3F" data-pid="15" data-lt="485"><div role="button" title="Create a comment using this passage's text." class="edit">✎</div><h2 class="passage-title">JA3F</h2><p class="passage-tags"><span class="tag-title">Tags: </span><span title="Filter..." class="tag-listing" style="display: inline-block; border-width: 0px 1.1em; border-left: 1.1em solid rgb(46, 204, 64); border-color: rgb(46, 204, 64); padding: 0px 0.1rem; margin-right: 0.5rem;">JA</span></p><div class="passage-references"><h3 class="passage-references-title">References to Other Passages: </h3><div class="passage-reference-wrapper"><div title="Links and other code in other passages that points to this passage.">Referred by: <a href="javascript:void(0)" title="Jump" class="jumpto">JA3D</a></div><div title="Links and other code in this passage that points to other passages.">Refers to: <a href="javascript:void(0)" title="Jump" class="jumpto">JA4C</a></div></div></div><div tabindex="0" class="passage-source"><pre><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;img src="images/JA3F.JPG"/&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">You take your dads advice into consideration, but you know this is worth the risk. You use most of the capital you have and use it to fund a chain of dispensaries.</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;ja&gt;&gt;"Money’s about timing, and I’m ahead of the curve. Funny how something illegal yesterday makes you rich today—if you’re the right kind of person."&lt;&lt;/ja&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="4"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[News segment|JA4C]]&lt;/div&gt;&lt;/div&gt;</div></td></tr></tbody></table></pre></div><div class="passage-footer closed"><button title="View this passage's comments." class="comment-open pure-button pure-button-primary">💬</button><div class="comment-wrapper"></div></div></div><div data-id="16" class="passage-card" name="JA4A" data-pid="16" data-lt="563"><div role="button" title="Create a comment using this passage's text." class="edit">✎</div><h2 class="passage-title">JA4A</h2><p class="passage-tags"><span class="tag-title">Tags: </span><span title="Filter..." class="tag-listing" style="display: inline-block; border-width: 0px 1.1em; border-left: 1.1em solid rgb(46, 204, 64); border-color: rgb(46, 204, 64); padding: 0px 0.1rem; margin-right: 0.5rem;">JA</span></p><div class="passage-references"><h3 class="passage-references-title">References to Other Passages: </h3><div class="passage-reference-wrapper"><div title="Links and other code in other passages that points to this passage.">Referred by: <a href="javascript:void(0)" title="Jump" class="jumpto">JA3B</a></div><div title="Links and other code in this passage that points to other passages.">Refers to: <a href="javascript:void(0)" title="Jump" class="jumpto">JA4B</a></div></div></div><div tabindex="0" class="passage-source"><pre><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;img src="images/JA4A.JPG"/&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">You decide to listen to your dads advice, he has successfuly ran a business for decades. This option avoids the risk and when your dad is ready to retire, you can take over the main business. Using your dads real estate connections you start buying buildings to turn them into subway restaurants. The new stores quickly start making a profit. Its nothing compared to what your dads business makes, but at least this is yours. </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[News report|JA4B]]&lt;/div&gt;&lt;/div&gt;</div></td></tr></tbody></table></pre></div><div class="passage-footer closed"><button title="View this passage's comments." class="comment-open pure-button pure-button-primary">💬</button><div class="comment-wrapper"></div></div></div><div data-id="17" class="passage-card" name="JA4B" data-pid="17" data-lt="768"><div role="button" title="Create a comment using this passage's text." class="edit">✎</div><h2 class="passage-title">JA4B</h2><p class="passage-tags"><span class="tag-title">Tags: </span><span title="Filter..." class="tag-listing" style="display: inline-block; border-width: 0px 1.1em; border-left: 1.1em solid rgb(46, 204, 64); border-color: rgb(46, 204, 64); padding: 0px 0.1rem; margin-right: 0.5rem;">JA</span></p><div class="passage-references"><h3 class="passage-references-title">References to Other Passages: </h3><div class="passage-reference-wrapper"><div title="Links and other code in other passages that points to this passage.">Referred by: <a href="javascript:void(0)" title="Jump" class="jumpto">JA4A</a></div><div title="Links and other code in this passage that points to other passages.">Refers to: <a href="javascript:void(0)" title="Jump" class="jumpto">JA5A</a><a href="javascript:void(0)" title="Jump" class="jumpto">JA5B</a><a href="javascript:void(0)" title="Jump" class="jumpto">Character Select</a></div></div></div><div tabindex="0" class="passage-source"><pre><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;img src="images/JA4B.JPG"/&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">“They finally got their foot in the door, and the big guys still locked them out.”</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">News Report: exposé on social-equity barriers in cannabis.</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="4"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">Exhales. He never needed to take risks. His money worked for him. Not everyone had that luxury.</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="5"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;set $JAplayed to true&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="6"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="7"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="8"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;if $MTplayed&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="9"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	&lt;&lt;if $MTprison&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="10"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Continue|JA5A]]&lt;/div&gt;&lt;/div&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="11"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	&lt;&lt;else&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="12"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Continue|JA5B]]&lt;/div&gt;&lt;/div&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="13"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	&lt;&lt;/if&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="14"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;else&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="15"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[The End|Character Select]]&lt;/div&gt;&lt;/div&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="16"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;/if&gt;&gt;</div></td></tr></tbody></table></pre></div><div class="passage-footer closed"><button title="View this passage's comments." class="comment-open pure-button pure-button-primary">💬</button><div class="comment-wrapper"></div></div></div><div data-id="18" class="passage-card" name="JA4C" data-pid="18" data-lt="356"><div role="button" title="Create a comment using this passage's text." class="edit">✎</div><h2 class="passage-title">JA4C</h2><p class="passage-tags"><span class="tag-title">Tags: </span><span title="Filter..." class="tag-listing" style="display: inline-block; border-width: 0px 1.1em; border-left: 1.1em solid rgb(46, 204, 64); border-color: rgb(46, 204, 64); padding: 0px 0.1rem; margin-right: 0.5rem;">JA</span></p><div class="passage-references"><h3 class="passage-references-title">References to Other Passages: </h3><div class="passage-reference-wrapper"><div title="Links and other code in other passages that points to this passage.">Referred by: <a href="javascript:void(0)" title="Jump" class="jumpto">JA3E</a><a href="javascript:void(0)" title="Jump" class="jumpto">JA3F</a></div><div title="Links and other code in this passage that points to other passages.">Refers to: <a href="javascript:void(0)" title="Jump" class="jumpto">JA4D</a></div></div></div><div tabindex="0" class="passage-source"><pre><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;img src="images/JA4C.JPG"/&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">You see a report in the Denver Pillar and it reads: Colorado’s cannabis boom: From War on Drugs to Wall Street. The industry is projected to exceed $10 billion, but Black entrepreneurs face hurdles entering the space."</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Back to John|JA4D]]&lt;/div&gt;&lt;/div&gt;</div></td></tr></tbody></table></pre></div><div class="passage-footer closed"><button title="View this passage's comments." class="comment-open pure-button pure-button-primary">💬</button><div class="comment-wrapper"></div></div></div><div data-id="19" class="passage-card" name="JA4D" data-pid="19" data-lt="1258"><div role="button" title="Create a comment using this passage's text." class="edit">✎</div><h2 class="passage-title">JA4D</h2><p class="passage-tags"><span class="tag-title">Tags: </span><span title="Filter..." class="tag-listing" style="display: inline-block; border-width: 0px 1.1em; border-left: 1.1em solid rgb(46, 204, 64); border-color: rgb(46, 204, 64); padding: 0px 0.1rem; margin-right: 0.5rem;">JA</span></p><div class="passage-references"><h3 class="passage-references-title">References to Other Passages: </h3><div class="passage-reference-wrapper"><div title="Links and other code in other passages that points to this passage.">Referred by: <a href="javascript:void(0)" title="Jump" class="jumpto">JA4C</a></div><div title="Links and other code in this passage that points to other passages.">Refers to: <a href="javascript:void(0)" title="Jump" class="jumpto">JA5B</a><a href="javascript:void(0)" title="Jump" class="jumpto">Character Select</a></div></div></div><div tabindex="0" class="passage-source"><pre><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;img src="images/JA4D.JPG"/&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">You sit back on a large boat in the Chatfield Reservoir:</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;ctp "JA"&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="4"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;ja&gt;&gt;Funny. Some guys sit in a cell for selling a gram of this stuff.&lt;&lt;/ja&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="5"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance "JA"&gt;&gt;&lt;&lt;/button&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="6"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;ctpNext&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="7"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;ja&gt;&gt;I built an empire off it…&lt;&lt;/ja&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="8"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance "JA"&gt;&gt;&lt;&lt;/button&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="9"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;ctpNext&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="10"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;ja&gt;&gt;The system worked for me. Hell, it was built for me.&lt;&lt;/ja&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="11"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">(If things were fair, would he be where he is?)</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="12"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;/ctp&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="13"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">Your dad retires when you are 36 and the real estate business is passed down to you. Your dispensary chain is one of the biggest in Colorado with stores in most counties. You have enough money to retire now, hell you have enough money that your children will never have to work. </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="14"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;set $JAplayed to true&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="15"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;if $MTplayed is true&gt;&gt;&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Meet with Michael|JA5B]]&lt;/div&gt;&lt;/div&gt;&lt;&lt;else&gt;&gt;&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Character Select]]&lt;/div&gt;&lt;/div&gt;&lt;&lt;/if&gt;&gt;</div></td></tr></tbody></table></pre></div><div class="passage-footer closed"><button title="View this passage's comments." class="comment-open pure-button pure-button-primary">💬</button><div class="comment-wrapper"></div></div></div><div data-id="20" class="passage-card" name="JA5A" data-pid="20" data-lt="401"><div role="button" title="Create a comment using this passage's text." class="edit">✎</div><h2 class="passage-title">JA5A</h2><p class="passage-tags"><span class="tag-title">Tags: </span><span title="Filter..." class="tag-listing" style="display: inline-block; border-width: 0px 1.1em; border-left: 1.1em solid rgb(46, 204, 64); border-color: rgb(46, 204, 64); padding: 0px 0.1rem; margin-right: 0.5rem;">JA</span><span title="Filter..." class="tag-listing" style="display: inline-block; border-width: 0px 1.1em; border-left: 1.1em solid rgb(0, 116, 217); border-color: rgb(0, 116, 217); padding: 0px 0.1rem; margin-right: 0.5rem;">Crossover</span><span title="Filter..." class="tag-listing" style="display: inline-block; border-width: 0px 1.1em; border-left: 1.1em solid rgb(177, 13, 201); border-color: rgb(177, 13, 201); padding: 0px 0.1rem; margin-right: 0.5rem;">MT</span></p><div class="passage-references"><h3 class="passage-references-title">References to Other Passages: </h3><div class="passage-reference-wrapper"><div title="Links and other code in other passages that points to this passage.">Referred by: <a href="javascript:void(0)" title="Jump" class="jumpto">JA4B</a></div><div title="Links and other code in this passage that points to other passages.">Refers to: <a href="javascript:void(0)" title="Jump" class="jumpto">Character Select</a></div></div></div><div tabindex="0" class="passage-source"><pre><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;img src="images/JA5A.JPG"/&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">You read a news article about cannabis industry expansion. A name catches your eye: Michael Thompson.</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">“Wait, I know him. Used to buy weed from him in 2003. Got locked up in 2003. He’s still there.”</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="4"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">“Ten years for possession. I made ten million off the same thing.”</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="5"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Character Select]]&lt;/div&gt;&lt;/div&gt;</div></td></tr></tbody></table></pre></div><div class="passage-footer closed"><button title="View this passage's comments." class="comment-open pure-button pure-button-primary">💬</button><div class="comment-wrapper"></div></div></div><div data-id="21" class="passage-card" name="JA5B" data-pid="21" data-lt="832"><div role="button" title="Create a comment using this passage's text." class="edit">✎</div><h2 class="passage-title">JA5B</h2><p class="passage-tags"><span class="tag-title">Tags: </span><span title="Filter..." class="tag-listing" style="display: inline-block; border-width: 0px 1.1em; border-left: 1.1em solid rgb(46, 204, 64); border-color: rgb(46, 204, 64); padding: 0px 0.1rem; margin-right: 0.5rem;">JA</span><span title="Filter..." class="tag-listing" style="display: inline-block; border-width: 0px 1.1em; border-left: 1.1em solid rgb(0, 116, 217); border-color: rgb(0, 116, 217); padding: 0px 0.1rem; margin-right: 0.5rem;">Crossover</span><span title="Filter..." class="tag-listing" style="display: inline-block; border-width: 0px 1.1em; border-left: 1.1em solid rgb(177, 13, 201); border-color: rgb(177, 13, 201); padding: 0px 0.1rem; margin-right: 0.5rem;">MT</span></p><div class="passage-references"><h3 class="passage-references-title">References to Other Passages: </h3><div class="passage-reference-wrapper"><div title="Links and other code in other passages that points to this passage.">Referred by: <a href="javascript:void(0)" title="Jump" class="jumpto">JA4B</a><a href="javascript:void(0)" title="Jump" class="jumpto">JA4D</a></div><div title="Links and other code in this passage that points to other passages.">Refers to: <a href="javascript:void(0)" title="Jump" class="jumpto">Character Select</a></div></div></div><div tabindex="0" class="passage-source"><pre><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;img src="images/JA5B.JPG"/&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">our dispensary chain is holding an event and members of the industry across Colorado are invited. You spot Michael at the event and go up to talk to him. </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;ctp "JAandMT"&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="4"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;ja&gt;&gt;Michael? Damn, man, it’s been years.&lt;&lt;/ja&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="5"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance "JAandMT"&gt;&gt;&lt;&lt;/button&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="6"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;ctpNext&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="7"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;mt&gt;&gt;Yeah, funny how we both ended up in the same business.&lt;&lt;/mt&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="8"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance "JAandMT"&gt;&gt;&lt;&lt;/button&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="9"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;ctpNext&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="10"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;ja&gt;&gt;Yeah, well different starting points.&lt;&lt;/ja&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="11"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">Michael doesn’t laugh.</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="12"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;/ctp&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="13"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Character Select]]&lt;/div&gt;&lt;/div&gt;</div></td></tr></tbody></table></pre></div><div class="passage-footer closed"><button title="View this passage's comments." class="comment-open pure-button pure-button-primary">💬</button><div class="comment-wrapper"></div></div></div><div data-id="22" class="passage-card" name="JA90S" data-pid="22" data-lt="288"><div role="button" title="Create a comment using this passage's text." class="edit">✎</div><h2 class="passage-title">JA90S</h2><p class="passage-tags"><span class="tag-title">Tags: </span><span title="Filter..." class="tag-listing" style="display: inline-block; border-width: 0px 1.1em; border-left: 1.1em solid rgb(46, 204, 64); border-color: rgb(46, 204, 64); padding: 0px 0.1rem; margin-right: 0.5rem;">JA</span></p><div class="passage-references"><h3 class="passage-references-title">References to Other Passages: </h3><div class="passage-reference-wrapper"><div title="Links and other code in other passages that points to this passage.">Referred by: <a href="javascript:void(0)" title="Jump" class="jumpto">John Anderson</a></div><div title="Links and other code in this passage that points to other passages.">Refers to: <a href="javascript:void(0)" title="Jump" class="jumpto">JA1A</a></div></div></div><div tabindex="0" class="passage-source"><pre><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="chapterHead"&gt;&lt;h2&gt;Social Context&lt;/h2&gt;&lt;hr&gt;&lt;h1&gt;The 1990s&lt;/h1&gt;&lt;/div&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;video "videos/93-GetHighGetStupidGetAIDS.mp4" controls&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Continue|JA1A]]&lt;/div&gt;&lt;/div&gt;</div></td></tr></tbody></table></pre></div><div class="passage-footer closed"><button title="View this passage's comments." class="comment-open pure-button pure-button-primary">💬</button><div class="comment-wrapper"></div></div></div><div data-id="23" class="passage-card" name="Jamal Washington" data-pid="23" data-lt="1050"><div role="button" title="Create a comment using this passage's text." class="edit">✎</div><h2 class="passage-title">Jamal Washington</h2><p class="passage-tags"><span class="tag-title">Tags: </span><span title="Filter..." class="tag-listing" style="display: inline-block; border-width: 0px 1.1em; border-left: 1.1em solid rgb(255, 133, 27); border-color: rgb(255, 133, 27); padding: 0px 0.1rem; margin-right: 0.5rem;">JW</span></p><div class="passage-references"><h3 class="passage-references-title">References to Other Passages: </h3><div class="passage-reference-wrapper"><div title="Links and other code in other passages that points to this passage.">Referred by: <a href="javascript:void(0)" title="Jump" class="jumpto">Character Select</a></div><div title="Links and other code in this passage that points to other passages.">Refers to: <a href="javascript:void(0)" title="Jump" class="jumpto">JW90S</a></div></div></div><div tabindex="0" class="passage-source"><pre><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;set $sysdis to 50&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;set $legal to 30&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;set $wealth to 20&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="4"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;set $health to 70&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="5"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="chapterHead"&gt;&lt;h2&gt;Scene 2&lt;/h2&gt;&lt;hr&gt;&lt;h1&gt;Jamal Washington&lt;/h1&gt;&lt;/div&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="6"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;img src="images/JW0A.JPG" alt="Jamal Washington as a young man."&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="7"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="notebox"&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="8"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">!!! Bio Facts</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="9"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;type 60ms&gt;&gt;&lt;b&gt;Year of Birth:  &lt;/b&gt;1978&lt;&lt;/type&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="10"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;type 60ms&gt;&gt;&lt;b&gt;Place of Birth:  &lt;/b&gt;Ruby Hill, Denver, Colorado&lt;&lt;/type&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="11"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;type 60ms&gt;&gt;&lt;b&gt;Race:  &lt;/b&gt;African-American&lt;&lt;/type&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="12"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;type 60ms&gt;&gt;&lt;b&gt;Occupation:  &lt;/b&gt;Small Business Owner&lt;&lt;/type&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="13"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;type 60ms&gt;&gt;&lt;b&gt;Education:  &lt;/b&gt;High School Graduate&lt;&lt;/type&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="14"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;type 60ms&gt;&gt;&lt;b&gt;Income:  &lt;/b&gt;Low Income&lt;&lt;/type&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="15"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;/div&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="16"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Meet Jamal|JW90S]]&lt;/div&gt;&lt;/div&gt;</div></td></tr></tbody></table></pre></div><div class="passage-footer closed"><button title="View this passage's comments." class="comment-open pure-button pure-button-primary">💬</button><div class="comment-wrapper"></div></div></div><div data-id="24" class="passage-card" name="JW00S" data-pid="24" data-lt="276"><div role="button" title="Create a comment using this passage's text." class="edit">✎</div><h2 class="passage-title">JW00S</h2><p class="passage-tags"><span class="tag-title">Tags: </span><span title="Filter..." class="tag-listing" style="display: inline-block; border-width: 0px 1.1em; border-left: 1.1em solid rgb(255, 133, 27); border-color: rgb(255, 133, 27); padding: 0px 0.1rem; margin-right: 0.5rem;">JW</span></p><div class="passage-references"><h3 class="passage-references-title">References to Other Passages: </h3><div class="passage-reference-wrapper"><div title="Links and other code in other passages that points to this passage.">Referred by: <a href="javascript:void(0)" title="Jump" class="jumpto">JW1D</a></div><div title="Links and other code in this passage that points to other passages.">Refers to: <a href="javascript:void(0)" title="Jump" class="jumpto">JW2A</a></div></div></div><div tabindex="0" class="passage-source"><pre><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="chapterHead"&gt;&lt;h2&gt;Social Context&lt;/h2&gt;&lt;hr&gt;&lt;h1&gt;The 2000s&lt;/h1&gt;&lt;/div&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;video "videos/HugginTheBlock.mp4" controls&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Continue|JW2A]]&lt;/div&gt;&lt;/div&gt;</div></td></tr></tbody></table></pre></div><div class="passage-footer closed"><button title="View this passage's comments." class="comment-open pure-button pure-button-primary">💬</button><div class="comment-wrapper"></div></div></div><div data-id="25" class="passage-card" name="JW00S2" data-pid="25" data-lt="276"><div role="button" title="Create a comment using this passage's text." class="edit">✎</div><h2 class="passage-title">JW00S2</h2><p class="passage-tags"><span class="tag-title">Tags: </span><span title="Filter..." class="tag-listing" style="display: inline-block; border-width: 0px 1.1em; border-left: 1.1em solid rgb(255, 133, 27); border-color: rgb(255, 133, 27); padding: 0px 0.1rem; margin-right: 0.5rem;">JW</span></p><div class="passage-references"><h3 class="passage-references-title">References to Other Passages: </h3><div class="passage-reference-wrapper"><div title="Links and other code in other passages that points to this passage.">Referred by: <a href="javascript:void(0)" title="Jump" class="jumpto">JW1C</a></div><div title="Links and other code in this passage that points to other passages.">Refers to: <a href="javascript:void(0)" title="Jump" class="jumpto">JW2D</a></div></div></div><div tabindex="0" class="passage-source"><pre><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="chapterHead"&gt;&lt;h2&gt;Social Context&lt;/h2&gt;&lt;hr&gt;&lt;h1&gt;The 2000s&lt;/h1&gt;&lt;/div&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;video "videos/HugginTheBlock.mp4" controls&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Continue|JW2D]]&lt;/div&gt;&lt;/div&gt;</div></td></tr></tbody></table></pre></div><div class="passage-footer closed"><button title="View this passage's comments." class="comment-open pure-button pure-button-primary">💬</button><div class="comment-wrapper"></div></div></div><div data-id="26" class="passage-card" name="JW10S" data-pid="26" data-lt="277"><div role="button" title="Create a comment using this passage's text." class="edit">✎</div><h2 class="passage-title">JW10S</h2><p class="passage-tags"><span class="tag-title">Tags: </span><span title="Filter..." class="tag-listing" style="display: inline-block; border-width: 0px 1.1em; border-left: 1.1em solid rgb(255, 133, 27); border-color: rgb(255, 133, 27); padding: 0px 0.1rem; margin-right: 0.5rem;">JW</span></p><div class="passage-references"><h3 class="passage-references-title">References to Other Passages: </h3><div class="passage-reference-wrapper"><div title="Links and other code in other passages that points to this passage.">Referred by: <a href="javascript:void(0)" title="Jump" class="jumpto">JW2C</a><a href="javascript:void(0)" title="Jump" class="jumpto">JW2D</a><a href="javascript:void(0)" title="Jump" class="jumpto">JW2E</a><a href="javascript:void(0)" title="Jump" class="jumpto">JW2F</a></div><div title="Links and other code in this passage that points to other passages.">Refers to: <a href="javascript:void(0)" title="Jump" class="jumpto">JW3A</a></div></div></div><div tabindex="0" class="passage-source"><pre><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="chapterHead"&gt;&lt;h2&gt;Social Context&lt;/h2&gt;&lt;hr&gt;&lt;h1&gt;The 2000s&lt;/h1&gt;&lt;/div&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;video "videos/15-Achievements.mp4" controls&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Continue|JW3A]]&lt;/div&gt;&lt;/div&gt;</div></td></tr></tbody></table></pre></div><div class="passage-footer closed"><button title="View this passage's comments." class="comment-open pure-button pure-button-primary">💬</button><div class="comment-wrapper"></div></div></div><div data-id="27" class="passage-card" name="JW1A" data-pid="27" data-lt="368"><div role="button" title="Create a comment using this passage's text." class="edit">✎</div><h2 class="passage-title">JW1A</h2><p class="passage-tags"><span class="tag-title">Tags: </span><span title="Filter..." class="tag-listing" style="display: inline-block; border-width: 0px 1.1em; border-left: 1.1em solid rgb(255, 133, 27); border-color: rgb(255, 133, 27); padding: 0px 0.1rem; margin-right: 0.5rem;">JW</span></p><div class="passage-references"><h3 class="passage-references-title">References to Other Passages: </h3><div class="passage-reference-wrapper"><div title="Links and other code in other passages that points to this passage.">Referred by: <a href="javascript:void(0)" title="Jump" class="jumpto">JW90S</a></div><div title="Links and other code in this passage that points to other passages.">Refers to: <a href="javascript:void(0)" title="Jump" class="jumpto">JW1B</a></div></div></div><div tabindex="0" class="passage-source"><pre><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;img src="images/JW1A.JPG"/&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">You just graduated High School! It starts to weigh on you the decisions you have to make soon. Do you go to college or get a job and make money for your family. You decide to talk to your grandma, she always has good advice. </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Talk with grandma|JW1B]]&lt;/div&gt;&lt;/div&gt;</div></td></tr></tbody></table></pre></div><div class="passage-footer closed"><button title="View this passage's comments." class="comment-open pure-button pure-button-primary">💬</button><div class="comment-wrapper"></div></div></div><div data-id="28" class="passage-card" name="JW1B" data-pid="28" data-lt="1802"><div role="button" title="Create a comment using this passage's text." class="edit">✎</div><h2 class="passage-title">JW1B</h2><p class="passage-tags"><span class="tag-title">Tags: </span><span title="Filter..." class="tag-listing" style="display: inline-block; border-width: 0px 1.1em; border-left: 1.1em solid rgb(255, 133, 27); border-color: rgb(255, 133, 27); padding: 0px 0.1rem; margin-right: 0.5rem;">JW</span></p><div class="passage-references"><h3 class="passage-references-title">References to Other Passages: </h3><div class="passage-reference-wrapper"><div title="Links and other code in other passages that points to this passage.">Referred by: <a href="javascript:void(0)" title="Jump" class="jumpto">JW1A</a></div><div title="Links and other code in this passage that points to other passages.">Refers to: <a href="javascript:void(0)" title="Jump" class="jumpto">JW1C</a><a href="javascript:void(0)" title="Jump" class="jumpto">JW1D</a></div></div></div><div tabindex="0" class="passage-source"><pre><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;img src="images/JW1B.JPG"/&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">You find your grandma on the porch and just talk.</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;ctp "jwgmom"&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="4"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;jwgmom&gt;&gt;They’re building another shopping center down the road. Said it’ll bring in business.&lt;&lt;/jwgmom&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="5"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance "jwgmom"&gt;&gt;&lt;&lt;/button&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="6"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;ctpNext&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="7"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;JW&gt;&gt;That’s good, right?&lt;&lt;/JW&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="8"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance "jwgmom"&gt;&gt;&lt;&lt;/button&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="9"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;ctpNext&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="10"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;jwgmom&gt;&gt;Depends. Back when your granddaddy tried to open a grocery store, the bank wouldn't even let him through the door.&lt;&lt;/jwgmom&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="11"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance "jwgmom"&gt;&gt;&lt;&lt;/button&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="12"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;ctpNext&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="13"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;jwgmom&gt;&gt;Whole block got bought up by folks who had the right connections.&lt;&lt;/jwgmom&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="14"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance "jwgmom"&gt;&gt;&lt;&lt;/button&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="15"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;ctpNext&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="16"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;JW&gt;&gt;That was the '60s. Things changed.&lt;&lt;/JW&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="17"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance "jwgmom"&gt;&gt;&lt;&lt;/button&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="18"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;ctpNext&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="19"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">She looks up at you, shaking her head.</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="20"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance "jwgmom"&gt;&gt;&lt;&lt;/button&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="21"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;ctpNext&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="22"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;jwgmom&gt;&gt;Did they?&lt;&lt;/jwgmom&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="23"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;/ctp&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="24"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">Your left with two choices now. Do you go to college and get a degree or open up your small business?</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="25"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Get a Job|JW1C][$sysdis +=10, $wealth -=10]]&lt;/div&gt;&lt;/div&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="26"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Pursue higher education|JW1D][$sysdis +=5, $wealth +=10]]&lt;/div&gt;&lt;/div&gt;</div></td></tr></tbody></table></pre></div><div class="passage-footer closed"><button title="View this passage's comments." class="comment-open pure-button pure-button-primary">💬</button><div class="comment-wrapper"></div></div></div><div data-id="29" class="passage-card" name="JW1C" data-pid="29" data-lt="513"><div role="button" title="Create a comment using this passage's text." class="edit">✎</div><h2 class="passage-title">JW1C</h2><p class="passage-tags"><span class="tag-title">Tags: </span><span title="Filter..." class="tag-listing" style="display: inline-block; border-width: 0px 1.1em; border-left: 1.1em solid rgb(255, 133, 27); border-color: rgb(255, 133, 27); padding: 0px 0.1rem; margin-right: 0.5rem;">JW</span></p><div class="passage-references"><h3 class="passage-references-title">References to Other Passages: </h3><div class="passage-reference-wrapper"><div title="Links and other code in other passages that points to this passage.">Referred by: <a href="javascript:void(0)" title="Jump" class="jumpto">JW1B</a></div><div title="Links and other code in this passage that points to other passages.">Refers to: <a href="javascript:void(0)" title="Jump" class="jumpto">JW00S2</a></div></div></div><div tabindex="0" class="passage-source"><pre><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;img src="images/JW1C.JPG" alt="."&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">You start work at the smoke shop that opened in the new shopping center. Selling pipes to rich college kids isn't the most fun but the paycheck helps your mom so its worth it.</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="4"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="5"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">After medical marijuana gets legalized in Colorado you get a job at new dispensary. You work hard but realize it doesnt matter, the boss will never see you how he sees your white co-workers. </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="6"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="7"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Continue|JW00S2]]&lt;/div&gt;&lt;/div&gt;</div></td></tr></tbody></table></pre></div><div class="passage-footer closed"><button title="View this passage's comments." class="comment-open pure-button pure-button-primary">💬</button><div class="comment-wrapper"></div></div></div><div data-id="30" class="passage-card" name="JW1D" data-pid="30" data-lt="379"><div role="button" title="Create a comment using this passage's text." class="edit">✎</div><h2 class="passage-title">JW1D</h2><p class="passage-tags"><span class="tag-title">Tags: </span><span title="Filter..." class="tag-listing" style="display: inline-block; border-width: 0px 1.1em; border-left: 1.1em solid rgb(255, 133, 27); border-color: rgb(255, 133, 27); padding: 0px 0.1rem; margin-right: 0.5rem;">JW</span></p><div class="passage-references"><h3 class="passage-references-title">References to Other Passages: </h3><div class="passage-reference-wrapper"><div title="Links and other code in other passages that points to this passage.">Referred by: <a href="javascript:void(0)" title="Jump" class="jumpto">JW1B</a></div><div title="Links and other code in this passage that points to other passages.">Refers to: <a href="javascript:void(0)" title="Jump" class="jumpto">JW00S</a></div></div></div><div tabindex="0" class="passage-source"><pre><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;img src="images/JW1D.JPG" alt="."&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">You finish up your degree in finance and apply for jobs based in policy making. You know thats the real way a difference is gonna be made about poverty in your communities. </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="4"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="5"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">On top of that your student loan debt repayments start soon.</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="6"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Continue|JW00S]]&lt;/div&gt;&lt;/div&gt;</div></td></tr></tbody></table></pre></div><div class="passage-footer closed"><button title="View this passage's comments." class="comment-open pure-button pure-button-primary">💬</button><div class="comment-wrapper"></div></div></div><div data-id="31" class="passage-card" name="JW20S" data-pid="31" data-lt="275"><div role="button" title="Create a comment using this passage's text." class="edit">✎</div><h2 class="passage-title">JW20S</h2><p class="passage-tags"><span class="tag-title">Tags: </span><span title="Filter..." class="tag-listing" style="display: inline-block; border-width: 0px 1.1em; border-left: 1.1em solid rgb(255, 133, 27); border-color: rgb(255, 133, 27); padding: 0px 0.1rem; margin-right: 0.5rem;">JW</span></p><div class="passage-references"><h3 class="passage-references-title">References to Other Passages: </h3><div class="passage-reference-wrapper"><div title="Links and other code in other passages that points to this passage.">Referred by: <a href="javascript:void(0)" title="Jump" class="jumpto">JW3D</a></div><div title="Links and other code in this passage that points to other passages.">Refers to: <a href="javascript:void(0)" title="Jump" class="jumpto">JW4A</a></div></div></div><div tabindex="0" class="passage-source"><pre><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="chapterHead"&gt;&lt;h2&gt;Social Context&lt;/h2&gt;&lt;hr&gt;&lt;h1&gt;The 2020s&lt;/h1&gt;&lt;/div&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;video "videos/SaturdayNight.mp4" controls&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Continue|JW4A]]&lt;/div&gt;&lt;/div&gt;</div></td></tr></tbody></table></pre></div><div class="passage-footer closed"><button title="View this passage's comments." class="comment-open pure-button pure-button-primary">💬</button><div class="comment-wrapper"></div></div></div><div data-id="32" class="passage-card" name="JW2A" data-pid="32" data-lt="369"><div role="button" title="Create a comment using this passage's text." class="edit">✎</div><h2 class="passage-title">JW2A</h2><p class="passage-tags"><span class="tag-title">Tags: </span><span title="Filter..." class="tag-listing" style="display: inline-block; border-width: 0px 1.1em; border-left: 1.1em solid rgb(255, 133, 27); border-color: rgb(255, 133, 27); padding: 0px 0.1rem; margin-right: 0.5rem;">JW</span></p><div class="passage-references"><h3 class="passage-references-title">References to Other Passages: </h3><div class="passage-reference-wrapper"><div title="Links and other code in other passages that points to this passage.">Referred by: <a href="javascript:void(0)" title="Jump" class="jumpto">JW00S</a></div><div title="Links and other code in this passage that points to other passages.">Refers to: <a href="javascript:void(0)" title="Jump" class="jumpto">JW2B</a></div></div></div><div tabindex="0" class="passage-source"><pre><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;img src="images/JW2A.JPG" alt="."&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">You got the job! You get to help write policies for local small business' now. You quickly realize your not gonna be able to make the difference that you thought. The policies aren't designed to help people in your communities.</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="4"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Continue|JW2B]]&lt;/div&gt;&lt;/div&gt;</div></td></tr></tbody></table></pre></div><div class="passage-footer closed"><button title="View this passage's comments." class="comment-open pure-button pure-button-primary">💬</button><div class="comment-wrapper"></div></div></div><div data-id="33" class="passage-card" name="JW2B" data-pid="33" data-lt="404"><div role="button" title="Create a comment using this passage's text." class="edit">✎</div><h2 class="passage-title">JW2B</h2><p class="passage-tags"><span class="tag-title">Tags: </span><span title="Filter..." class="tag-listing" style="display: inline-block; border-width: 0px 1.1em; border-left: 1.1em solid rgb(255, 133, 27); border-color: rgb(255, 133, 27); padding: 0px 0.1rem; margin-right: 0.5rem;">JW</span></p><div class="passage-references"><h3 class="passage-references-title">References to Other Passages: </h3><div class="passage-reference-wrapper"><div title="Links and other code in other passages that points to this passage.">Referred by: <a href="javascript:void(0)" title="Jump" class="jumpto">JW2A</a></div><div title="Links and other code in this passage that points to other passages.">Refers to: <a href="javascript:void(0)" title="Jump" class="jumpto">JW2C</a></div></div></div><div tabindex="0" class="passage-source"><pre><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;img src="images/JW2B.JPG" alt="."&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">You review small business loan approvals in 2008 and sees how the funding is being distribute, and sometings not right. </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="4"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;jw&gt;&gt;How come every time I push for an equity loan, it gets denied, but John’s expansion gets rubber-stamped?&lt;&lt;/jw&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="5"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Continue|JW2C]]&lt;/div&gt;&lt;/div&gt;</div></td></tr></tbody></table></pre></div><div class="passage-footer closed"><button title="View this passage's comments." class="comment-open pure-button pure-button-primary">💬</button><div class="comment-wrapper"></div></div></div><div data-id="34" class="passage-card" name="JW2C" data-pid="34" data-lt="1233"><div role="button" title="Create a comment using this passage's text." class="edit">✎</div><h2 class="passage-title">JW2C</h2><p class="passage-tags"><span class="tag-title">Tags: </span><span title="Filter..." class="tag-listing" style="display: inline-block; border-width: 0px 1.1em; border-left: 1.1em solid rgb(255, 133, 27); border-color: rgb(255, 133, 27); padding: 0px 0.1rem; margin-right: 0.5rem;">JW</span></p><div class="passage-references"><h3 class="passage-references-title">References to Other Passages: </h3><div class="passage-reference-wrapper"><div title="Links and other code in other passages that points to this passage.">Referred by: <a href="javascript:void(0)" title="Jump" class="jumpto">JW2B</a></div><div title="Links and other code in this passage that points to other passages.">Refers to: <a href="javascript:void(0)" title="Jump" class="jumpto">JW2E</a><a href="javascript:void(0)" title="Jump" class="jumpto">JW10S</a></div></div></div><div tabindex="0" class="passage-source"><pre><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;img src="images/JW2C.JPG" alt="."&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;ctp "JW"&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;jw&gt;&gt;I fought to get these loan programs expanded, but it’s the same old game.&lt;&lt;/jw&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="4"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance "JW"&gt;&gt;&lt;&lt;/button&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="5"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;ctpNext&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="6"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;jw&gt;&gt;Wealthy applicants have the collateral, the connections, and the trust.&lt;&lt;/jw&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="7"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance "JW"&gt;&gt;&lt;&lt;/button&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="8"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;ctpNext&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="9"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;jw&gt;&gt;Meanwhile, Black-owned businesses account for less than 3% of approvals.&lt;&lt;/jw&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="10"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance "JW"&gt;&gt;&lt;&lt;/button&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="11"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;ctpNext&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="12"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;jw&gt;&gt;And here I am, fighting for scraps. What is the point of all this?&lt;&lt;/jw&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="13"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;/ctp&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="14"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="15"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">You're left with a decision now. Do you stay working in government fighting for change or quit and open your own dispensary?</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="16"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Stay in government and keep pushing for change|JW2E]]&lt;/div&gt;&lt;/div&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="17"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Quit and open your own dispensary|JW10S]]&lt;/div&gt;&lt;/div&gt;</div></td></tr></tbody></table></pre></div><div class="passage-footer closed"><button title="View this passage's comments." class="comment-open pure-button pure-button-primary">💬</button><div class="comment-wrapper"></div></div></div><div data-id="35" class="passage-card" name="JW2D" data-pid="35" data-lt="686"><div role="button" title="Create a comment using this passage's text." class="edit">✎</div><h2 class="passage-title">JW2D</h2><p class="passage-tags"><span class="tag-title">Tags: </span><span title="Filter..." class="tag-listing" style="display: inline-block; border-width: 0px 1.1em; border-left: 1.1em solid rgb(255, 133, 27); border-color: rgb(255, 133, 27); padding: 0px 0.1rem; margin-right: 0.5rem;">JW</span></p><div class="passage-references"><h3 class="passage-references-title">References to Other Passages: </h3><div class="passage-reference-wrapper"><div title="Links and other code in other passages that points to this passage.">Referred by: <a href="javascript:void(0)" title="Jump" class="jumpto">JW00S2</a></div><div title="Links and other code in this passage that points to other passages.">Refers to: <a href="javascript:void(0)" title="Jump" class="jumpto">JW2F</a><a href="javascript:void(0)" title="Jump" class="jumpto">JW10S</a></div></div></div><div tabindex="0" class="passage-source"><pre><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;img src="images/JW2D.JPG" alt="."&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">You get a job at a medical dispensary after medical marijuana gets legalized. The owner only comes into the store between trips to different ski resorts. </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="4"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="5"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">You try to get a liscense for yourself to no avail, even legalization doesnt mean equal access. </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="6"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="7"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">Your stuck with a decision now, do you keep working for others or take a high interest loan to start your own medical dispensary.</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="8"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Keep working for others|JW2F]]&lt;/div&gt;&lt;/div&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="9"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Take a risky high-interest loan to start your business|JW10S]]&lt;/div&gt;&lt;/div&gt;</div></td></tr></tbody></table></pre></div><div class="passage-footer closed"><button title="View this passage's comments." class="comment-open pure-button pure-button-primary">💬</button><div class="comment-wrapper"></div></div></div><div data-id="36" class="passage-card" name="JW2E" data-pid="36" data-lt="517"><div role="button" title="Create a comment using this passage's text." class="edit">✎</div><h2 class="passage-title">JW2E</h2><p class="passage-tags"><span class="tag-title">Tags: </span><span title="Filter..." class="tag-listing" style="display: inline-block; border-width: 0px 1.1em; border-left: 1.1em solid rgb(255, 133, 27); border-color: rgb(255, 133, 27); padding: 0px 0.1rem; margin-right: 0.5rem;">JW</span></p><div class="passage-references"><h3 class="passage-references-title">References to Other Passages: </h3><div class="passage-reference-wrapper"><div title="Links and other code in other passages that points to this passage.">Referred by: <a href="javascript:void(0)" title="Jump" class="jumpto">JW2C</a></div><div title="Links and other code in this passage that points to other passages.">Refers to: <a href="javascript:void(0)" title="Jump" class="jumpto">JW10S</a></div></div></div><div tabindex="0" class="passage-source"><pre><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;img src="images/JW2E.JPG" alt="."&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;jw&gt;&gt;If I leave now, nothing changes. Maybe I can fix this.&lt;&lt;/jw&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">You push for stronger lending programs but most reforms end up watered down.</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="4"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">New leadership comes in and priorities change, fast. Its all about tax cuts now and helping the corportate entities.</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="5"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">After years of hitting bureaucratic walls, you can't take it anymore and decide its time.</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="6"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Continue|JW10S]]&lt;/div&gt;&lt;/div&gt;</div></td></tr></tbody></table></pre></div><div class="passage-footer closed"><button title="View this passage's comments." class="comment-open pure-button pure-button-primary">💬</button><div class="comment-wrapper"></div></div></div><div data-id="37" class="passage-card" name="JW2F" data-pid="37" data-lt="506"><div role="button" title="Create a comment using this passage's text." class="edit">✎</div><h2 class="passage-title">JW2F</h2><p class="passage-tags"><span class="tag-title">Tags: </span><span title="Filter..." class="tag-listing" style="display: inline-block; border-width: 0px 1.1em; border-left: 1.1em solid rgb(255, 133, 27); border-color: rgb(255, 133, 27); padding: 0px 0.1rem; margin-right: 0.5rem;">JW</span></p><div class="passage-references"><h3 class="passage-references-title">References to Other Passages: </h3><div class="passage-reference-wrapper"><div title="Links and other code in other passages that points to this passage.">Referred by: <a href="javascript:void(0)" title="Jump" class="jumpto">JW2D</a></div><div title="Links and other code in this passage that points to other passages.">Refers to: <a href="javascript:void(0)" title="Jump" class="jumpto">JW10S</a></div></div></div><div tabindex="0" class="passage-source"><pre><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;img src="images/JW2F.JPG" alt="."&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;jw&gt;&gt;The owner makes millions. I make minimum wage...&lt;&lt;/jw&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="4"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">You stay strong and keep working hard for another couple of years.  Pretty soon the discrepancies get to you. The owners of the business don't even have to work but still take home all the profit. Deep down you know, there's no future for you here. Maybe its time for a change?</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="5"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Continue|JW10S]]&lt;/div&gt;&lt;/div&gt;</div></td></tr></tbody></table></pre></div><div class="passage-footer closed"><button title="View this passage's comments." class="comment-open pure-button pure-button-primary">💬</button><div class="comment-wrapper"></div></div></div><div data-id="38" class="passage-card" name="JW3A" data-pid="38" data-lt="647"><div role="button" title="Create a comment using this passage's text." class="edit">✎</div><h2 class="passage-title">JW3A</h2><p class="passage-tags"><span class="tag-title">Tags: </span><span title="Filter..." class="tag-listing" style="display: inline-block; border-width: 0px 1.1em; border-left: 1.1em solid rgb(255, 133, 27); border-color: rgb(255, 133, 27); padding: 0px 0.1rem; margin-right: 0.5rem;">JW</span></p><div class="passage-references"><h3 class="passage-references-title">References to Other Passages: </h3><div class="passage-reference-wrapper"><div title="Links and other code in other passages that points to this passage.">Referred by: <a href="javascript:void(0)" title="Jump" class="jumpto">JW10S</a></div><div title="Links and other code in this passage that points to other passages.">Refers to: <a href="javascript:void(0)" title="Jump" class="jumpto">JW3B</a></div></div></div><div tabindex="0" class="passage-source"><pre><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;img src="images/JW3A.JPG" alt="."&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> You decide to finally open the dispensary you have been waiting to open. Its near impossible to get a fair loan, even with all the work you did. You have to settle for interest payments that are higher then you wanted but in combination with your savings, you're able to open. </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="4"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="5"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> Opening and the months that passed after go well, and the business is doing good. Local media even comes and does a feature on the store and interviews you. The story gets released as "Black entrepreneur breaking barriers."</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="6"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Continue|JW3B]]&lt;/div&gt;&lt;/div&gt;</div></td></tr></tbody></table></pre></div><div class="passage-footer closed"><button title="View this passage's comments." class="comment-open pure-button pure-button-primary">💬</button><div class="comment-wrapper"></div></div></div><div data-id="39" class="passage-card" name="JW3B" data-pid="39" data-lt="632"><div role="button" title="Create a comment using this passage's text." class="edit">✎</div><h2 class="passage-title">JW3B</h2><p class="passage-tags"><span class="tag-title">Tags: </span><span title="Filter..." class="tag-listing" style="display: inline-block; border-width: 0px 1.1em; border-left: 1.1em solid rgb(255, 133, 27); border-color: rgb(255, 133, 27); padding: 0px 0.1rem; margin-right: 0.5rem;">JW</span></p><div class="passage-references"><h3 class="passage-references-title">References to Other Passages: </h3><div class="passage-reference-wrapper"><div title="Links and other code in other passages that points to this passage.">Referred by: <a href="javascript:void(0)" title="Jump" class="jumpto">JW3A</a></div><div title="Links and other code in this passage that points to other passages.">Refers to: <a href="javascript:void(0)" title="Jump" class="jumpto">JW3C</a><a href="javascript:void(0)" title="Jump" class="jumpto">JW3D</a></div></div></div><div tabindex="0" class="passage-source"><pre><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;img src="images/JW3B.JPG" alt="."&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;jw&gt;&gt;I did it. I beat the system. Didn’t I?&lt;&lt;/jw&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="4"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">With the business doing well corporate investors have reached out, looking to invest in your dispensary. Do you take their money to help with the loans but lose some control of the business? Or do you stay independent and ride the success of the beginning months of your new business. </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="5"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Expand with an investor buyout|JW3C]]&lt;/div&gt;&lt;/div&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="6"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Stay independent|JW3D]]&lt;/div&gt;&lt;/div&gt;</div></td></tr></tbody></table></pre></div><div class="passage-footer closed"><button title="View this passage's comments." class="comment-open pure-button pure-button-primary">💬</button><div class="comment-wrapper"></div></div></div><div data-id="40" class="passage-card" name="JW3C" data-pid="40" data-lt="810"><div role="button" title="Create a comment using this passage's text." class="edit">✎</div><h2 class="passage-title">JW3C</h2><p class="passage-tags"><span class="tag-title">Tags: </span><span title="Filter..." class="tag-listing" style="display: inline-block; border-width: 0px 1.1em; border-left: 1.1em solid rgb(255, 133, 27); border-color: rgb(255, 133, 27); padding: 0px 0.1rem; margin-right: 0.5rem;">JW</span></p><div class="passage-references"><h3 class="passage-references-title">References to Other Passages: </h3><div class="passage-reference-wrapper"><div title="Links and other code in other passages that points to this passage.">Referred by: <a href="javascript:void(0)" title="Jump" class="jumpto">JW3B</a></div><div title="Links and other code in this passage that points to other passages.">Refers to: <a href="javascript:void(0)" title="Jump" class="jumpto">JW5A</a></div></div></div><div tabindex="0" class="passage-source"><pre><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;img src="images/JW3C.JPG" alt="."&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">You sell part of your business to investors, the loans don't look as bad anymore but now your not the only one making decisions. </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="4"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;jw&gt;&gt;It’s still my business, right?&lt;&lt;/jw&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="5"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">You watch over the years as your dispensary expands, but decisions are made without your input. </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="6"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">By 2020, corporate takeovers accelerate. The investors sell the company to a larger cannabis chain.</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="7"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;jw&gt;&gt;I built this from the ground up. And now it’s just another storefront to them.&lt;&lt;/jw&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="8"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">The investors get tired of you pushing for business practices that help the community and the board pushes you out of the business with a severance package. </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="9"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Continue|JW5A]]&lt;/div&gt;&lt;/div&gt;</div></td></tr></tbody></table></pre></div><div class="passage-footer closed"><button title="View this passage's comments." class="comment-open pure-button pure-button-primary">💬</button><div class="comment-wrapper"></div></div></div><div data-id="41" class="passage-card" name="JW3D" data-pid="41" data-lt="616"><div role="button" title="Create a comment using this passage's text." class="edit">✎</div><h2 class="passage-title">JW3D</h2><p class="passage-tags"><span class="tag-title">Tags: </span><span title="Filter..." class="tag-listing" style="display: inline-block; border-width: 0px 1.1em; border-left: 1.1em solid rgb(255, 133, 27); border-color: rgb(255, 133, 27); padding: 0px 0.1rem; margin-right: 0.5rem;">JW</span></p><div class="passage-references"><h3 class="passage-references-title">References to Other Passages: </h3><div class="passage-reference-wrapper"><div title="Links and other code in other passages that points to this passage.">Referred by: <a href="javascript:void(0)" title="Jump" class="jumpto">JW3B</a></div><div title="Links and other code in this passage that points to other passages.">Refers to: <a href="javascript:void(0)" title="Jump" class="jumpto">JW20S</a></div></div></div><div tabindex="0" class="passage-source"><pre><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;img src="images/JW3D.JPG" alt="."&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="4"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;jw&gt;&gt;This is mine. No way I’m giving it up.&lt;&lt;/jw&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="5"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">No way you're gonna sell now, not after all this work you've put in. </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="6"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">After the initial success wears off, the store begins to struggle. The loan repayments start to catch up and the interest keeps the principal high. Corporate dispensaries lower prices to drive competition out, they can afford to not profit now. By 2020 you are barely breaking even at the dispensary. Something has to change. </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="7"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Continue|JW20S]]&lt;/div&gt;&lt;/div&gt;</div></td></tr></tbody></table></pre></div><div class="passage-footer closed"><button title="View this passage's comments." class="comment-open pure-button pure-button-primary">💬</button><div class="comment-wrapper"></div></div></div><div data-id="42" class="passage-card" name="JW4A" data-pid="42" data-lt="345"><div role="button" title="Create a comment using this passage's text." class="edit">✎</div><h2 class="passage-title">JW4A</h2><p class="passage-tags"><span class="tag-title">Tags: </span><span title="Filter..." class="tag-listing" style="display: inline-block; border-width: 0px 1.1em; border-left: 1.1em solid rgb(255, 133, 27); border-color: rgb(255, 133, 27); padding: 0px 0.1rem; margin-right: 0.5rem;">JW</span></p><div class="passage-references"><h3 class="passage-references-title">References to Other Passages: </h3><div class="passage-reference-wrapper"><div title="Links and other code in other passages that points to this passage.">Referred by: <a href="javascript:void(0)" title="Jump" class="jumpto">JW20S</a></div><div title="Links and other code in this passage that points to other passages.">Refers to: <a href="javascript:void(0)" title="Jump" class="jumpto">JW4B</a></div></div></div><div tabindex="0" class="passage-source"><pre><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;img src="images/JW4A.JPG" alt="."&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">The COVID-19 pandemic hits and soon business starts to slow down. Corporate dispensaries have the deep pockets of their owners and get relief loans. Your stuck wondering how much longer you can stay open.</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Continue|JW4B]]&lt;/div&gt;&lt;/div&gt;</div></td></tr></tbody></table></pre></div><div class="passage-footer closed"><button title="View this passage's comments." class="comment-open pure-button pure-button-primary">💬</button><div class="comment-wrapper"></div></div></div><div data-id="43" class="passage-card" name="JW4B" data-pid="43" data-lt="697"><div role="button" title="Create a comment using this passage's text." class="edit">✎</div><h2 class="passage-title">JW4B</h2><p class="passage-tags"><span class="tag-title">Tags: </span><span title="Filter..." class="tag-listing" style="display: inline-block; border-width: 0px 1.1em; border-left: 1.1em solid rgb(255, 133, 27); border-color: rgb(255, 133, 27); padding: 0px 0.1rem; margin-right: 0.5rem;">JW</span></p><div class="passage-references"><h3 class="passage-references-title">References to Other Passages: </h3><div class="passage-reference-wrapper"><div title="Links and other code in other passages that points to this passage.">Referred by: <a href="javascript:void(0)" title="Jump" class="jumpto">JW4A</a></div><div title="Links and other code in this passage that points to other passages.">Refers to: <a href="javascript:void(0)" title="Jump" class="jumpto">JW5A</a><a href="javascript:void(0)" title="Jump" class="jumpto">JW5B</a></div></div></div><div tabindex="0" class="passage-source"><pre><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;img src="images/JW4B.JPG" alt="."&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;jw&gt;&gt;"I need the money, but I know this is a trap. They’d never pull this with a guy like John."&lt;&lt;/jw&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="4"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">Your almost out of money but there is a few more chances for revenue. Colorado opened up online pickup and delivery for cannabis products during the pandemic, but the protocols are tight. Your not sure you are gonna get approved. Do you try for new streams of revenue or take on relief loans?</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="5"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Take on relief loans|JW5A]]&lt;/div&gt;&lt;/div&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="6"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Try alternative revenue streams|JW5B]]&lt;/div&gt;&lt;/div&gt;</div></td></tr></tbody></table></pre></div><div class="passage-footer closed"><button title="View this passage's comments." class="comment-open pure-button pure-button-primary">💬</button><div class="comment-wrapper"></div></div></div><div data-id="44" class="passage-card" name="JW5A" data-pid="44" data-lt="465"><div role="button" title="Create a comment using this passage's text." class="edit">✎</div><h2 class="passage-title">JW5A</h2><p class="passage-tags"><span class="tag-title">Tags: </span><span title="Filter..." class="tag-listing" style="display: inline-block; border-width: 0px 1.1em; border-left: 1.1em solid rgb(255, 133, 27); border-color: rgb(255, 133, 27); padding: 0px 0.1rem; margin-right: 0.5rem;">JW</span></p><div class="passage-references"><h3 class="passage-references-title">References to Other Passages: </h3><div class="passage-reference-wrapper"><div title="Links and other code in other passages that points to this passage.">Referred by: <a href="javascript:void(0)" title="Jump" class="jumpto">JW3C</a><a href="javascript:void(0)" title="Jump" class="jumpto">JW4B</a></div><div title="Links and other code in this passage that points to other passages.">Refers to: <a href="javascript:void(0)" title="Jump" class="jumpto">Character Select</a></div></div></div><div tabindex="0" class="passage-source"><pre><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;img src="images/JW5A.JPG" alt="."&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;jw&gt;&gt;I've worked hard my whole life and this is how I am rewarded? I can't start over again, how am I going to help my mom?&lt;&lt;/jw&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="4"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="5"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">You get invited to your old co-workers retirement party. He's 6 years younger then you and already retiring, but you still have a long road ahead. </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="6"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="storychoice"&gt;[[The End|Character Select]]&lt;div class="center"&gt; wrapper&lt;/div&gt;&lt;/div&gt;</div></td></tr></tbody></table></pre></div><div class="passage-footer closed"><button title="View this passage's comments." class="comment-open pure-button pure-button-primary">💬</button><div class="comment-wrapper"></div></div></div><div data-id="45" class="passage-card" name="JW5B" data-pid="45" data-lt="914"><div role="button" title="Create a comment using this passage's text." class="edit">✎</div><h2 class="passage-title">JW5B</h2><p class="passage-tags"><span class="tag-title">Tags: </span><span title="Filter..." class="tag-listing" style="display: inline-block; border-width: 0px 1.1em; border-left: 1.1em solid rgb(255, 133, 27); border-color: rgb(255, 133, 27); padding: 0px 0.1rem; margin-right: 0.5rem;">JW</span></p><div class="passage-references"><h3 class="passage-references-title">References to Other Passages: </h3><div class="passage-reference-wrapper"><div title="Links and other code in other passages that points to this passage.">Referred by: <a href="javascript:void(0)" title="Jump" class="jumpto">JW4B</a></div><div title="Links and other code in this passage that points to other passages.">Refers to: <a href="javascript:void(0)" title="Jump" class="jumpto">Character Select</a></div></div></div><div tabindex="0" class="passage-source"><pre><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;img src="images/gildedgreen.jpg" alt="."&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">Getting approved for online orders and delivery is hard and time consuming, but you finallly get approved. By the time you get approved, a new corporate dispensary opens, offering deals and discounts that you know aren't making them money.</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;ctp "JW"&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="4"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;jw&gt;&gt;"I worked hard. Followed the rules.&lt;&lt;/jw&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="5"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance "JW"&gt;&gt;&lt;&lt;/button&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="6"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;ctpNext&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="7"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;jw&gt;&gt;And I’m still one bad month away from losing everything.&lt;&lt;/jw&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="8"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance "JW"&gt;&gt;&lt;&lt;/button&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="9"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;ctpNext&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="10"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;jw&gt;&gt;Tell me again how things are fair and equitable?&lt;&lt;/jw&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="11"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;/ctp&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="12"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[The End|Character Select]] &lt;/div&gt;&lt;/div&gt;</div></td></tr></tbody></table></pre></div><div class="passage-footer closed"><button title="View this passage's comments." class="comment-open pure-button pure-button-primary">💬</button><div class="comment-wrapper"></div></div></div><div data-id="46" class="passage-card" name="JW90S" data-pid="46" data-lt="276"><div role="button" title="Create a comment using this passage's text." class="edit">✎</div><h2 class="passage-title">JW90S</h2><p class="passage-tags"><span class="tag-title">Tags: </span><span title="Filter..." class="tag-listing" style="display: inline-block; border-width: 0px 1.1em; border-left: 1.1em solid rgb(255, 133, 27); border-color: rgb(255, 133, 27); padding: 0px 0.1rem; margin-right: 0.5rem;">JW</span></p><div class="passage-references"><h3 class="passage-references-title">References to Other Passages: </h3><div class="passage-reference-wrapper"><div title="Links and other code in other passages that points to this passage.">Referred by: <a href="javascript:void(0)" title="Jump" class="jumpto">Jamal Washington</a></div><div title="Links and other code in this passage that points to other passages.">Refers to: <a href="javascript:void(0)" title="Jump" class="jumpto">JW1A</a></div></div></div><div tabindex="0" class="passage-source"><pre><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="chapterHead"&gt;&lt;h2&gt;Social Context&lt;/h2&gt;&lt;hr&gt;&lt;h1&gt;The 1990s&lt;/h1&gt;&lt;/div&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;video "videos/Responsibility.mp4" controls&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Continue|JW1A]]&lt;/div&gt;&lt;/div&gt;</div></td></tr></tbody></table></pre></div><div class="passage-footer closed"><button title="View this passage's comments." class="comment-open pure-button pure-button-primary">💬</button><div class="comment-wrapper"></div></div></div><div data-id="47" class="passage-card" name="Michael Thompson" data-pid="47" data-lt="1103"><div role="button" title="Create a comment using this passage's text." class="edit">✎</div><h2 class="passage-title">Michael Thompson</h2><p class="passage-tags"><span class="tag-title">Tags: </span><span title="Filter..." class="tag-listing" style="display: inline-block; border-width: 0px 1.1em; border-left: 1.1em solid rgb(177, 13, 201); border-color: rgb(177, 13, 201); padding: 0px 0.1rem; margin-right: 0.5rem;">MT</span></p><div class="passage-references"><h3 class="passage-references-title">References to Other Passages: </h3><div class="passage-reference-wrapper"><div title="Links and other code in other passages that points to this passage.">Referred by: <a href="javascript:void(0)" title="Jump" class="jumpto">Character Select</a></div><div title="Links and other code in this passage that points to other passages.">Refers to: <a href="javascript:void(0)" title="Jump" class="jumpto">MT80S</a></div></div></div><div tabindex="0" class="passage-source"><pre><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;set $sysdis to 50&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;set $legal to 30&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;set $wealth to 20&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="4"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;set $health to 70&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="5"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="chapterHead"&gt;&lt;h2&gt;Scene 1&lt;/h2&gt;&lt;hr&gt;&lt;h1&gt;Michael Thompson&lt;/h1&gt;&lt;/div&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="6"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;img src="images/MT0A.JPG" alt="Michael Thompson as a young man."&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="7"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="notebox"&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="8"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">!!! Bio Facts</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="9"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;type 60ms&gt;&gt;&lt;b&gt;Year of Birth:  &lt;/b&gt;1965&lt;&lt;/type&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="10"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;type 60ms&gt;&gt;&lt;b&gt;Place of Birth:  &lt;/b&gt;Athmar Park, Denver, Colorado&lt;&lt;/type&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="11"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;type 60ms&gt;&gt;&lt;b&gt;Race:  &lt;/b&gt;African-American&lt;&lt;/type&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="12"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;type 60ms&gt;&gt;&lt;b&gt;Occupation:  &lt;/b&gt;Factory Worker&lt;&lt;/type&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="13"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;type 60ms&gt;&gt;&lt;b&gt;Education:  &lt;/b&gt;High School Graduate&lt;&lt;/type&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="14"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;type 60ms&gt;&gt;&lt;b&gt;Income:  &lt;/b&gt;Low Income&lt;&lt;/type&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="15"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;/div&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="16"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[You start by graduating high school, so big choices are just ahead.|MT80S]]&lt;/div&gt;&lt;/div&gt;</div></td></tr></tbody></table></pre></div><div class="passage-footer closed"><button title="View this passage's comments." class="comment-open pure-button pure-button-primary">💬</button><div class="comment-wrapper"></div></div></div><div data-id="48" class="passage-card" name="MT00S" data-pid="48" data-lt="283"><div role="button" title="Create a comment using this passage's text." class="edit">✎</div><h2 class="passage-title">MT00S</h2><p class="passage-tags"><span class="tag-title">Tags: </span><span title="Filter..." class="tag-listing" style="display: inline-block; border-width: 0px 1.1em; border-left: 1.1em solid rgb(177, 13, 201); border-color: rgb(177, 13, 201); padding: 0px 0.1rem; margin-right: 0.5rem;">MT</span></p><div class="passage-references"><h3 class="passage-references-title">References to Other Passages: </h3><div class="passage-reference-wrapper"><div title="Links and other code in other passages that points to this passage.">Referred by: <a href="javascript:void(0)" title="Jump" class="jumpto">MT2E</a></div><div title="Links and other code in this passage that points to other passages.">Refers to: <a href="javascript:void(0)" title="Jump" class="jumpto">MT3A</a></div></div></div><div tabindex="0" class="passage-source"><pre><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="chapterHead"&gt;&lt;h2&gt;Social Context&lt;/h2&gt;&lt;hr&gt;&lt;h1&gt;The 2000s&lt;/h1&gt;&lt;/div&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;video "videos/07-MyFriendsSmokeWeed.mp4" controls&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Continue|MT3A]]&lt;/div&gt;&lt;/div&gt;</div></td></tr></tbody></table></pre></div><div class="passage-footer closed"><button title="View this passage's comments." class="comment-open pure-button pure-button-primary">💬</button><div class="comment-wrapper"></div></div></div><div data-id="49" class="passage-card" name="MT1A" data-pid="49" data-lt="756"><div role="button" title="Create a comment using this passage's text." class="edit">✎</div><h2 class="passage-title">MT1A</h2><p class="passage-tags"><span class="tag-title">Tags: </span><span title="Filter..." class="tag-listing" style="display: inline-block; border-width: 0px 1.1em; border-left: 1.1em solid rgb(177, 13, 201); border-color: rgb(177, 13, 201); padding: 0px 0.1rem; margin-right: 0.5rem;">MT</span></p><div class="passage-references"><h3 class="passage-references-title">References to Other Passages: </h3><div class="passage-reference-wrapper"><div title="Links and other code in other passages that points to this passage.">Referred by: <a href="javascript:void(0)" title="Jump" class="jumpto">MT80S</a></div><div title="Links and other code in this passage that points to other passages.">Refers to: <a href="javascript:void(0)" title="Jump" class="jumpto">MT90S</a></div></div></div><div tabindex="0" class="passage-source"><pre><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;img src="images/MT1A.JPG"/&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">You finish high school in the early 1980s and begin to look for work. There are lots of factory jobs available but the pay isn't great and no one looks happy when they leave. You could also try to open the food truck you have been dreaming of opening your whole life. You don't have the money so you would need a loan to start, and its well known that its hard to get loan. Do you take a factory job or start your side business?</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Take a low-wage factory job|MT90S][$sysdis +=5, $wealth -=10]]&lt;/div&gt;&lt;/div&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="4"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Start a small side business|MT90S][$sysdis +=10, $wealth -=10]]&lt;/div&gt;&lt;/div&gt;</div></td></tr></tbody></table></pre></div><div class="passage-footer closed"><button title="View this passage's comments." class="comment-open pure-button pure-button-primary">💬</button><div class="comment-wrapper"></div></div></div><div data-id="50" class="passage-card" name="MT20S" data-pid="50" data-lt="270"><div role="button" title="Create a comment using this passage's text." class="edit">✎</div><h2 class="passage-title">MT20S</h2><p class="passage-tags"><span class="tag-title">Tags: </span><span title="Filter..." class="tag-listing" style="display: inline-block; border-width: 0px 1.1em; border-left: 1.1em solid rgb(177, 13, 201); border-color: rgb(177, 13, 201); padding: 0px 0.1rem; margin-right: 0.5rem;">MT</span></p><div class="passage-references"><h3 class="passage-references-title">References to Other Passages: </h3><div class="passage-reference-wrapper"><div title="Links and other code in other passages that points to this passage.">Referred by: <a href="javascript:void(0)" title="Jump" class="jumpto">MT2E</a></div><div title="Links and other code in this passage that points to other passages.">Refers to: <a href="javascript:void(0)" title="Jump" class="jumpto">MT5A</a></div></div></div><div tabindex="0" class="passage-source"><pre><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="chapterHead"&gt;&lt;h2&gt;Social Context&lt;/h2&gt;&lt;hr&gt;&lt;h1&gt;The 2020s&lt;/h1&gt;&lt;/div&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;video "videos/10-Diner.mp4" controls&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Continue|MT5A]]&lt;/div&gt;&lt;/div&gt;</div></td></tr></tbody></table></pre></div><div class="passage-footer closed"><button title="View this passage's comments." class="comment-open pure-button pure-button-primary">💬</button><div class="comment-wrapper"></div></div></div><div data-id="51" class="passage-card" name="MT2A" data-pid="51" data-lt="866"><div role="button" title="Create a comment using this passage's text." class="edit">✎</div><h2 class="passage-title">MT2A</h2><p class="passage-tags"><span class="tag-title">Tags: </span><span title="Filter..." class="tag-listing" style="display: inline-block; border-width: 0px 1.1em; border-left: 1.1em solid rgb(177, 13, 201); border-color: rgb(177, 13, 201); padding: 0px 0.1rem; margin-right: 0.5rem;">MT</span></p><div class="passage-references"><h3 class="passage-references-title">References to Other Passages: </h3><div class="passage-reference-wrapper"><div title="Links and other code in other passages that points to this passage.">Referred by: <a href="javascript:void(0)" title="Jump" class="jumpto">MT90S</a></div><div title="Links and other code in this passage that points to other passages.">Refers to: <a href="javascript:void(0)" title="Jump" class="jumpto">MT2B</a></div></div></div><div tabindex="0" class="passage-source"><pre><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;img src="images/MT2A.JPG"/&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">Many people in your neighborhood have been getting arrested for minor cannabis offenses. You see your brother, Malik, outside the corner store.</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;ctp "MTandMTbro"&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="4"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;mt&gt;&gt;Stay in school, man.&lt;&lt;/mt&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="5"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance "MTandMTbro"&gt;&gt;&lt;&lt;/button&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="6"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;ctpNext&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="7"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;mtbro&gt;&gt;Yeah, yeah, I will&amp;hellip;but Jason’s brother just got locked up for some weed. What’s the point?&lt;&lt;/mtbro&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="8"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance "MTandMTbro"&gt;&gt;&lt;&lt;/button&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="9"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;ctpNext&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="10"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">You shake your head, but you know Malik's got a point.</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="11"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;/ctp&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="12"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Just then, you overhear a news report on the radio...|MT2B]]&lt;/div&gt;&lt;/div&gt;</div></td></tr></tbody></table></pre></div><div class="passage-footer closed"><button title="View this passage's comments." class="comment-open pure-button pure-button-primary">💬</button><div class="comment-wrapper"></div></div></div><div data-id="52" class="passage-card" name="MT2B" data-pid="52" data-lt="1550"><div role="button" title="Create a comment using this passage's text." class="edit">✎</div><h2 class="passage-title">MT2B</h2><p class="passage-tags"><span class="tag-title">Tags: </span><span title="Filter..." class="tag-listing" style="display: inline-block; border-width: 0px 1.1em; border-left: 1.1em solid rgb(177, 13, 201); border-color: rgb(177, 13, 201); padding: 0px 0.1rem; margin-right: 0.5rem;">MT</span></p><div class="passage-references"><h3 class="passage-references-title">References to Other Passages: </h3><div class="passage-reference-wrapper"><div title="Links and other code in other passages that points to this passage.">Referred by: <a href="javascript:void(0)" title="Jump" class="jumpto">MT2A</a></div><div title="Links and other code in this passage that points to other passages.">Refers to: <a href="javascript:void(0)" title="Jump" class="jumpto">MT2C</a><a href="javascript:void(0)" title="Jump" class="jumpto">MT2D</a><a href="javascript:void(0)" title="Jump" class="jumpto">MT2E</a></div></div></div><div tabindex="0" class="passage-source"><pre><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;img src="images/radio.JPG"/&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">You overhear a radio report:</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;ctp "radio"&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="4"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;radio&gt;&gt;Under the 1986 Anti-Drug Abuse Act,&lt;&lt;/radio&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="5"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance "radio"&gt;&gt;&lt;&lt;/button&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="6"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;ctpNext&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="7"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;radio&gt;&gt;mandatory minimum sentences mean minor drug offenses could land you in prison for years.&lt;&lt;/radio&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="8"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance "radio"&gt;&gt;&lt;&lt;/button&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="9"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;ctpNext&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="10"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;radio&gt;&gt;Critics argue this disproportionately impacts Black communities.&lt;&lt;/radio&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="11"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance "radio"&gt;&gt;&lt;&lt;/button&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="12"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;ctpNext&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="13"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">After thinking for a minute, you shake your head&amp;hellip;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="14"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance "radio"&gt;&gt;&lt;&lt;/button&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="15"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;ctpNext&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="16"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;mt&gt;&gt;I'm not selling, so I'm fine&amp;hellip;right??&lt;&lt;/mt&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="17"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;/ctp&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="18"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">What do you do? Do you avoid cannabis entirely, only use casually, or start smoking regularly?</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="19"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Avoid cannabis use entirely|MT2C][$wealth -=5]]&lt;/div&gt;&lt;/div&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="20"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Casual use|MT2D][$legal +=10, $sysdis +=5,$MTprison to true]]&lt;/div&gt;&lt;/div&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="21"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Association with users|MT2E][$legal +=10, $sysdis +=5,$MTprison to true]]&lt;/div&gt;&lt;/div&gt;</div></td></tr></tbody></table></pre></div><div class="passage-footer closed"><button title="View this passage's comments." class="comment-open pure-button pure-button-primary">💬</button><div class="comment-wrapper"></div></div></div><div data-id="53" class="passage-card" name="MT2C" data-pid="53" data-lt="395"><div role="button" title="Create a comment using this passage's text." class="edit">✎</div><h2 class="passage-title">MT2C</h2><p class="passage-tags"><span class="tag-title">Tags: </span><span title="Filter..." class="tag-listing" style="display: inline-block; border-width: 0px 1.1em; border-left: 1.1em solid rgb(177, 13, 201); border-color: rgb(177, 13, 201); padding: 0px 0.1rem; margin-right: 0.5rem;">MT</span></p><div class="passage-references"><h3 class="passage-references-title">References to Other Passages: </h3><div class="passage-reference-wrapper"><div title="Links and other code in other passages that points to this passage.">Referred by: <a href="javascript:void(0)" title="Jump" class="jumpto">MT2B</a></div><div title="Links and other code in this passage that points to other passages.">Refers to: <a href="javascript:void(0)" title="Jump" class="jumpto">MT4A</a></div></div></div><div tabindex="0" class="passage-source"><pre><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">You decide to avoid cannabis use entirely. You know its not worth the risk but its hard to go watch your friends use while you are avoiding. </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;mt&gt;&gt;“Man, I’m not risking my future over this…but damn, same thing John’s rich friends do all the time and nobody cares."&lt;&lt;/mt&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Continue|MT4A]]&lt;/div&gt;&lt;/div&gt;</div></td></tr></tbody></table></pre></div><div class="passage-footer closed"><button title="View this passage's comments." class="comment-open pure-button pure-button-primary">💬</button><div class="comment-wrapper"></div></div></div><div data-id="54" class="passage-card" name="MT2D" data-pid="54" data-lt="786"><div role="button" title="Create a comment using this passage's text." class="edit">✎</div><h2 class="passage-title">MT2D</h2><p class="passage-tags"><span class="tag-title">Tags: </span><span title="Filter..." class="tag-listing" style="display: inline-block; border-width: 0px 1.1em; border-left: 1.1em solid rgb(177, 13, 201); border-color: rgb(177, 13, 201); padding: 0px 0.1rem; margin-right: 0.5rem;">MT</span></p><div class="passage-references"><h3 class="passage-references-title">References to Other Passages: </h3><div class="passage-reference-wrapper"><div title="Links and other code in other passages that points to this passage.">Referred by: <a href="javascript:void(0)" title="Jump" class="jumpto">MT2B</a></div><div title="Links and other code in this passage that points to other passages.">Refers to: <a href="javascript:void(0)" title="Jump" class="jumpto">MT2E</a></div></div></div><div tabindex="0" class="passage-source"><pre><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;img src="images/MT2D.JPG"/&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">As you talk with your brother outside the corner store, your friend passes you a joint.</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;ctp "MTandMTbro"&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="4"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;mt&gt;&gt;What’s the worst that could happen? It’s just a little weed…cops got bigger problems, right?&lt;&lt;/mt&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="5"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance "MTandMTbro"&gt;&gt;&lt;&lt;/button&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="6"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;ctpNext&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="7"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;mtbro&gt;&gt;You said this stuff was stupid.&lt;&lt;/mtbro&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="8"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance "MTandMTbro"&gt;&gt;&lt;&lt;/button&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="9"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;ctpNext&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="10"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;mt&gt;&gt;I don’t make the rules, man.&lt;&lt;/mt&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="11"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;/ctp&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="12"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[The cops show up|MT2E]]&lt;/div&gt;&lt;/div&gt;</div></td></tr></tbody></table></pre></div><div class="passage-footer closed"><button title="View this passage's comments." class="comment-open pure-button pure-button-primary">💬</button><div class="comment-wrapper"></div></div></div><div data-id="55" class="passage-card" name="MT2E" data-pid="55" data-lt="970"><div role="button" title="Create a comment using this passage's text." class="edit">✎</div><h2 class="passage-title">MT2E</h2><p class="passage-tags"><span class="tag-title">Tags: </span><span title="Filter..." class="tag-listing" style="display: inline-block; border-width: 0px 1.1em; border-left: 1.1em solid rgb(177, 13, 201); border-color: rgb(177, 13, 201); padding: 0px 0.1rem; margin-right: 0.5rem;">MT</span></p><div class="passage-references"><h3 class="passage-references-title">References to Other Passages: </h3><div class="passage-reference-wrapper"><div title="Links and other code in other passages that points to this passage.">Referred by: <a href="javascript:void(0)" title="Jump" class="jumpto">MT2B</a><a href="javascript:void(0)" title="Jump" class="jumpto">MT2D</a></div><div title="Links and other code in this passage that points to other passages.">Refers to: <a href="javascript:void(0)" title="Jump" class="jumpto">MT20S</a><a href="javascript:void(0)" title="Jump" class="jumpto">MT00S</a></div></div></div><div tabindex="0" class="passage-source"><pre><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;img src="images/MT3A.JPG"/&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">The cops show up and you know you are screwed now. They caught you red handed with the joint in your hand. The cops arrest you and take you to jail. You can hear your moms distress when you call her from the jailhouse phone. Its too late for visitors now, you'll have to spend the night in jail before you can see your mom. She visits the next day:</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;ctp "MTandMTmom"&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="4"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;mt&gt;&gt;I just don't know how this happened.&lt;&lt;/mt&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="5"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance "MTandMTmom"&gt;&gt;&lt;&lt;/button&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="6"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;ctpNext&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="7"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;mtmom&gt;&gt;Don't matter. I worked two jobs to keep you boys safe. Now…look at you.&lt;&lt;/mtmom&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="8"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;/ctp&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="9"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[You had a good lawyer|MT20S]]&lt;/div&gt;&lt;/div&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="10"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Wrong place, wrong time|MT00S]]&lt;/div&gt;&lt;/div&gt;</div></td></tr></tbody></table></pre></div><div class="passage-footer closed"><button title="View this passage's comments." class="comment-open pure-button pure-button-primary">💬</button><div class="comment-wrapper"></div></div></div><div data-id="56" class="passage-card" name="MT3A" data-pid="56" data-lt="1694"><div role="button" title="Create a comment using this passage's text." class="edit">✎</div><h2 class="passage-title">MT3A</h2><p class="passage-tags"><span class="tag-title">Tags: </span><span title="Filter..." class="tag-listing" style="display: inline-block; border-width: 0px 1.1em; border-left: 1.1em solid rgb(177, 13, 201); border-color: rgb(177, 13, 201); padding: 0px 0.1rem; margin-right: 0.5rem;">MT</span></p><div class="passage-references"><h3 class="passage-references-title">References to Other Passages: </h3><div class="passage-reference-wrapper"><div title="Links and other code in other passages that points to this passage.">Referred by: <a href="javascript:void(0)" title="Jump" class="jumpto">MT00S</a></div><div title="Links and other code in this passage that points to other passages.">Refers to: <a href="javascript:void(0)" title="Jump" class="jumpto">MT6A</a><a href="javascript:void(0)" title="Jump" class="jumpto">MT5F</a></div></div></div><div tabindex="0" class="passage-source"><pre><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;img src="images/MT3B.JPG"/&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">You present yourself in the courtroom for sentencing.</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="4"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;ctp "MTandMTjudge"&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="5"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="6"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="7"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;mtjudge&gt;&gt;Under federal law, I have no discretion here.&lt;&lt;/mtjudge&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="8"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance "MTandMTjudge"&gt;&gt;&lt;&lt;/button&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="9"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;ctpNext&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="10"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;mtjudge&gt;&gt;The sentence is set at 10 years regardless of circumstances.&lt;&lt;/mtjudge&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="11"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance "MTandMTjudge"&gt;&gt;&lt;&lt;/button&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="12"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;ctpNext&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="13"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">Your mom stares blankly.</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="14"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance "MTandMTjudge"&gt;&gt;&lt;&lt;/button&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="15"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;ctpNext&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="16"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">Your public defender doesn’t make eye contact.</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="17"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance "MTandMTjudge"&gt;&gt;&lt;&lt;/button&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="18"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;ctpNext&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="19"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">You think to yourself...</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="20"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance "MTandMTjudge"&gt;&gt;&lt;&lt;/button&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="21"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;ctpNext&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="22"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;mt&gt;&gt;Ten years? Ten damn years? There's no way…&lt;&lt;/mt&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="23"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance "MTandMTjudge"&gt;&gt;&lt;&lt;/button&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="24"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;ctpNext&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="25"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;mt&gt;&gt;but I see the look on my lawyer’s face. This was decided before I even walked in.”&lt;&lt;/mt&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="26"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;/ctp&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="27"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;if $JWplayed is true&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="28"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[MT6A][$wealth -=50, %health -=40, $sysdis +=20]]&lt;/div&gt;&lt;/div&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="29"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;else&gt;&gt;&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[MT5F][$wealth -=50, %health -=40, $sysdis +=20]]&lt;/div&gt;&lt;/div&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="30"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;/if&gt;&gt;</div></td></tr></tbody></table></pre></div><div class="passage-footer closed"><button title="View this passage's comments." class="comment-open pure-button pure-button-primary">💬</button><div class="comment-wrapper"></div></div></div><div data-id="57" class="passage-card" name="MT4A" data-pid="57" data-lt="638"><div role="button" title="Create a comment using this passage's text." class="edit">✎</div><h2 class="passage-title">MT4A</h2><p class="passage-tags"><span class="tag-title">Tags: </span><span title="Filter..." class="tag-listing" style="display: inline-block; border-width: 0px 1.1em; border-left: 1.1em solid rgb(177, 13, 201); border-color: rgb(177, 13, 201); padding: 0px 0.1rem; margin-right: 0.5rem;">MT</span></p><div class="passage-references"><h3 class="passage-references-title">References to Other Passages: </h3><div class="passage-reference-wrapper"><div title="Links and other code in other passages that points to this passage.">Referred by: <a href="javascript:void(0)" title="Jump" class="jumpto">MT2C</a></div><div title="Links and other code in this passage that points to other passages.">Refers to: <a href="javascript:void(0)" title="Jump" class="jumpto">MT5A</a><a href="javascript:void(0)" title="Jump" class="jumpto">MT5B</a></div></div></div><div tabindex="0" class="passage-source"><pre><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;img src="images/MT4A.JPG"/&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">Social-equity business licenses become available for the cannabis industry following its legalization. Prior offenders face harder restrictions and decreased access to resources. Do you apply for a social-equity license to start a dispensary? Or keep working in facrtoy jobs?</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;if $MTprison is true&gt;&gt;&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Continue|MT5A]]&lt;/div&gt;&lt;/div&gt;&lt;&lt;else&gt;&gt;&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Apply for a social-equity business liscense to open a dispensary|MT5B]]&lt;/div&gt;&lt;/div&gt;&lt;&lt;/if&gt;&gt;</div></td></tr></tbody></table></pre></div><div class="passage-footer closed"><button title="View this passage's comments." class="comment-open pure-button pure-button-primary">💬</button><div class="comment-wrapper"></div></div></div><div data-id="58" class="passage-card" name="MT5A" data-pid="58" data-lt="290"><div role="button" title="Create a comment using this passage's text." class="edit">✎</div><h2 class="passage-title">MT5A</h2><p class="passage-tags"><span class="tag-title">Tags: </span><span title="Filter..." class="tag-listing" style="display: inline-block; border-width: 0px 1.1em; border-left: 1.1em solid rgb(177, 13, 201); border-color: rgb(177, 13, 201); padding: 0px 0.1rem; margin-right: 0.5rem;">MT</span></p><div class="passage-references"><h3 class="passage-references-title">References to Other Passages: </h3><div class="passage-reference-wrapper"><div title="Links and other code in other passages that points to this passage.">Referred by: <a href="javascript:void(0)" title="Jump" class="jumpto">MT20S</a><a href="javascript:void(0)" title="Jump" class="jumpto">MT4A</a></div><div title="Links and other code in this passage that points to other passages.">Refers to: <a href="javascript:void(0)" title="Jump" class="jumpto">Character Select</a></div></div></div><div tabindex="0" class="passage-source"><pre><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;img src="images/MT5A.JPG"/&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">You continue to work in factory jobs but still struggle with the low income and not being able to make more money. </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;set $MTplayed to true&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="4"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Character Select]]&lt;/div&gt;&lt;/div&gt;</div></td></tr></tbody></table></pre></div><div class="passage-footer closed"><button title="View this passage's comments." class="comment-open pure-button pure-button-primary">💬</button><div class="comment-wrapper"></div></div></div><div data-id="59" class="passage-card" name="MT5B" data-pid="59" data-lt="438"><div role="button" title="Create a comment using this passage's text." class="edit">✎</div><h2 class="passage-title">MT5B</h2><p class="passage-tags"><span class="tag-title">Tags: </span><span title="Filter..." class="tag-listing" style="display: inline-block; border-width: 0px 1.1em; border-left: 1.1em solid rgb(177, 13, 201); border-color: rgb(177, 13, 201); padding: 0px 0.1rem; margin-right: 0.5rem;">MT</span></p><div class="passage-references"><h3 class="passage-references-title">References to Other Passages: </h3><div class="passage-reference-wrapper"><div title="Links and other code in other passages that points to this passage.">Referred by: <a href="javascript:void(0)" title="Jump" class="jumpto">MT4A</a></div><div title="Links and other code in this passage that points to other passages.">Refers to: <a href="javascript:void(0)" title="Jump" class="jumpto">MT6E</a><a href="javascript:void(0)" title="Jump" class="jumpto">MT5C</a></div></div></div><div tabindex="0" class="passage-source"><pre><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;img src="images/MT5B.JPG"/&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">After jumping through countless hoops, your application for a business license gets approved. You become a cannabis business owner due to social-equity programs.</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;if $JWplayed&gt;&gt;&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[MT6E]]&lt;/div&gt;&lt;/div&gt;&lt;&lt;else&gt;&gt;&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[MT5C]]&lt;/div&gt;&lt;/div&gt;&lt;&lt;/if&gt;</div></td></tr></tbody></table></pre></div><div class="passage-footer closed"><button title="View this passage's comments." class="comment-open pure-button pure-button-primary">💬</button><div class="comment-wrapper"></div></div></div><div data-id="60" class="passage-card" name="MT5C" data-pid="60" data-lt="220"><div role="button" title="Create a comment using this passage's text." class="edit">✎</div><h2 class="passage-title">MT5C</h2><p class="passage-tags"><span class="tag-title">Tags: </span><span title="Filter..." class="tag-listing" style="display: inline-block; border-width: 0px 1.1em; border-left: 1.1em solid rgb(177, 13, 201); border-color: rgb(177, 13, 201); padding: 0px 0.1rem; margin-right: 0.5rem;">MT</span></p><div class="passage-references"><h3 class="passage-references-title">References to Other Passages: </h3><div class="passage-reference-wrapper"><div title="Links and other code in other passages that points to this passage.">Referred by: <a href="javascript:void(0)" title="Jump" class="jumpto">MT5B</a></div><div title="Links and other code in this passage that points to other passages.">Refers to: <a href="javascript:void(0)" title="Jump" class="jumpto">MT5D</a></div></div></div><div tabindex="0" class="passage-source"><pre><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;img src="images/MT5C.JPG"/&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;mt&gt;&gt;“I made it, but how many others like me never got the chance?”&lt;&lt;/mt&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[MT5D]]&lt;/div&gt;&lt;/div&gt;</div></td></tr></tbody></table></pre></div><div class="passage-footer closed"><button title="View this passage's comments." class="comment-open pure-button pure-button-primary">💬</button><div class="comment-wrapper"></div></div></div><div data-id="61" class="passage-card" name="MT5D" data-pid="61" data-lt="239"><div role="button" title="Create a comment using this passage's text." class="edit">✎</div><h2 class="passage-title">MT5D</h2><p class="passage-tags"><span class="tag-title">Tags: </span><span title="Filter..." class="tag-listing" style="display: inline-block; border-width: 0px 1.1em; border-left: 1.1em solid rgb(177, 13, 201); border-color: rgb(177, 13, 201); padding: 0px 0.1rem; margin-right: 0.5rem;">MT</span></p><div class="passage-references"><h3 class="passage-references-title">References to Other Passages: </h3><div class="passage-reference-wrapper"><div title="Links and other code in other passages that points to this passage.">Referred by: <a href="javascript:void(0)" title="Jump" class="jumpto">MT5C</a></div><div title="Links and other code in this passage that points to other passages.">Refers to: <a href="javascript:void(0)" title="Jump" class="jumpto">MT5E</a></div></div></div><div tabindex="0" class="passage-source"><pre><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;img src="images/MT5D.JPG"/&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;mt&gt;&gt;“Malik wanted to start a business, too…until the system swallowed him whole.”&lt;&lt;/mt&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[MT5E]]&lt;/div&gt;&lt;/div&gt;</div></td></tr></tbody></table></pre></div><div class="passage-footer closed"><button title="View this passage's comments." class="comment-open pure-button pure-button-primary">💬</button><div class="comment-wrapper"></div></div></div><div data-id="62" class="passage-card" name="MT5E" data-pid="62" data-lt="345"><div role="button" title="Create a comment using this passage's text." class="edit">✎</div><h2 class="passage-title">MT5E</h2><p class="passage-tags"><span class="tag-title">Tags: </span><span title="Filter..." class="tag-listing" style="display: inline-block; border-width: 0px 1.1em; border-left: 1.1em solid rgb(177, 13, 201); border-color: rgb(177, 13, 201); padding: 0px 0.1rem; margin-right: 0.5rem;">MT</span></p><div class="passage-references"><h3 class="passage-references-title">References to Other Passages: </h3><div class="passage-reference-wrapper"><div title="Links and other code in other passages that points to this passage.">Referred by: <a href="javascript:void(0)" title="Jump" class="jumpto">MT5D</a></div><div title="Links and other code in this passage that points to other passages.">Refers to: <a href="javascript:void(0)" title="Jump" class="jumpto">Character Select</a></div></div></div><div tabindex="0" class="passage-source"><pre><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;img src="images/MT5C.JPG"/&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;mt&gt;&gt;They said social equity would fix this, but if the system never broke us in the first place, we wouldn’t need ‘equity’ to begin with.”&lt;&lt;/mt&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;set$MTplayed to true&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="4"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Character Select]]&lt;/div&gt;&lt;/div&gt;</div></td></tr></tbody></table></pre></div><div class="passage-footer closed"><button title="View this passage's comments." class="comment-open pure-button pure-button-primary">💬</button><div class="comment-wrapper"></div></div></div><div data-id="63" class="passage-card" name="MT5F" data-pid="63" data-lt="901"><div role="button" title="Create a comment using this passage's text." class="edit">✎</div><h2 class="passage-title">MT5F</h2><p class="passage-tags"><span class="tag-title">Tags: </span><span title="Filter..." class="tag-listing" style="display: inline-block; border-width: 0px 1.1em; border-left: 1.1em solid rgb(177, 13, 201); border-color: rgb(177, 13, 201); padding: 0px 0.1rem; margin-right: 0.5rem;">MT</span></p><div class="passage-references"><h3 class="passage-references-title">References to Other Passages: </h3><div class="passage-reference-wrapper"><div title="Links and other code in other passages that points to this passage.">Referred by: <a href="javascript:void(0)" title="Jump" class="jumpto">MT3A</a><a href="javascript:void(0)" title="Jump" class="jumpto">MT6A</a></div><div title="Links and other code in this passage that points to other passages.">Refers to: <a href="javascript:void(0)" title="Jump" class="jumpto">MT5G</a></div></div></div><div tabindex="0" class="passage-source"><pre><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;img src="images/MT6B.JPG"/&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;ctp "MT"&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;mt&gt;&gt;They legalized it.&lt;&lt;/mt&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="4"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance "MT"&gt;&gt;&lt;&lt;/button&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="5"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;ctpNext&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="6"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;mt&gt;&gt;Same thing that got me locked up…white kids are making millions off it now&lt;&lt;/mt&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="7"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance "MT"&gt;&gt;&lt;&lt;/button&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="8"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;ctpNext&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="9"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;mt&gt;&gt;If I’d been born in a different zip code…&lt;&lt;/mt&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="10"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance "MT"&gt;&gt;&lt;&lt;/button&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="11"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;ctpNext&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="12"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;mt&gt;&gt;If my skin were a little lighter…would I be at some investor’s table right now instead of here?”&lt;&lt;/mt&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="13"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;/ctp&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="14"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Continue living in prison|MT5G]]&lt;/div&gt;&lt;/div&gt;</div></td></tr></tbody></table></pre></div><div class="passage-footer closed"><button title="View this passage's comments." class="comment-open pure-button pure-button-primary">💬</button><div class="comment-wrapper"></div></div></div><div data-id="64" class="passage-card" name="MT5G" data-pid="64" data-lt="426"><div role="button" title="Create a comment using this passage's text." class="edit">✎</div><h2 class="passage-title">MT5G</h2><p class="passage-tags"><span class="tag-title">Tags: </span><span title="Filter..." class="tag-listing" style="display: inline-block; border-width: 0px 1.1em; border-left: 1.1em solid rgb(177, 13, 201); border-color: rgb(177, 13, 201); padding: 0px 0.1rem; margin-right: 0.5rem;">MT</span></p><div class="passage-references"><h3 class="passage-references-title">References to Other Passages: </h3><div class="passage-reference-wrapper"><div title="Links and other code in other passages that points to this passage.">Referred by: <a href="javascript:void(0)" title="Jump" class="jumpto">MT5F</a></div><div title="Links and other code in this passage that points to other passages.">Refers to: <a href="javascript:void(0)" title="Jump" class="jumpto">Character Select</a></div></div></div><div tabindex="0" class="passage-source"><pre><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;img src="images/MT5G.JPG"/&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">The years tick pass on your prison sentence, slowly but surely. You know your not getting out for a long time. Eventually you start to grow old in prison and know that you might die here one day. </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="4"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">After a long prison sentence, Michael dies in prison.</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="5"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;Set $MTplayed to true&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="6"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Character Select]]&lt;/div&gt;&lt;/div&gt;</div></td></tr></tbody></table></pre></div><div class="passage-footer closed"><button title="View this passage's comments." class="comment-open pure-button pure-button-primary">💬</button><div class="comment-wrapper"></div></div></div><div data-id="65" class="passage-card" name="MT6A" data-pid="65" data-lt="1069"><div role="button" title="Create a comment using this passage's text." class="edit">✎</div><h2 class="passage-title">MT6A</h2><p class="passage-tags"><span class="tag-title">Tags: </span><span title="Filter..." class="tag-listing" style="display: inline-block; border-width: 0px 1.1em; border-left: 1.1em solid rgb(177, 13, 201); border-color: rgb(177, 13, 201); padding: 0px 0.1rem; margin-right: 0.5rem;">MT</span><span title="Filter..." class="tag-listing" style="display: inline-block; border-width: 0px 1.1em; border-left: 1.1em solid rgb(0, 116, 217); border-color: rgb(0, 116, 217); padding: 0px 0.1rem; margin-right: 0.5rem;">Crossover</span><span title="Filter..." class="tag-listing" style="display: inline-block; border-width: 0px 1.1em; border-left: 1.1em solid rgb(255, 133, 27); border-color: rgb(255, 133, 27); padding: 0px 0.1rem; margin-right: 0.5rem;">JW</span></p><div class="passage-references"><h3 class="passage-references-title">References to Other Passages: </h3><div class="passage-reference-wrapper"><div title="Links and other code in other passages that points to this passage.">Referred by: <a href="javascript:void(0)" title="Jump" class="jumpto">MT3A</a></div><div title="Links and other code in this passage that points to other passages.">Refers to: <a href="javascript:void(0)" title="Jump" class="jumpto">MT5F</a></div></div></div><div tabindex="0" class="passage-source"><pre><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">You have been living in prison for a while now. The guards tell you that you have a new visitor, something that doesnt happen very often. The guards take you to the visitor center and you see your old friend, Jamal Washington. </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;ctp "MTandJW"&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> &lt;&lt;jw&gt;&gt;"Man. You remember when we used to talk about opening a shop together?&lt;&lt;/jw&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="4"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> &lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance "MTandJW"&gt;&gt;&lt;&lt;/button&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="5"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;ctpNext&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="6"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;mt&gt;&gt;Yeah, before they decided I didn’t deserve a second chance.&lt;&lt;/mt&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="7"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> &lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance "MTandJW"&gt;&gt;&lt;&lt;/button&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="8"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;ctpNext&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="9"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;jw&gt;&gt;They legalized it. You should be out.&lt;&lt;/jw&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="10"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> &lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance "MTandJW"&gt;&gt;&lt;&lt;/button&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="11"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;ctpNext&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="12"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;mt&gt;&gt;Should. But ain’t nobody rushing to undo what they did to us.&lt;&lt;/mt&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="13"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[MT5F]]&lt;/div&gt;&lt;/div&gt;</div></td></tr></tbody></table></pre></div><div class="passage-footer closed"><button title="View this passage's comments." class="comment-open pure-button pure-button-primary">💬</button><div class="comment-wrapper"></div></div></div><div data-id="66" class="passage-card" name="MT6E" data-pid="66" data-lt="904"><div role="button" title="Create a comment using this passage's text." class="edit">✎</div><h2 class="passage-title">MT6E</h2><p class="passage-tags"><span class="tag-title">Tags: </span><span title="Filter..." class="tag-listing" style="display: inline-block; border-width: 0px 1.1em; border-left: 1.1em solid rgb(177, 13, 201); border-color: rgb(177, 13, 201); padding: 0px 0.1rem; margin-right: 0.5rem;">MT</span><span title="Filter..." class="tag-listing" style="display: inline-block; border-width: 0px 1.1em; border-left: 1.1em solid rgb(0, 116, 217); border-color: rgb(0, 116, 217); padding: 0px 0.1rem; margin-right: 0.5rem;">Crossover</span><span title="Filter..." class="tag-listing" style="display: inline-block; border-width: 0px 1.1em; border-left: 1.1em solid rgb(255, 133, 27); border-color: rgb(255, 133, 27); padding: 0px 0.1rem; margin-right: 0.5rem;">JW</span></p><div class="passage-references"><h3 class="passage-references-title">References to Other Passages: </h3><div class="passage-reference-wrapper"><div title="Links and other code in other passages that points to this passage.">Referred by: <a href="javascript:void(0)" title="Jump" class="jumpto">MT5B</a></div><div title="Links and other code in this passage that points to other passages.">Refers to: <a href="javascript:void(0)" title="Jump" class="jumpto">Character Select</a></div></div></div><div tabindex="0" class="passage-source"><pre><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;img src="images/MT5B.JPG"/&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">Your new dispensary has been running for a while with mild success. It's not an easy living but the business is staying afloat. One day when you are working the counter, you get a visit from an old friend, Jamal Washington. </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;ctp "MTandJW"&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="4"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;jw&gt;&gt;Jamal: Man, you really did it&lt;&lt;/jw&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="5"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance "MTandJW"&gt;&gt;&lt;&lt;/button&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="6"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;ctpNext&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="7"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;mt&gt;&gt;Barely. They ain’t make it easy.&lt;&lt;/mt&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="8"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance "MTandJW"&gt;&gt;&lt;&lt;/button&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="9"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;ctpNext&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="10"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;jw&gt;&gt;Tell me about it…&lt;&lt;/jw&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="11"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">(his own shop struggles across town, competing against big corporations.)</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="12"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;/ctp&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="13"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Character Select]]&lt;/div&gt;&lt;/div&gt;</div></td></tr></tbody></table></pre></div><div class="passage-footer closed"><button title="View this passage's comments." class="comment-open pure-button pure-button-primary">💬</button><div class="comment-wrapper"></div></div></div><div data-id="67" class="passage-card" name="MT80S" data-pid="67" data-lt="270"><div role="button" title="Create a comment using this passage's text." class="edit">✎</div><h2 class="passage-title">MT80S</h2><p class="passage-tags"><span class="tag-title">Tags: </span><span title="Filter..." class="tag-listing" style="display: inline-block; border-width: 0px 1.1em; border-left: 1.1em solid rgb(177, 13, 201); border-color: rgb(177, 13, 201); padding: 0px 0.1rem; margin-right: 0.5rem;">MT</span></p><div class="passage-references"><h3 class="passage-references-title">References to Other Passages: </h3><div class="passage-reference-wrapper"><div title="Links and other code in other passages that points to this passage.">Referred by: <a href="javascript:void(0)" title="Jump" class="jumpto">Michael Thompson</a></div><div title="Links and other code in this passage that points to other passages.">Refers to: <a href="javascript:void(0)" title="Jump" class="jumpto">MT1A</a></div></div></div><div tabindex="0" class="passage-source"><pre><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="chapterHead"&gt;&lt;h2&gt;Social Context&lt;/h2&gt;&lt;hr&gt;&lt;h1&gt;The 1980s&lt;/h1&gt;&lt;/div&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;video "videos/89-Snake.mp4" controls&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Continue|MT1A]]&lt;/div&gt;&lt;/div&gt;</div></td></tr></tbody></table></pre></div><div class="passage-footer closed"><button title="View this passage's comments." class="comment-open pure-button pure-button-primary">💬</button><div class="comment-wrapper"></div></div></div><div data-id="68" class="passage-card" name="MT90S" data-pid="68" data-lt="275"><div role="button" title="Create a comment using this passage's text." class="edit">✎</div><h2 class="passage-title">MT90S</h2><p class="passage-tags"><span class="tag-title">Tags: </span><span title="Filter..." class="tag-listing" style="display: inline-block; border-width: 0px 1.1em; border-left: 1.1em solid rgb(177, 13, 201); border-color: rgb(177, 13, 201); padding: 0px 0.1rem; margin-right: 0.5rem;">MT</span></p><div class="passage-references"><h3 class="passage-references-title">References to Other Passages: </h3><div class="passage-reference-wrapper"><div title="Links and other code in other passages that points to this passage.">Referred by: <a href="javascript:void(0)" title="Jump" class="jumpto">MT1A</a></div><div title="Links and other code in this passage that points to other passages.">Refers to: <a href="javascript:void(0)" title="Jump" class="jumpto">MT2A</a></div></div></div><div tabindex="0" class="passage-source"><pre><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="chapterHead"&gt;&lt;h2&gt;Social Context&lt;/h2&gt;&lt;hr&gt;&lt;h1&gt;The 1990s&lt;/h1&gt;&lt;/div&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;video "videos/90-StraightUp.mp4" controls&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Continue|MT2A]]&lt;/div&gt;&lt;/div&gt;</div></td></tr></tbody></table></pre></div><div class="passage-footer closed"><button title="View this passage's comments." class="comment-open pure-button pure-button-primary">💬</button><div class="comment-wrapper"></div></div></div><div data-id="69" class="passage-card" name="StoryInit" data-pid="69" data-lt="951"><div role="button" title="Create a comment using this passage's text." class="edit">✎</div><h2 class="passage-title">StoryInit</h2><p class="passage-tags"><span class="tag-title">Tags: </span><span title="Filter..." class="tag-listing" style="display: inline-block; border-width: 0px 1.1em; border-left: 1.1em solid rgb(255, 65, 54); border-color: rgb(255, 65, 54); padding: 0px 0.1rem; margin-right: 0.5rem;">Special-Passage</span></p><div tabindex="0" class="passage-source"><pre><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;set $sysdis to 0&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;set $legal to 0&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;set $wealth to 0&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="4"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;set $health to 0&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="5"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;set $MTprison to false&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="6"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;set $MTplayed to false&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="7"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;set $JAplayed to false&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="8"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;set $JWplayed to false&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="9"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="10"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;character 'mtmom' 'Mom' 'images/MTmom.JPG'&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="11"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;character 'mtbro' 'Malik' 'images/MTbro.JPG'&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="12"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;character 'mtjudge' 'Judge' 'images/MTjudge.JPG'&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="13"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;character 'mt' 'Michael' 'images/MT.JPG'&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="14"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;character 'jw' 'Jamal' 'images/JW.JPG'&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="15"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;character 'ja' 'John' 'images/JA.JPG'&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="16"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;character 'jadad' 'Dad' 'images/JAdad.JPG'&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="17"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;character 'jwmom' 'Mom' 'images/JWmom.JPG'&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="18"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;character 'jwgmom' 'Grandmom' 'images/jwgmom.JPG'&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="19"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;character 'jafriend' 'Partner' 'images/JAfriend.JPG'&gt;&gt;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="20"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">&lt;&lt;character 'radio' 'KGNU' 'images/radio.jpg'&gt;&gt;</div></td></tr></tbody></table></pre></div><div class="passage-footer closed"><button title="View this passage's comments." class="comment-open pure-button pure-button-primary">💬</button><div class="comment-wrapper"></div></div></div></div></div> <tw-storydata name="War on Drugs" startnode="1" creator="Twine" creator-version="2.10.0" format="SugarCube" format-version="2.37.3" ifid="2F329366-7393-484B-B197-DD974FFD475B" options="" tags="" zoom="1" hidden=""><style role="stylesheet" id="twine-user-stylesheet" type="text/twine-css">/* ---------------IMPORT FONTS-------------- */

/* Monospaced */
@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+Mono:wght@100..900&display=swap');

/* Serifed */
@import url('https://fonts.googleapis.com/css2?family=Noto+Serif:ital,wght@0,100..900;1,100..900&display=swap');

/* Sans Serif */
@import url('https://fonts.googleapis.com/css2?family=Noto+Sans:ital,wght@0,100..900;1,100..900&display=swap');

/* Fantasy */
@import url('https://fonts.googleapis.com/css2?family=Megrim&display=swap');

/* Dyslexic */
@import url('https://fonts.cdnfonts.com/css/open-dyslexic');

/* Icons */
@import url('https://use.fontawesome.com/releases/v6.7.2/css/all.css');

/* ---------------FONT SETTINGS-------------- */

.sansserif .passage,
.sansserif #ui-dialog-body {
  font-family: 'Noto Sans', sans-serif;
}

.monospace .passage,
.monospace #ui-dialog-body {
  font-family: 'Noto Sans Mono', monospace;
}

.serif .passage,
.serif #ui-dialog-body {
  font-family: 'Noto Serif', serif;
}

.dyslexic .passage,
.dyslexic #ui-dialog-body {
  font-family: 'Open-Dyslexic', dyslexic;
}

/*Alignment*/
.justified .passage {
  text-align: justify;
}

/*Line Height*/
.lh-small .passage {
  line-height: 1.2;
}

.lh-medium .passage {
  line-height: 1.6;
}

.lh-large .passage {
  line-height: 2;
}

.lh-biggest .passage {
  line-height: 2.4;
}

/* ---------------TEMPLATE SETTINGS------------- */

.center {
  text-align: center;
}

.justify {
  text-align: justify;
}

body {
  padding: 5% 15%;
  background: transparent;
}

html {
  background-color: black;
  background-image: url('images/leaf.jpg');
  background-repeat: repeat;
  background-position: top center;
  background-attachment: fixed;
  background-size: cover;
  height: 100%;
}

a {
  color: white;
}

a:hover {
  color: white;
  text-shadow: 0px 0px 1px black;
}

/* Text box styling */
#passages {
  /* Base size for the font inside the passage */
  font-size: 16px;

  /* Set a maximum width for the textbox */
  max-width: 800px;

  /* An outline around the textbox */
  border: 1px solid black;
  box-shadow: 0px 0px 20px black;

  padding: 20px 30px;

  /* A semi-transparent background color */
  background-color: rgba(0, 0, 0, 0.75);

  /* Space between the edges of the textbox and the text */
  padding: 50px;

  /* Round off the edges of the textbox */
  border-radius: 10px;

  -webkit-animation: fadein 0.7s;
  /* Safari, Chrome and Opera > 12.1 */
  -moz-animation: fadein 0.7s;
  /* Firefox < 16 */
  -ms-animation: fadein 0.7s;
  /* Internet Explorer */
  -o-animation: fadein 0.7s;
  /* Opera < 12.1 */
  animation: fadein 0.7s;
}

@keyframes fadein {
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
}

/* Firefox < 16 */
@-moz-keyframes fadein {
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
}

/* Safari, Chrome and Opera > 12.1 */
@-webkit-keyframes fadein {
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
}

/* Internet Explorer */
@-ms-keyframes fadein {
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
}

/* Opera < 12.1 */
@-o-keyframes fadein {
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
}

#passages a {
  color: lightblue;
}

#passages a:hover {
  color: white;
  text-decoration: none;
}

.chapterHead h2 {
  text-align: center;
  text-transform: uppercase;
  font-size: 16px;
  letter-spacing: 5px;
}

.chapterHead h1 {
  text-align: center;
  margin-top: 30px;
  font-size: 35px;
}

img {
  max-width: 100%;
  border-radius: 10px;
}

h1 {
  font-family: 'Megrim';
  font-size: 35px;
  letter-spacing: 3px;
  line-height: 40px;
}

h2 {
  font-family: sans-serif;
  font-size: 25px;
  font-weight: 300;
  line-height: 30px;
}

.storychoice {
  font-family: sans-serif;
  font-size: 16px;
  color: white;
  /* display: inline-block; */
  float: center;
  border: 1px solid #555555;
  border-radius: 10px;
  box-shadow: 0px 0px 20px black;
  padding: 10px 15px;
  margin-bottom: 30px;
}

.storychoice:hover {
  background: #262626;
  color: white;
  box-shadow: 0px 0px 10px #474747;
}

.storychoice:visited {
  color: white;
}

.storychoice.visited:hover {
  color: white;
}

.storychoice:before {
  content: '\f595';
  font-family: 'Font Awesome 6 Free';
  font-weight: 900;
  margin-right: 13px;
}

.storychoice:hover::before {
  margin-right: 25px;
  transition: all 0.5s ease;
}

#ui-bar {
  background-color: rgba(0, 0, 0, 0.7);
  color: rgba(255, 255, 255, 1);
  border-right: 1px solid #000;
  text-align: center;
}

#menu ul {
  margin: 0 0;
  padding: 0;
  list-style: none;
  border: 1px solid #000;
}

#menu ul:empty {
  display: none;
}

#menu li {
  margin: 0;
}

#menu li:not(:first-child) {
  border-top: 1px solid #000;
}

#menu li a {
  display: block;
  padding: 0.25em 0.75em;
  border: 1px solid transparent;
  color: #fff;
  text-transform: uppercase;
}

#menu li a:hover {
  background-color: rgba(0, 0, 0, 0.25);
  border-color: #fff;
}

#ui-bar-toggle,
#ui-bar-history [id|='history'] {
  background-color: rgba(0, 0, 0, 0.25);
  border-color: #000;
}

#ui-bar-toggle:hover {
  background-color: rgba(0, 0, 0, 0.25);
  border-color: #fff;
}

#ui-bar-history [id|='history']:hover {
  background-color: rgba(0, 0, 0, 0.25);
  border-color: #fff;
}

#story-title {
  padding: 25px 0px 0px 0px;
  font-family: 'Megrim', sans-serif;
}

/*NOTEBOXS AND SPECIAL DIVS*/

.notebox {
  background-color: rgba(38, 38, 38, 0.25);
  padding: 15px;
  margin: 10px 0px;
  text-align: center;
  font-family: sans-serif;
  font-size: 15px;
  line-height: 25px;
  border-radius: 10px;
}

.notebox i {
  font-size: 15px;
  margin-right: 20px;
}

.warningbox {
  background-color: rgba(0, 0, 0, 0.5);
  border: 1px solid black;
  padding: 30px;
  margin: 10px 0px;
  text-align: center;
  font-family: sans-serif;
  font-size: 15px;
  line-height: 17px;
  border-radius: 10px;
}

.warningbox h2 {
  font-size: 23px;
}

.itemadd {
  background-color: #26c35a;
  padding: 5px 10px;
  text-align: center;
  font-weight: 500;
  font-family: sans-serif;
  font-size: 16px;
  border-radius: 10px;
  display: inline-block;
  margin: 10px auto;
}

.itemlost {
  background-color: #c3263c;
  padding: 5px 10px;
  text-align: center;
  font-weight: 500;
  font-family: sans-serif;
  font-size: 16px;
  border-radius: 10px;
  display: inline-block;
  margin: 10px auto;
}

/* ------------ADDITIONS TO TEMPLATE-----------*/

#passages button {
    cursor: pointer;
    border: 2px solid #add9e6;
    font-family: Raleway;
    font-size: 12px;
    color: rgb(255, 255, 255);
    padding: 5px 10px;
    transition: all;
    width: 80px;
    border-radius: 8px;
    background: rgb(000, 000, 000);
    font-weight: 600;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: row-reverse;
}


#passages button:hover {

    color: rgb(255, 255, 255);
    width: 85px;
    background: rgb(000, 000, 000);
    border-color: rgb(255, 204, 102);
    border-width: 2px;
    border-style: solid;
}

#passages button:after {
    content: '\f55f';
    font-family: 'Font Awesome 5 Free';
    font-weight: 700;
    margin-right: 13px;
}

/* ------------STATUS/PROGRESS BARS----------- */

.progress-bar {
    width: 100%;
    height: 15px;
    background: #343434;
    opacity: 0.6;
    border-radius: 10px;
    margin: -20px 0;
}

.progress-bar div {
    height: 100%;
    border-radius: 10px;
}

#status-bars p {
    margin-bottom: 2px;
    font-size: 1.00em;
    text-align: left;
}

/* ---------------SPEECH BOXES-------------- */

.say {
    border: 1px solid #555555;
    border-radius: 10px;
    overflow: auto;
}

.say>img {
    max-width: 20%;
    float: left;
    margin-right: 1em;
}

.say>p:first-of-type {
    font-weight: bold;
    margin: 0.2em 0;
    border-bottom: 1px solid #555555;
}

.say>p:last-of-type {
    padding: 0.5em;
    margin: 0;
}</style><script role="script" id="twine-user-script" type="text/twine-javascript">//-------------FONT CHOICE SETTINGS------------//

var settingFontFamily = ['Sans Serif', 'Serif', 'Monospace', 'Open Dyslexic']
var fontFamily = function () {
  var $html = $('html')
  $html.removeClass('sansserif serif monospace dyslexic')

  switch (settings.fontFamily) {
    case 'Sans Serif':
      $html.addClass('sansserif')
      break
    case 'Serif':
      $html.addClass('serif')
      break
    case 'Monospace':
      $html.addClass('monospace')
      break
    case 'Open Dyslexic':
      $html.addClass('dyslexic')
      break
  }
}
Setting.addList('fontFamily', {
  label: 'Change font type',
  desc: 'Choose between a Serif, Sans-serif, or the OpenDyslexic Font',
  list: settingFontFamily,
  default: 'Sans Serif',
  onInit: fontFamily,
  onChange: fontFamily,
})

/* font size */

var settingFontSize = ['75%', '100%', '125%', '150%']
var resizeFont = function () {
  var size = document.getElementById('passages')
  switch (settings.fontSize) {
    case '75%':
      size.style.fontSize = '75%'
      break
    case '100%':
      size.style.fontSize = '100%'
      break
    case '125%':
      size.style.fontSize = '125%'
      break
    case '150%':
      size.style.fontSize = '150%'
      break
  }
}
Setting.addList('fontSize', {
  label: 'Change Font Size',
  list: settingFontSize,
  default: '100%',
  onInit: resizeFont,
  onChange: resizeFont,
})

/* line height */

var settingLineHeight = ['75%', '100%', '125%', '150%']
var lineHeight = function () {
  var $html = $('html')
  $html.removeClass('lh-small lh-medium lh-large lh-biggest')
  switch (settings.lineheight) {
    case '75%':
      $html.addClass('lh-small')
      break
    case '100%':
      $html.addClass('lh-medium')
      break
    case '125%':
      $html.addClass('lh-large')
      break
    case '150%':
      $html.addClass('lh-biggest')
      break
  }
}
Setting.addList('lineheight', {
  label: 'Change Line Height',
  default: '100%',
  list: settingLineHeight,
  onInit: lineHeight,
  onChange: lineHeight,
})

/* justification */

var settingtextAlign = function () {
  if (settings.textalign) {
    $('html').addClass('justified')
  } else {
    $('html').removeClass('justified')
  }
}
Setting.addToggle('textalign', {
  label: 'Change Text Alignment',
  desc: 'If enabled, the text will be justified',
  default: false,
  onInit: settingtextAlign,
  onChange: settingtextAlign,
})

//-------------KEYBOARD NAVIGATION------------//

var KBIntervalID = 0;
$(document).on(":passagerender", function (ev) {
    clearInterval(KBIntervalID);
    UpdateLinks(ev.content);
    // Search passages for links every 300ms, just in case they get updated, and marks them for key clicks
    KBIntervalID = setInterval(UpdateLinks, 300);
});
// Adds key shortcut indicators to links in passage if there are less than 11 links in the passsage.
function UpdateLinks(Container) {
    // Enables keyboard shortcuts on passages that do not have the "DisableKeyLinks" tag
    if (!tags().includes("DisableKeyLinks")) {
        var Links, i;
        if (typeof Container === "undefined") {
            Container = document;
            Links = $("#passages a").toArray();
        } else {
            Links = $(Container).find("a").toArray();
        }
        if (Links.length > 0) {
            for (i = Links.length - 1; i >= 0; i--) {
                if ($(Links[i]).data("nokeys") || $(Links[i]).parent().data("nokeys")) {
                    Links.deleteAt(i);
                }
            }
        }
        if (Links.length === 1) {
            if (!Links[0].id.includes("Link")) {
                Links[0].id = "NextLink";
            }
        } else if (Links.length >= 1 && Links.length <= 10) {
            var n = 1;
            for (i = 0; i < Links.length; i++) {
                if (!Links[i].id.includes("Link")) {
                    while ($(Container).find("#Link" + n).length) {
                        ++n;
                        if (n > 10) {
                            break;
                        }
                    }
                    if (n < 10) {
                        $("<sup>[" + n + "]</sup>").appendTo(Links[i]);
                        Links[i].id = "Link" + n;
                    } else if (n === 10) {
                        $("<sup>[0]</sup>").appendTo(Links[i]);
                        Links[i].id = "Link0";
                        break;
                    } else {
                        break;
                    }
                }
            }
        }
    }
}
$(document).on("keyup", function (e) {
    // Enables keyboard shortcuts on passages that do not have the "DisableKeyLinks" tag
    if (!tags().includes("DisableKeyLinks") && ($("input:focus").length === 0)) {
        // Trigger next link click on right arrow key or "1" (normal and numpad)
        if (((e.key == "ArrowRight") || (e.key == "1") || (e.keyCode === 97)) && ($("#NextLink").length > 0)) {
            if (!(tags().includes("IgnoreArrowKeys") && (e.key == "ArrowRight"))) {
                e.preventDefault();
                $("#NextLink").click();
                return false;
            }
        } else {
            // Trigger link click on keys "0" through "9"
            if ((e.keyCode > 47) && (e.keyCode < 58)) {
                if ($("#Link" + (e.keyCode - 48)).length) {
                    e.preventDefault();
                    $("#Link" + (e.keyCode - 48)).click();
                    return false;
                }
            }
            // Trigger link click on numpad keys "0" through "9"
            if ((e.keyCode > 95) && (e.keyCode < 106)) {
                if ($("#Link" + (e.keyCode - 96)).length) {
                    e.preventDefault();
                    $("#Link" + (e.keyCode - 96)).click();
                    return false;
                }
            }
        }
        // Trigger random click on "." or "r" key
        if ((e.key == ".") || (e.key == "r")) {
            e.preventDefault();
            var Links = $("#passages a"), n, UsableLinks = [];
            if (Links.length > 0) {
                for (n = 0; n < Links.length; n++) {
                    if (!$(Links[n]).data("nokey")) {
                        UsableLinks.push(n);
                    }
                }
                if (UsableLinks.length > 0) {
                    n = random(UsableLinks.length - 1);
                    Links[UsableLinks[n]].click();
                    return false;
                }
            }
        }
        // Trigger back click on left arrow key or backquote
        if ((e.key == "ArrowLeft") || (e.key == "`")) {
            if ((!tags().includes("IgnoreArrowKeys")) || (e.key != "ArrowLeft")) {
                e.preventDefault();
                Engine.backward();
                return false;
            }
        }
    }
});

//-------------STATUS/PROGRESS BARS------------//

window.updateBars = function () {
    let sysdis = State.variables.sysdis || 0;
    let legal = State.variables.legal || 0;
    let wealth = State.variables.wealth || 0;
    let health = State.variables.health || 0;

    // Normal scale: Higher = More Danger
    function getStandardBarColor(value) {
        if (value <= 30) return "SpringGreen";
        if (value <= 60) return "Gold";
        return "Tomato";
    }

    // Inverted scale: Lower = More Danger
    function getInvertedBarColor(value) {
        if (value >= 70) return "SpringGreen";
        if (value >= 40) return "Gold";
        return "Tomato";
    }

    function updateBar(barId, value, colorFunction) {
        let barElement = document.getElementById(barId);
        if (barElement) {
            barElement.style.width = value + "%";
            barElement.style.background = colorFunction(value);
        }
    }

    updateBar("sysdis-bar", sysdis, getStandardBarColor);
    updateBar("legal-bar", legal, getStandardBarColor);
    updateBar("wealth-bar", wealth, getInvertedBarColor);
    updateBar("health-bar", health, getInvertedBarColor);
};

$(document).on(':passageend', updateBars);

//---------------SPEECH BOX MACRO--------------//

;(function () {
  // v1.1.1
  'use strict'

  var characters = new Map()

  function addCharacter(name, displayname, icon) {
    if (icon === undefined && displayname) {
      icon = displayname
      displayname = null
    }
    if (State.length) {
      throw new Error('addCharacter() -> must be called before story starts')
    }
    if (!name || !icon) {
      console.error('addCharacter() -> invalid arguments')
      return
    }
    if (characters.has(name)) {
      console.error('addCharacter() -> overwriting character "' + name + '"')
    }
    characters.set(name, { displayName: displayname, image: icon })
  }

  function say($output, character, text, imgSrc) {
    //
    var $box = $(document.createElement('div')).addClass(
      Util.slugify(character) + ' say'
    )

    // portrait
    var _img = characters.has(character)
      ? characters.get(character).image
      : null
    var $img = $(document.createElement('img')).attr(
      'src',
      imgSrc || _img || ''
    )

    if ($img.attr('src') && $img.attr('src').trim()) {
      $box.append($img)
    }

    // name and content boxes
    var _name = character.toUpperFirst()
    if (characters.has(character) && characters.get(character).displayName) {
      _name = characters.get(character).displayName
    }

    $box
      .append($(document.createElement('p')).wiki(_name))
      .append($(document.createElement('p')).wiki(text))

    if ($output) {
      if (!($output instanceof $)) {
        $output = $($output)
      }
      $box.appendTo($output)
    }

    return $box
  }

  setup.say = say
  setup.addCharacter = addCharacter

  Macro.add('character', {
    // character macro
    handler: function () {
      addCharacter(this.args[0], this.args[1], this.args[2])
    },
  })

  $(document).one(':passagestart', function () {
    // construct array of character names
    var names = Array.from(characters.keys())
    names.push('say')
    // generate macros
    Macro.add(names, {
      tags: null,
      handler: function () {
        if (this.name !== 'say') {
          say(this.output, this.name, this.payload[0].contents)
        } else {
          say(this.output, this.args[0], this.payload[0].contents, this.args[1])
        }
      },
    })
  })
})()

//-------------CLICK TO PROCEED MACRO------------//

;(() => {
  'use strict'

  $(document).on(':passageinit', () => {
    CTP.Logs.forEach((_, id) => {
      if (!CTP.Repository.get(id)?.persist) CTP.Logs.delete(id)
    })
    CTP.Repository.forEach(({ persist }, id) => {
      if (!persist) CTP.Repository.delete(id)
    })
  })

  var CTP = class _CTP {
    constructor(id, persist = false) {
      this.stack = []
      this.clears = []
      this.options = {}
      if (!id?.trim()) throw new Error(`No ID specified!`)
      this.id = id
      this.persist = persist
      _CTP.Repository.set(id, this)
    }
    static get Repository() {
      if (!setup['@CTP/Repository']) setup['@CTP/Repository'] = new Map()
      return setup['@CTP/Repository']
    }
    static get Logs() {
      if (!variables()['@CTP/Logs']) variables()['@CTP/Logs'] = new Map()
      return variables()['@CTP/Logs']
    }
    get log() {
      if (!_CTP.Logs.get(this.id))
        _CTP.Logs.set(this.id, { lastClear: -1, index: -1, seen: -1 })
      return _CTP.Logs.get(this.id)
    }
    static getCTP(id) {
      return _CTP.Repository.get(id)
    }
    add(content, options = {}) {
      if (options.clear) this.clears.push(this.stack.length)
      this.stack.push({
        options,
        content,
        index: this.stack.length,
        element: $(),
      })
      return this
    }
    print(index) {
      const { content, options: iOpts } = this.stack[index]
      const options = {
        ...this.options,
        ...iOpts,
      }
      const element = $(document.createElement(options.element || 'span'))
        .addClass('--macro-ctp-hidden')
        .attr({
          'data-macro-ctp-id': this.id,
          'data-macro-ctp-index': index,
        })
        .on('update-internal.macro-ctp', (event, firstTime) => {
          if ($(event.target).is(element)) {
            if (index === this.log.index) {
              if (firstTime) {
                if (typeof content === 'string') element.wiki(content)
                else element.append(content)
                element.addClass(options.transition ? '--macro-ctp-t8n' : '')
              }
              element.removeClass('--macro-ctp-hidden')
            } else {
              if (index < this.log.seen) element.removeClass('--macro-ctp-t8n')
              element.toggleClass(
                '--macro-ctp-hidden',
                index > this.log.index || index < this.log.lastClear
              )
            }
          }
        })
      this.stack[index].element = element
      return element
    }

    output() {
      const wrapper = document.createDocumentFragment()
      for (let i = 0; i < this.stack.length; i++) {
        this.print(i).appendTo(wrapper)
      }
      return wrapper
    }

    advance() {
      if (this.log.index < this.stack.length - 1) {
        this.log.index++
        const firstTime = this.log.index > this.log.seen
        this.log.seen = Math.max(this.log.seen, this.log.index)
        this.log.lastClear =
          this.clears
            .slice()
            .reverse()
            .find(el => el <= this.log.index) ?? -1
        $(document).trigger('update.macro-ctp', [
          'advance',
          this.id,
          this.log.index,
        ])
        this.stack.forEach(({ element }) =>
          element.trigger('update-internal.macro-ctp', [
            firstTime,
            'advance',
            this.id,
            this.log.index,
          ])
        )
      }
      return this
    }

    back() {
      if (this.log.index > 0) {
        this.log.index--
        this.log.lastClear =
          this.clears
            .slice()
            .reverse()
            .find(el => el <= this.log.index) ?? -1
        $(document).trigger('update.macro-ctp', [
          'back',
          this.id,
          this.log.index,
        ])
        this.stack.forEach(({ element }) =>
          element.trigger('update-internal.macro-ctp', [
            false,
            'back',
            this.id,
            this.log.index,
          ])
        )
      }
      return this
    }
  }
  window.CTP = CTP

  Macro.add('ctp', {
    tags: ['ctpNext'],
    handler() {
      const id = this.args[0]
      const persist = this.args.slice(1).includes('persist')
      const ctp = new CTP(id, persist)
      const _passage = passage()
      this.payload.forEach(({ args, name, contents }) => {
        const options = {}
        if (args.includes('clear')) options.clear = true
        if (args.includesAny('t8n', 'transition')) options.transition = true
        const elementArg = args.find(el => el.startsWith('element:')) ?? ''
        if (elementArg) options.element = elementArg.replace('element:', '')
        if (name === 'ctp') ctp.options = { ...options }
        ctp.add(contents, options)
      })
      $(this.output).append(ctp.output())

      if (_passage === passage()) {
        const i = Math.max(ctp.log.index, 0)
        ctp.log.index = -1
        ctp.log.seen = -1
        while (ctp.log.index < i) ctp.advance()
      }
    },
  })

  Macro.add('ctpAdvance', {
    handler() {
      const id = this.args[0]
      if (id) {
        const ctp = CTP.getCTP(id)
        if (ctp) ctp.advance()
        else throw new Error(`No CTP with ID '${id}' found!`)
      } else throw new Error(`No ID specified!`)
    },
  })

  Macro.add('ctpBack', {
    handler() {
      const id = this.args[0]
      if (id) {
        const ctp = CTP.getCTP(id)
        if (ctp) ctp.back()
        else throw new Error(`No CTP with ID '${id}' found!`)
      } else throw new Error(`No ID specified!`)
    },
  })
})()

//--------------VIDEO HELPER---------------------//

Macro.add('video', {
    handler: function () {
        if (this.args.length < 1) {
            return this.error("The video macro requires a path argument.");
        }

        const videoPath = this.args[0];
        let videoWidth = '100%';
        let videoType;
        let additionalAttributes = [];

        // Check if the second argument is a width or a video attribute
        if (this.args[1] && !this.args[1].includes('=')) {
            if (!this.args[1].includes('autoplay') && !this.args[1].includes('loop') && !this.args[1].includes('muted') && !this.args[1].includes('controls')) {
                videoWidth = this.args[1];
                additionalAttributes = this.args.slice(2);
            } else {
                additionalAttributes = this.args.slice(1);
            }
        } else {
            additionalAttributes = this.args.slice(1);
        }

        // Determine the video type based on the file extension
        if (videoPath.endsWith('.mp4')) {
            videoType = 'video/mp4';
        } else if (videoPath.endsWith('.webm')) {
            videoType = 'video/webm';
        } else if (videoPath.endsWith('.mov')) {
            videoType = 'video/mp4';
        } else if (videoPath.endsWith('.ogg')) {
            videoType = 'video/ogg';
        } else if (videoPath.endsWith('.avi')) {
            videoType = 'video/x-msvideo';
        } else {
            return this.error("Unsupported video format.");
        }

        const additionalAttributesStr = additionalAttributes.join(' ');

        const videoHTML = `<video width="${videoWidth}" ${additionalAttributesStr}>
                              <source src="${videoPath}" type="${videoType}">
                              Your browser does not support the video tag.
                           </video>`;

        new Wikifier(this.output, videoHTML);
    }
});</script><tw-tag name="Special-Passage" color="red"></tw-tag><tw-tag name="MT" color="purple"></tw-tag><tw-tag name="JW" color="orange"></tw-tag><tw-tag name="JA" color="green"></tw-tag><tw-tag name="Crossover" color="blue"></tw-tag><tw-passagedata pid="1" name="Start" tags="" position="400,100" size="100,100">&lt;div
 
class="chapterHead"&gt;&lt;h2&gt;Introduction&lt;/
h2&gt;&lt;hr&gt;&lt;h1&gt;The War on Drugs&lt;/h1&gt;&lt;/div&gt;
&lt;img src="images/SKYLINE.JPG" alt="The Denver skyline with Rocky 
Mountains in the background."&gt;
&lt;div class="notebox"&gt;
&lt;hr&gt;
&lt;div class="chapterHead"&gt;&lt;h2&gt;Overview&lt;/h2&gt;
This simulation gives you the opportunity to see small glimpses of life 
and the world through the eyes of three very different people growing up
 in the same general area. 

Play as all three characters, pause and reflect on what you've 
experienced, and remember that you're only seeing small scenes from 
their lives.

Imagine what the "big picture" must have been like for each of 
them.&lt;/div&gt;
&lt;hr&gt;
&lt;div class="chapterHead"&gt;&lt;h2&gt;Navigation&lt;/h2&gt;
The simulation was created to make navigation easy. Mouse-clicking 
should be intuitive, with choices clearly labeled.

The left arrow key can be used to go back. The right arrow key can be 
used to go forward if there is only one choice.

If a choice has a number after it, that number key on the keyboard will 
take you there.&lt;/div&gt;
&lt;hr&gt;
&lt;div class="chapterHead"&gt;&lt;h2&gt;Bookmarks&lt;/h2&gt;
You are free to bookmark your place at any point using the SAVES menu in
 the sidebar. You can come back and load your saves later.

Bookmarks are stored by your browser and aren't shared from one browser 
to another.&lt;/div&gt;
&lt;hr&gt;
&lt;div class="chapterHead"&gt;&lt;h2&gt;Restart&lt;/h2&gt;
The Restart button will reset everything. It will be as if you had not 
checked out any of the characters' stories.

Careful with this one!&lt;/div&gt;
&lt;hr&gt;
&lt;div class="chapterHead"&gt;&lt;h2&gt;Note&lt;/h2&gt;
This simulation includes themes of drugs and drug use, life and death, 
racism, and capitalism.

Viewer discretion is advised.&lt;/div&gt;
&lt;/div&gt;
&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Select a 
Character|Character Select]]&lt;/div&gt;&lt;/div&gt;</tw-passagedata><tw-passagedata pid="2" name="StoryCaption" tags="Special-Passage" position="200,100" size="100,100">&lt;div id="status-bars"&gt;
    &lt;p&gt;&lt;i class="fas fa-balance-scale" style="font-size: 1.75em;"&gt;&lt;/i&gt;&amp;emsp;SYS DISADVANTAGE&lt;/p&gt;
    &lt;div class="progress-bar"&gt;&lt;div id="sysdis-bar"&gt;
    &lt;/div&gt;&lt;/div&gt;

    &lt;p&gt;&lt;i class="fas fa-gavel" style="font-size: 1.75em;"&gt;&lt;/i&gt;&amp;emsp;LEGAL TROUBLE&lt;/p&gt;
    &lt;div class="progress-bar"&gt;&lt;div id="legal-bar"&gt;
    &lt;/div&gt;&lt;/div&gt;

    &lt;p&gt;&lt;i class="fas fa-piggy-bank" style="font-size: 1.75em;"&gt;&lt;/i&gt;&amp;emsp;WEALTH&lt;/p&gt;
    &lt;div class="progress-bar"&gt;&lt;div id="wealth-bar"&gt;
    &lt;/div&gt;&lt;/div&gt;

    &lt;p&gt;&lt;i class="fas fa-heartbeat" style="font-size: 1.75em;"&gt;&lt;/i&gt;&amp;emsp;HEALTH&lt;/p&gt;
    &lt;div class="progress-bar"&gt;&lt;div id="health-bar"&gt;
    &lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="3" name="Character Select" tags="" position="800,100" size="100,100">&lt;&lt;set $sysdis to 0&gt;&gt;
&lt;&lt;set $legal to 0&gt;&gt;
&lt;&lt;set $wealth to 0&gt;&gt;
&lt;&lt;set $health to 0&gt;&gt;
&lt;div class="chapterHead"&gt;&lt;h2&gt;Introduction&lt;/h2&gt;&lt;hr&gt;&lt;h1&gt;Choose Your Character&lt;/h1&gt;&lt;/div&gt;
&lt;img src="images/TRIP.PNG" alt="Michael Thompson, John Anderson, and Jamal Washington as young men."&gt;
Jump in and experience all three characters in whichever order you like.

Every ending will bring you back to this page.
&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Michael Thompson]]&lt;/div&gt;&lt;/div&gt; 
&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[John Anderson]]&lt;/div&gt;&lt;/div&gt; 
&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Jamal Washington]]&lt;/div&gt;&lt;/div&gt;</tw-passagedata><tw-passagedata pid="4" name="John Anderson" tags="JA" position="1400,300" size="100,100">&lt;&lt;set $sysdis to 0&gt;&gt;
&lt;&lt;set $legal to 0&gt;&gt;
&lt;&lt;set $wealth to 90&gt;&gt;
&lt;&lt;set $health to 80&gt;&gt;
&lt;div class="chapterHead"&gt;&lt;h2&gt;Scene 3&lt;/h2&gt;&lt;hr&gt;&lt;h1&gt;John Anderson&lt;/h1&gt;&lt;/div&gt;
&lt;img src="images/JA0A.JPG" alt="John Anderson as a young man."&gt;
&lt;div class="notebox"&gt;
!!! Bio Facts
&lt;&lt;type 60ms&gt;&gt;&lt;b&gt;Year of Birth:  &lt;/b&gt;1968&lt;&lt;/type&gt;&gt;
&lt;&lt;type 60ms&gt;&gt;&lt;b&gt;Place of Birth:  &lt;/b&gt;Aspen, Colorado&lt;&lt;/type&gt;&gt;
&lt;&lt;type 60ms&gt;&gt;&lt;b&gt;Race:  &lt;/b&gt;White&lt;&lt;/type&gt;&gt;
&lt;&lt;type 60ms&gt;&gt;&lt;b&gt;Occupation:  &lt;/b&gt;Inherited Business&lt;&lt;/type&gt;&gt;
&lt;&lt;type 60ms&gt;&gt;&lt;b&gt;Education:  &lt;/b&gt;Ivy-League Graduate&lt;&lt;/type&gt;&gt;
&lt;&lt;type 60ms&gt;&gt;&lt;b&gt;Income:  &lt;/b&gt;Wealthy&lt;&lt;/type&gt;&gt;
&lt;/div&gt;
&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[John Anderson|JA90S]]&lt;/div&gt;&lt;/div&gt;</tw-passagedata><tw-passagedata pid="5" name="JA00S" tags="JA" position="1500,550" size="100,100">&lt;div class="chapterHead"&gt;&lt;h2&gt;Social Context&lt;/h2&gt;&lt;hr&gt;&lt;h1&gt;The 2000s&lt;/h1&gt;&lt;/div&gt;
&lt;&lt;video "videos/02-Gun.mp4" controls&gt;&gt;
&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Continue|JA2A]]&lt;/div&gt;&lt;/div&gt;</tw-passagedata><tw-passagedata pid="6" name="JA10S" tags="JA" position="1500,675" size="100,100">&lt;div class="chapterHead"&gt;&lt;h2&gt;Social Context&lt;/h2&gt;&lt;hr&gt;&lt;h1&gt;The 2010s&lt;/h1&gt;&lt;/div&gt;
&lt;&lt;video "videos/06-Flat.mp4" controls&gt;&gt;
&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Continue|JA3A]]&lt;/div&gt;&lt;/div&gt;</tw-passagedata><tw-passagedata pid="7" name="JA1A" tags="JA" position="1500,425" size="100,100">&lt;img
 src="images/JA1A.JPG"/&gt;
You just graduated from cornell with a business degree. Money has never 
been a worry for you. Your dad inherited his dads real estate business, 
and they expect you to take it over next. This is a safe option but you 
have dreams of something else. Cannabis just got legalized in colorado 
and you hope to get in on the ground floor and start a new empire. Your 
dad disagress with your plan, he knows theres no risk in his real estate
 business. He asks to talk to you when you get back to Aspen from 
Cornell. 
&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Talk to 
father|JA1B]]&lt;/div&gt;&lt;/div&gt;</tw-passagedata><tw-passagedata pid="8" name="JA1B" tags="JA" position="1625,425" size="100,100">&lt;img
 src="images/JA1B.JPG"/&gt;
You meet with your father in his estate in Aspen:
&lt;&lt;ctp "JAandJAdad"&gt;&gt;
&lt;&lt;jadad&gt;&gt;John, your grandfather made his fortune in real 
estate.&lt;&lt;/jadad&gt;&gt;
&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance 
"JAandJAdad"&gt;&gt;&lt;&lt;/button&gt;&gt;
&lt;&lt;ctpNext&gt;&gt;
&lt;&lt;jadad&gt;&gt;We don’t take risks.&lt;&lt;/jadad&gt;&gt;
&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance 
"JAandJAdad"&gt;&gt;&lt;&lt;/button&gt;&gt;
&lt;&lt;ctpNext&gt;&gt;
&lt;&lt;ja&gt;&gt;Yeah, but this is the future, Dad.&lt;&lt;/ja&gt;&gt;
&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance 
"JAandJAdad"&gt;&gt;&lt;&lt;/button&gt;&gt;
&lt;&lt;ctpNext&gt;&gt;
&lt;&lt;ja&gt;&gt;If it flops, the government will protect 
us.&lt;&lt;/ja&gt;&gt;
You think they’ll do that for people like Michael Thompson?
&lt;&lt;/ctp&gt;&gt;

You hear his advice but you know theres money to be made in cannabis. 
Didn't grandpa have to take a risk at some point?
Its time to make your decision. Do you play it safe and keep working in 
the family business? Or do you invest in cannabis early?
&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Take over 
real estate business|JA00S][$wealth +=30, $health 
+=10]]&lt;/div&gt;&lt;/div&gt;
&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Invest in 
cannabis early|JA00S][$wealth +=50]]&lt;/div&gt;&lt;/div&gt;</tw-passagedata><tw-passagedata pid="9" name="JA2A" tags="JA" position="1625,550" size="100,100">&lt;img
 src="images/JA2A.JPG"/&gt;
Cannabis is still illegal federally but in some states the medical 
sector is profitable. You get a call from Dave, your friend from 
Cornell. You guys always talked about investing together, maybe now is 
the perfect time?
Dave flies into Aspen and you show him the beauties of Colorado. Before 
long business talks begin and Dave agrees, theres less risk for you 
guys. 

&lt;&lt;ctp "JAandJAfriend"&gt;&gt;
&lt;&lt;jafriend&gt;&gt;This new medical marijuana industry is 
risky…&lt;&lt;/jafriend&gt;&gt;
&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance 
"JAandJAfriend"&gt;&gt;&lt;&lt;/button&gt;&gt;
&lt;&lt;ctpNext&gt;&gt;
&lt;&lt;jafriend&gt;&gt;but let’s be real; we aren’t the ones getting 
arrested for this.&lt;&lt;/jafriend&gt;&gt;
&lt;&lt;/ctp&gt;&gt;
You know he is right, no matter how bad it feels. You know theres long 
been injustice surronding cannabis in different communities. Dave leaves
 Aspen the next day, you still haven't given him your decision yet. You 
haven't decided yet yourself. 
Do you play it safe in a retail business or take a risk and invest in 
medical marijuana?
&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Real 
Estate|JA10S][$wealth +=20]]&lt;/div&gt;&lt;/div&gt;
&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[medical 
marijuana|JA10S][$wealth +=40, $sysdis +=5]]&lt;/div&gt;&lt;/div&gt;</tw-passagedata><tw-passagedata pid="10" name="JA3A" tags="JA" position="1625,675" size="100,100">&lt;img
 src="images/JA3A.JPG"/&gt;
Its 2014, an amendment got passed in 2012 in Colorado, allowing for the 
sell of recreational cannabis. Big investors dominate from the start, 
they have the captial to open lots of dispensaries without worrying 
about profit right away. 
&lt;div class="center"&gt;&lt;div 
class="storychoice"&gt;[[JA3B]]&lt;/div&gt;&lt;/div&gt;</tw-passagedata><tw-passagedata pid="11" name="JA3B" tags="JA" position="1750,675" size="100,100">&lt;img
 src="images/JA3A.JPG"/&gt;
&lt;&lt;ctp "JA"&gt;&gt;
&lt;&lt;ja&gt;&gt;"So they finally legalized it...&lt;&lt;/ja&gt;&gt;
&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance 
"JA"&gt;&gt;&lt;&lt;/button&gt;&gt;
&lt;&lt;ctpNext&gt;&gt;
&lt;&lt;ja&gt;&gt;but the same people who got locked up for selling it 
can’t even open a dispensary now?&lt;&lt;/ja&gt;&gt;
&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance 
"JA"&gt;&gt;&lt;&lt;/button&gt;&gt;
&lt;&lt;ctpNext&gt;&gt;
&lt;&lt;ja&gt;&gt;Wild.&lt;&lt;/ja&gt;&gt;
&lt;&lt;/ctp&gt;&gt;

Weed has been legal for a few weeks now and Dave is worried about the 
increased risk. The new market is hot right now, but who knows if it 
will stay that way. He thinks you guys should shift to a safer business 
plan and franchise a fast food restaurant. You still see opportunities 
in Cannabis. You see an opportunity to invest on a corporate scale into 
the cannabis industry. Time is running out if you want to get into 
cannabis early, what do you decide?
&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Franchise in 
fast food|JA4A][$wealth +=10]]&lt;/div&gt;&lt;/div&gt;
&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Invest in 
cannabis at a corporate scale|JA3C][$wealth 
+=50]]&lt;/div&gt;&lt;/div&gt;</tw-passagedata><tw-passagedata pid="12" name="JA3C" tags="JA" position="1675,800" size="100,100">&lt;img
 src="images/JA3C.JPG"/&gt;
You've decided that you're committed to investing in the cannabis 
industry. Your dad is displeased with your decision and urges you to 
reconsider. He thinks the risk is too great in a new industry. 
&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Risk 
assesment|JA3D]]&lt;/div&gt;&lt;/div&gt;</tw-passagedata><tw-passagedata pid="13" name="JA3D" tags="JA" position="1800,800" size="100,100">&lt;img
 src="images/JA3C.JPG"/&gt;
&lt;div class="notebox"&gt;
THE DENVER POST
&lt;hr&gt;
&lt;&lt;type 60ms&gt;&gt;Black communities faced higher incarceration 
rates for cannabis, but now wealthy investors are swooping 
in.&lt;&lt;/type&gt;&gt;
&lt;hr&gt;
&lt;/div&gt;

Your dad knows now that you are committed to the cannabis industry and 
tries to form a compromise. He wants you to start small, maybe as a 
partial owner of one dispensary. You still think there is fortunes to be
 made in the new market. You want to go all-in and start your own chain 
of dispensaries. You have the capital to open multiple stores and 
compete with local dispensary prices. 
&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Small scale 
investments|JA3E][$wealth +=30]]&lt;/div&gt;&lt;/div&gt;
&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Go all-in and
 fund dispensary chain|JA3F][$wealth +=50, $sysdis 
+=5]]&lt;/div&gt;&lt;/div&gt;</tw-passagedata><tw-passagedata pid="14" name="JA3E" tags="JA" position="1700,925" size="100,100">&lt;img
 src="images/JA3E.JPG"/&gt;
&lt;&lt;ja&gt;&gt;"This industry is blowing up. I’d be stupid not to get
 in… but I gotta be careful. Politics change fast."&lt;&lt;/ja&gt;&gt;
Your dad is happy with your decision. At least now if this experiment 
fails, you can still fall back on the families real estate company. 
&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[News 
segment|JA4C]]&lt;/div&gt;&lt;/div&gt;</tw-passagedata><tw-passagedata pid="15" name="JA3F" tags="JA" position="1825,925" size="100,100">&lt;img
 src="images/JA3F.JPG"/&gt;
You take your dads advice into consideration, but you know this is worth
 the risk. You use most of the capital you have and use it to fund a 
chain of dispensaries.
&lt;&lt;ja&gt;&gt;"Money’s about timing, and I’m ahead of the curve. 
Funny how something illegal yesterday makes you rich today—if you’re the
 right kind of person."&lt;&lt;/ja&gt;&gt;
&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[News 
segment|JA4C]]&lt;/div&gt;&lt;/div&gt;</tw-passagedata><tw-passagedata pid="16" name="JA4A" tags="JA" position="1550,800" size="100,100">&lt;img
 src="images/JA4A.JPG"/&gt;
You decide to listen to your dads advice, he has successfuly ran a 
business for decades. This option avoids the risk and when your dad is 
ready to retire, you can take over the main business. Using your dads 
real estate connections you start buying buildings to turn them into 
subway restaurants. The new stores quickly start making a profit. Its 
nothing compared to what your dads business makes, but at least this is 
yours. 
&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[News 
report|JA4B]]&lt;/div&gt;&lt;/div&gt;</tw-passagedata><tw-passagedata pid="17" name="JA4B" tags="JA" position="1550,925" size="100,100">&lt;img src="images/JA4B.JPG"/&gt;
“They finally got their foot in the door, and the big guys still locked them out.”
News Report: exposé on social-equity barriers in cannabis.
Exhales. He never needed to take risks. His money worked for him. Not everyone had that luxury.
&lt;&lt;set $JAplayed to true&gt;&gt;


&lt;&lt;if $MTplayed&gt;&gt;
	&lt;&lt;if $MTprison&gt;&gt;
		&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Continue|JA5A]]&lt;/div&gt;&lt;/div&gt;
	&lt;&lt;else&gt;&gt;
		&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Continue|JA5B]]&lt;/div&gt;&lt;/div&gt;
	&lt;&lt;/if&gt;&gt;
&lt;&lt;else&gt;&gt;
	&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[The End|Character Select]]&lt;/div&gt;&lt;/div&gt;
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="18" name="JA4C" tags="JA" position="1775,1050" size="100,100">&lt;img
 src="images/JA4C.JPG"/&gt;
You see a report in the Denver Pillar and it reads: Colorado’s cannabis 
boom: From War on Drugs to Wall Street. The industry is projected to 
exceed $10 billion, but Black entrepreneurs face hurdles entering the 
space."
&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Back to 
John|JA4D]]&lt;/div&gt;&lt;/div&gt;</tw-passagedata><tw-passagedata pid="19" name="JA4D" tags="JA" position="1550,1100" size="100,100">&lt;img
 src="images/JA4D.JPG"/&gt;
You sit back on a large boat in the Chatfield Reservoir:
&lt;&lt;ctp "JA"&gt;&gt;
&lt;&lt;ja&gt;&gt;Funny. Some guys sit in a cell for selling a gram of 
this stuff.&lt;&lt;/ja&gt;&gt;
&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance 
"JA"&gt;&gt;&lt;&lt;/button&gt;&gt;
&lt;&lt;ctpNext&gt;&gt;
&lt;&lt;ja&gt;&gt;I built an empire off it…&lt;&lt;/ja&gt;&gt;
&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance 
"JA"&gt;&gt;&lt;&lt;/button&gt;&gt;
&lt;&lt;ctpNext&gt;&gt;
&lt;&lt;ja&gt;&gt;The system worked for me. Hell, it was built for 
me.&lt;&lt;/ja&gt;&gt;
(If things were fair, would he be where he is?)
&lt;&lt;/ctp&gt;&gt;
Your dad retires when you are 36 and the real estate business is passed 
down to you. Your dispensary chain is one of the biggest in Colorado 
with stores in most counties. You have enough money to retire now, hell 
you have enough money that your children will never have to work. 
&lt;&lt;set $JAplayed to true&gt;&gt;
&lt;&lt;if $MTplayed is true&gt;&gt;&lt;div class="center"&gt;&lt;div 
class="storychoice"&gt;[[Meet with 
Michael|JA5B]]&lt;/div&gt;&lt;/div&gt;&lt;&lt;else&gt;&gt;&lt;div 
class="center"&gt;&lt;div class="storychoice"&gt;[[Character 
Select]]&lt;/div&gt;&lt;/div&gt;&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="20" name="JA5A" tags="JA Crossover MT" position="1300,1000" size="100,100">&lt;img src="images/JA5A.JPG"/&gt;
You read a news article about cannabis industry expansion. A name catches your eye: Michael Thompson.
“Wait, I know him. Used to buy weed from him in 2003. Got locked up in 2003. He’s still there.”
“Ten years for possession. I made ten million off the same thing.”
&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Character Select]]&lt;/div&gt;&lt;/div&gt;</tw-passagedata><tw-passagedata pid="21" name="JA5B" tags="JA Crossover MT" position="1425,1100" size="100,100">&lt;img
 src="images/JA5B.JPG"/&gt;
our dispensary chain is holding an event and members of the industry 
across Colorado are invited. You spot Michael at the event and go up to 
talk to him. 
&lt;&lt;ctp "JAandMT"&gt;&gt;
&lt;&lt;ja&gt;&gt;Michael? Damn, man, it’s been 
years.&lt;&lt;/ja&gt;&gt;
&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance 
"JAandMT"&gt;&gt;&lt;&lt;/button&gt;&gt;
&lt;&lt;ctpNext&gt;&gt;
&lt;&lt;mt&gt;&gt;Yeah, funny how we both ended up in the same 
business.&lt;&lt;/mt&gt;&gt;
&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance 
"JAandMT"&gt;&gt;&lt;&lt;/button&gt;&gt;
&lt;&lt;ctpNext&gt;&gt;
&lt;&lt;ja&gt;&gt;Yeah, well different starting 
points.&lt;&lt;/ja&gt;&gt;
Michael doesn’t laugh.
&lt;&lt;/ctp&gt;&gt;
&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Character 
Select]]&lt;/div&gt;&lt;/div&gt;</tw-passagedata><tw-passagedata pid="22" name="JA90S" tags="JA" position="1525,300" size="100,100">&lt;div class="chapterHead"&gt;&lt;h2&gt;Social Context&lt;/h2&gt;&lt;hr&gt;&lt;h1&gt;The 1990s&lt;/h1&gt;&lt;/div&gt;
&lt;&lt;video "videos/93-GetHighGetStupidGetAIDS.mp4" controls&gt;&gt;
&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Continue|JA1A]]&lt;/div&gt;&lt;/div&gt;</tw-passagedata><tw-passagedata pid="23" name="Jamal Washington" tags="JW" position="850,500" size="100,100">&lt;&lt;set $sysdis to 50&gt;&gt;
&lt;&lt;set $legal to 30&gt;&gt;
&lt;&lt;set $wealth to 20&gt;&gt;
&lt;&lt;set $health to 70&gt;&gt;
&lt;div class="chapterHead"&gt;&lt;h2&gt;Scene 2&lt;/h2&gt;&lt;hr&gt;&lt;h1&gt;Jamal Washington&lt;/h1&gt;&lt;/div&gt;
&lt;img src="images/JW0A.JPG" alt="Jamal Washington as a young man."&gt;
&lt;div class="notebox"&gt;
!!! Bio Facts
&lt;&lt;type 60ms&gt;&gt;&lt;b&gt;Year of Birth:  &lt;/b&gt;1978&lt;&lt;/type&gt;&gt;
&lt;&lt;type 60ms&gt;&gt;&lt;b&gt;Place of Birth:  &lt;/b&gt;Ruby Hill, Denver, Colorado&lt;&lt;/type&gt;&gt;
&lt;&lt;type 60ms&gt;&gt;&lt;b&gt;Race:  &lt;/b&gt;African-American&lt;&lt;/type&gt;&gt;
&lt;&lt;type 60ms&gt;&gt;&lt;b&gt;Occupation:  &lt;/b&gt;Small Business Owner&lt;&lt;/type&gt;&gt;
&lt;&lt;type 60ms&gt;&gt;&lt;b&gt;Education:  &lt;/b&gt;High School Graduate&lt;&lt;/type&gt;&gt;
&lt;&lt;type 60ms&gt;&gt;&lt;b&gt;Income:  &lt;/b&gt;Low Income&lt;&lt;/type&gt;&gt;
&lt;/div&gt;
&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Meet Jamal|JW90S]]&lt;/div&gt;&lt;/div&gt;</tw-passagedata><tw-passagedata pid="24" name="JW00S" tags="JW" position="950,875" size="100,100">&lt;div class="chapterHead"&gt;&lt;h2&gt;Social Context&lt;/h2&gt;&lt;hr&gt;&lt;h1&gt;The 2000s&lt;/h1&gt;&lt;/div&gt;
&lt;&lt;video "videos/HugginTheBlock.mp4" controls&gt;&gt;
&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Continue|JW2A]]&lt;/div&gt;&lt;/div&gt;</tw-passagedata><tw-passagedata pid="25" name="JW00S2" tags="JW" position="700,875" size="100,100">&lt;div class="chapterHead"&gt;&lt;h2&gt;Social Context&lt;/h2&gt;&lt;hr&gt;&lt;h1&gt;The 2000s&lt;/h1&gt;&lt;/div&gt;
&lt;&lt;video "videos/HugginTheBlock.mp4" controls&gt;&gt;
&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Continue|JW2D]]&lt;/div&gt;&lt;/div&gt;</tw-passagedata><tw-passagedata pid="26" name="JW10S" tags="JW" position="775,1075" size="100,100">&lt;div class="chapterHead"&gt;&lt;h2&gt;Social Context&lt;/h2&gt;&lt;hr&gt;&lt;h1&gt;The 2000s&lt;/h1&gt;&lt;/div&gt;
&lt;&lt;video "videos/15-Achievements.mp4" controls&gt;&gt;
&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Continue|JW3A]]&lt;/div&gt;&lt;/div&gt;</tw-passagedata><tw-passagedata pid="27" name="JW1A" tags="JW" position="850,625" size="100,100">&lt;img
 src="images/JW1A.JPG"/&gt;
You just graduated High School! It starts to weigh on you the decisions 
you have to make soon. Do you go to college or get a job and make money 
for your family. You decide to talk to your grandma, she always has good
 advice. 
&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Talk with 
grandma|JW1B]]&lt;/div&gt;&lt;/div&gt;</tw-passagedata><tw-passagedata pid="28" name="JW1B" tags="JW" position="975,625" size="100,100">&lt;img
 src="images/JW1B.JPG"/&gt;
You find your grandma on the porch and just talk.
&lt;&lt;ctp "jwgmom"&gt;&gt;
&lt;&lt;jwgmom&gt;&gt;They’re building another shopping center down the 
road. Said it’ll bring in business.&lt;&lt;/jwgmom&gt;&gt;
&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance 
"jwgmom"&gt;&gt;&lt;&lt;/button&gt;&gt;
&lt;&lt;ctpNext&gt;&gt;
&lt;&lt;JW&gt;&gt;That’s good, right?&lt;&lt;/JW&gt;&gt;
&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance 
"jwgmom"&gt;&gt;&lt;&lt;/button&gt;&gt;
&lt;&lt;ctpNext&gt;&gt;
&lt;&lt;jwgmom&gt;&gt;Depends. Back when your granddaddy tried to open a
 grocery store, the bank wouldn't even let him through the 
door.&lt;&lt;/jwgmom&gt;&gt;
&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance 
"jwgmom"&gt;&gt;&lt;&lt;/button&gt;&gt;
&lt;&lt;ctpNext&gt;&gt;
&lt;&lt;jwgmom&gt;&gt;Whole block got bought up by folks who had the 
right connections.&lt;&lt;/jwgmom&gt;&gt;
&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance 
"jwgmom"&gt;&gt;&lt;&lt;/button&gt;&gt;
&lt;&lt;ctpNext&gt;&gt;
&lt;&lt;JW&gt;&gt;That was the '60s. Things changed.&lt;&lt;/JW&gt;&gt;
&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance 
"jwgmom"&gt;&gt;&lt;&lt;/button&gt;&gt;
&lt;&lt;ctpNext&gt;&gt;
She looks up at you, shaking her head.
&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance 
"jwgmom"&gt;&gt;&lt;&lt;/button&gt;&gt;
&lt;&lt;ctpNext&gt;&gt;
&lt;&lt;jwgmom&gt;&gt;Did they?&lt;&lt;/jwgmom&gt;&gt;
&lt;&lt;/ctp&gt;&gt;
Your left with two choices now. Do you go to college and get a degree or
 open up your small business?
&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Get a 
Job|JW1C][$sysdis +=10, $wealth -=10]]&lt;/div&gt;&lt;/div&gt;
&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Pursue higher
 education|JW1D][$sysdis +=5, $wealth +=10]]&lt;/div&gt;&lt;/div&gt;</tw-passagedata><tw-passagedata pid="29" name="JW1C" tags="JW" position="850,750" size="100,100">&lt;img
 src="images/JW1C.JPG" alt="."&gt;

You start work at the smoke shop that opened in the new shopping center.
 Selling pipes to rich college kids isn't the most fun but the paycheck 
helps your mom so its worth it.

After medical marijuana gets legalized in Colorado you get a job at new 
dispensary. You work hard but realize it doesnt matter, the boss will 
never see you how he sees your white co-workers. 

&lt;div class="center"&gt;&lt;div 
class="storychoice"&gt;[[Continue|JW00S2]]&lt;/div&gt;&lt;/div&gt;</tw-passagedata><tw-passagedata pid="30" name="JW1D" tags="JW" position="1050,750" size="100,100">&lt;img
 src="images/JW1D.JPG" alt="."&gt;

You finish up your degree in finance and apply for jobs based in policy 
making. You know thats the real way a difference is gonna be made about 
poverty in your communities. 
 
On top of that your student loan debt repayments start soon.
&lt;div class="center"&gt;&lt;div 
class="storychoice"&gt;[[Continue|JW00S]]&lt;/div&gt;&lt;/div&gt;</tw-passagedata><tw-passagedata pid="31" name="JW20S" tags="JW" position="1075,1450" size="100,100">&lt;div class="chapterHead"&gt;&lt;h2&gt;Social Context&lt;/h2&gt;&lt;hr&gt;&lt;h1&gt;The 2020s&lt;/h1&gt;&lt;/div&gt;
&lt;&lt;video "videos/SaturdayNight.mp4" controls&gt;&gt;
&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Continue|JW4A]]&lt;/div&gt;&lt;/div&gt;</tw-passagedata><tw-passagedata pid="32" name="JW2A" tags="JW" position="1075,875" size="100,100">&lt;img
 src="images/JW2A.JPG" alt="."&gt;

You got the job! You get to help write policies for local small 
business' now. You quickly realize your not gonna be able to make the 
difference that you thought. The policies aren't designed to help people
 in your communities.
&lt;div class="center"&gt;&lt;div 
class="storychoice"&gt;[[Continue|JW2B]]&lt;/div&gt;&lt;/div&gt;</tw-passagedata><tw-passagedata pid="33" name="JW2B" tags="JW" position="1050,1000" size="100,100">&lt;img
 src="images/JW2B.JPG" alt="."&gt;
You review small business loan approvals in 2008 and sees how the 
funding is being distribute, and sometings not right. 

&lt;&lt;jw&gt;&gt;How come every time I push for an equity loan, it gets
 denied, but John’s expansion gets rubber-stamped?&lt;&lt;/jw&gt;&gt;
&lt;div class="center"&gt;&lt;div 
class="storychoice"&gt;[[Continue|JW2C]]&lt;/div&gt;&lt;/div&gt;</tw-passagedata><tw-passagedata pid="34" name="JW2C" tags="JW" position="1050,1125" size="100,100">&lt;img
 src="images/JW2C.JPG" alt="."&gt;
&lt;&lt;ctp "JW"&gt;&gt;
&lt;&lt;jw&gt;&gt;I fought to get these loan programs expanded, but it’s
 the same old game.&lt;&lt;/jw&gt;&gt;
&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance 
"JW"&gt;&gt;&lt;&lt;/button&gt;&gt;
&lt;&lt;ctpNext&gt;&gt;
&lt;&lt;jw&gt;&gt;Wealthy applicants have the collateral, the 
connections, and the trust.&lt;&lt;/jw&gt;&gt;
&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance 
"JW"&gt;&gt;&lt;&lt;/button&gt;&gt;
&lt;&lt;ctpNext&gt;&gt;
&lt;&lt;jw&gt;&gt;Meanwhile, Black-owned businesses account for less 
than 3% of approvals.&lt;&lt;/jw&gt;&gt;
&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance 
"JW"&gt;&gt;&lt;&lt;/button&gt;&gt;
&lt;&lt;ctpNext&gt;&gt;
&lt;&lt;jw&gt;&gt;And here I am, fighting for scraps. What is the point 
of all this?&lt;&lt;/jw&gt;&gt;
&lt;&lt;/ctp&gt;&gt;

You're left with a decision now. Do you stay working in government 
fighting for change or quit and open your own dispensary?
&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Stay in 
government and keep pushing for change|JW2E]]&lt;/div&gt;&lt;/div&gt;
&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Quit and open
 your own dispensary|JW10S]]&lt;/div&gt;&lt;/div&gt;</tw-passagedata><tw-passagedata pid="35" name="JW2D" tags="JW" position="825,875" size="100,100">&lt;img
 src="images/JW2D.JPG" alt="."&gt;

You get a job at a medical dispensary after medical marijuana gets 
legalized. The owner only comes into the store between trips to 
different ski resorts. 

You try to get a liscense for yourself to no avail, even legalization 
doesnt mean equal access. 

Your stuck with a decision now, do you keep working for others or take a
 high interest loan to start your own medical dispensary.
&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Keep working 
for others|JW2F]]&lt;/div&gt;&lt;/div&gt;
&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Take a risky 
high-interest loan to start your 
business|JW10S]]&lt;/div&gt;&lt;/div&gt;</tw-passagedata><tw-passagedata pid="36" name="JW2E" tags="JW" position="1050,1250" size="100,100">&lt;img src="images/JW2E.JPG" alt="."&gt;
&lt;&lt;jw&gt;&gt;If I leave now, nothing changes. Maybe I can fix this.&lt;&lt;/jw&gt;&gt;
You push for stronger lending programs but most reforms end up watered down.
New leadership comes in and priorities change, fast. Its all about tax cuts now and helping the corportate entities.
After years of hitting bureaucratic walls, you can't take it anymore and decide its time.
&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Continue|JW10S]]&lt;/div&gt;&lt;/div&gt;</tw-passagedata><tw-passagedata pid="37" name="JW2F" tags="JW" position="925,1000" size="100,100">&lt;img
 src="images/JW2F.JPG" alt="."&gt;
&lt;&lt;jw&gt;&gt;The owner makes millions. I make minimum 
wage...&lt;&lt;/jw&gt;&gt;

You stay strong and keep working hard for another couple of years.  
Pretty soon the discrepancies get to you. The owners of the business 
don't even have to work but still take home all the profit. Deep down 
you know, there's no future for you here. Maybe its time for a change?
&lt;div class="center"&gt;&lt;div 
class="storychoice"&gt;[[Continue|JW10S]]&lt;/div&gt;&lt;/div&gt;</tw-passagedata><tw-passagedata pid="38" name="JW3A" tags="JW" position="825,1200" size="100,100">&lt;img
 src="images/JW3A.JPG" alt="."&gt;

 You decide to finally open the dispensary you have been waiting to 
open. Its near impossible to get a fair loan, even with all the work you
 did. You have to settle for interest payments that are higher then you 
wanted but in combination with your savings, you're able to open. 
 
 Opening and the months that passed after go well, and the business is 
doing good. Local media even comes and does a feature on the store and 
interviews you. The story gets released as "Black entrepreneur breaking 
barriers."
&lt;div class="center"&gt;&lt;div 
class="storychoice"&gt;[[Continue|JW3B]]&lt;/div&gt;&lt;/div&gt;</tw-passagedata><tw-passagedata pid="39" name="JW3B" tags="JW" position="825,1325" size="100,100">&lt;img
 src="images/JW3B.JPG" alt="."&gt;
&lt;&lt;jw&gt;&gt;I did it. I beat the system. Didn’t 
I?&lt;&lt;/jw&gt;&gt;

With the business doing well corporate investors have reached out, 
looking to invest in your dispensary. Do you take their money to help 
with the loans but lose some control of the business? Or do you stay 
independent and ride the success of the beginning months of your new 
business. 
&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Expand with 
an investor buyout|JW3C]]&lt;/div&gt;&lt;/div&gt;
&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Stay 
independent|JW3D]]&lt;/div&gt;&lt;/div&gt;</tw-passagedata><tw-passagedata pid="40" name="JW3C" tags="JW" position="825,1450" size="100,100">&lt;img
 src="images/JW3C.JPG" alt="."&gt;
You sell part of your business to investors, the loans don't look as bad
 anymore but now your not the only one making decisions. 

&lt;&lt;jw&gt;&gt;It’s still my business, right?&lt;&lt;/jw&gt;&gt;
You watch over the years as your dispensary expands, but decisions are 
made without your input. 
By 2020, corporate takeovers accelerate. The investors sell the company 
to a larger cannabis chain.
&lt;&lt;jw&gt;&gt;I built this from the ground up. And now it’s just 
another storefront to them.&lt;&lt;/jw&gt;&gt;
The investors get tired of you pushing for business practices that help 
the community and the board pushes you out of the business with a 
severance package. 
&lt;div class="center"&gt;&lt;div 
class="storychoice"&gt;[[Continue|JW5A]]&lt;/div&gt;&lt;/div&gt;</tw-passagedata><tw-passagedata pid="41" name="JW3D" tags="JW" position="950,1450" size="100,100">&lt;img
 src="images/JW3D.JPG" alt="."&gt;


&lt;&lt;jw&gt;&gt;This is mine. No way I’m giving it 
up.&lt;&lt;/jw&gt;&gt;
No way you're gonna sell now, not after all this work you've put in. 
After the initial success wears off, the store begins to struggle. The 
loan repayments start to catch up and the interest keeps the principal 
high. Corporate dispensaries lower prices to drive competition out, they
 can afford to not profit now. By 2020 you are barely breaking even at 
the dispensary. Something has to change. 
&lt;div class="center"&gt;&lt;div 
class="storychoice"&gt;[[Continue|JW20S]]&lt;/div&gt;&lt;/div&gt;</tw-passagedata><tw-passagedata pid="42" name="JW4A" tags="JW" position="950,1575" size="100,100">&lt;img
 src="images/JW4A.JPG" alt="."&gt;
The COVID-19 pandemic hits and soon business starts to slow down. 
Corporate dispensaries have the deep pockets of their owners and get 
relief loans. Your stuck wondering how much longer you can stay open.
&lt;div class="center"&gt;&lt;div 
class="storychoice"&gt;[[Continue|JW4B]]&lt;/div&gt;&lt;/div&gt;</tw-passagedata><tw-passagedata pid="43" name="JW4B" tags="JW" position="950,1700" size="100,100">&lt;img
 src="images/JW4B.JPG" alt="."&gt;
&lt;&lt;jw&gt;&gt;"I need the money, but I know this is a trap. They’d 
never pull this with a guy like John."&lt;&lt;/jw&gt;&gt;

Your almost out of money but there is a few more chances for revenue. 
Colorado opened up online pickup and delivery for cannabis products 
during the pandemic, but the protocols are tight. Your not sure you are 
gonna get approved. Do you try for new streams of revenue or take on 
relief loans?
&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Take on 
relief loans|JW5A]]&lt;/div&gt;&lt;/div&gt;
&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Try 
alternative revenue streams|JW5B]]&lt;/div&gt;&lt;/div&gt;</tw-passagedata><tw-passagedata pid="44" name="JW5A" tags="JW" position="775,1700" size="100,100">&lt;img
 src="images/JW5A.JPG" alt="."&gt;

&lt;&lt;jw&gt;&gt;I've worked hard my whole life and this is how I am 
rewarded? I can't start over again, how am I going to help my 
mom?&lt;&lt;/jw&gt;&gt;

You get invited to your old co-workers retirement party. He's 6 years 
younger then you and already retiring, but you still have a long road 
ahead. 
&lt;div class="storychoice"&gt;[[The End|Character Select]]&lt;div 
class="center"&gt; wrapper&lt;/div&gt;&lt;/div&gt;</tw-passagedata><tw-passagedata pid="45" name="JW5B" tags="JW" position="1175,1625" size="100,100">&lt;img
 src="images/gildedgreen.jpg" alt="."&gt;
Getting approved for online orders and delivery is hard and time 
consuming, but you finallly get approved. By the time you get approved, a
 new corporate dispensary opens, offering deals and discounts that you 
know aren't making them money.
&lt;&lt;ctp "JW"&gt;&gt;
&lt;&lt;jw&gt;&gt;"I worked hard. Followed the rules.&lt;&lt;/jw&gt;&gt;
&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance 
"JW"&gt;&gt;&lt;&lt;/button&gt;&gt;
&lt;&lt;ctpNext&gt;&gt;
&lt;&lt;jw&gt;&gt;And I’m still one bad month away from losing 
everything.&lt;&lt;/jw&gt;&gt;
&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance 
"JW"&gt;&gt;&lt;&lt;/button&gt;&gt;
&lt;&lt;ctpNext&gt;&gt;
&lt;&lt;jw&gt;&gt;Tell me again how things are fair and 
equitable?&lt;&lt;/jw&gt;&gt;
&lt;&lt;/ctp&gt;&gt;
&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[The 
End|Character Select]] &lt;/div&gt;&lt;/div&gt;</tw-passagedata><tw-passagedata pid="46" name="JW90S" tags="JW" position="975,500" size="100,100">&lt;div class="chapterHead"&gt;&lt;h2&gt;Social Context&lt;/h2&gt;&lt;hr&gt;&lt;h1&gt;The 1990s&lt;/h1&gt;&lt;/div&gt;
&lt;&lt;video "videos/Responsibility.mp4" controls&gt;&gt;
&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Continue|JW1A]]&lt;/div&gt;&lt;/div&gt;</tw-passagedata><tw-passagedata pid="47" name="Michael Thompson" tags="MT" position="225,300" size="100,100">&lt;&lt;set
 $sysdis to 50&gt;&gt;
&lt;&lt;set $legal to 30&gt;&gt;
&lt;&lt;set $wealth to 20&gt;&gt;
&lt;&lt;set $health to 70&gt;&gt;
&lt;div class="chapterHead"&gt;&lt;h2&gt;Scene 
1&lt;/h2&gt;&lt;hr&gt;&lt;h1&gt;Michael Thompson&lt;/h1&gt;&lt;/div&gt;
&lt;img src="images/MT0A.JPG" alt="Michael Thompson as a young man."&gt;
&lt;div class="notebox"&gt;
!!! Bio Facts
&lt;&lt;type 60ms&gt;&gt;&lt;b&gt;Year of Birth:  
&lt;/b&gt;1965&lt;&lt;/type&gt;&gt;
&lt;&lt;type 60ms&gt;&gt;&lt;b&gt;Place of Birth:  &lt;/b&gt;Athmar 
Park, Denver, Colorado&lt;&lt;/type&gt;&gt;
&lt;&lt;type 60ms&gt;&gt;&lt;b&gt;Race:  
&lt;/b&gt;African-American&lt;&lt;/type&gt;&gt;
&lt;&lt;type 60ms&gt;&gt;&lt;b&gt;Occupation:  &lt;/b&gt;Factory 
Worker&lt;&lt;/type&gt;&gt;
&lt;&lt;type 60ms&gt;&gt;&lt;b&gt;Education:  &lt;/b&gt;High School 
Graduate&lt;&lt;/type&gt;&gt;
&lt;&lt;type 60ms&gt;&gt;&lt;b&gt;Income:  &lt;/b&gt;Low 
Income&lt;&lt;/type&gt;&gt;
&lt;/div&gt;
&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[You start by 
graduating high school, so big choices are just 
ahead.|MT80S]]&lt;/div&gt;&lt;/div&gt;</tw-passagedata><tw-passagedata pid="48" name="MT00S" tags="MT" position="375,550" size="100,100">&lt;div class="chapterHead"&gt;&lt;h2&gt;Social Context&lt;/h2&gt;&lt;hr&gt;&lt;h1&gt;The 2000s&lt;/h1&gt;&lt;/div&gt;
&lt;&lt;video "videos/07-MyFriendsSmokeWeed.mp4" controls&gt;&gt;
&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Continue|MT3A]]&lt;/div&gt;&lt;/div&gt;</tw-passagedata><tw-passagedata pid="49" name="MT1A" tags="MT" position="0,425" size="100,100">&lt;img
 src="images/MT1A.JPG"/&gt;
You finish high school in the early 1980s and begin to look for work. 
There are lots of factory jobs available but the pay isn't great and no 
one looks happy when they leave. You could also try to open the food 
truck you have been dreaming of opening your whole life. You don't have 
the money so you would need a loan to start, and its well known that its
 hard to get loan. Do you take a factory job or start your side 
business?
&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Take a 
low-wage factory job|MT90S][$sysdis +=5, $wealth 
-=10]]&lt;/div&gt;&lt;/div&gt;
&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Start a small
 side business|MT90S][$sysdis +=10, $wealth 
-=10]]&lt;/div&gt;&lt;/div&gt;</tw-passagedata><tw-passagedata pid="50" name="MT20S" tags="MT" position="300,700" size="100,100">&lt;div class="chapterHead"&gt;&lt;h2&gt;Social Context&lt;/h2&gt;&lt;hr&gt;&lt;h1&gt;The 2020s&lt;/h1&gt;&lt;/div&gt;
&lt;&lt;video "videos/10-Diner.mp4" controls&gt;&gt;
&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Continue|MT5A]]&lt;/div&gt;&lt;/div&gt;</tw-passagedata><tw-passagedata pid="51" name="MT2A" tags="MT" position="250,425" size="100,100">&lt;img
 src="images/MT2A.JPG"/&gt;
Many people in your neighborhood have been getting arrested for minor 
cannabis offenses. You see your brother, Malik, outside the corner 
store.
&lt;&lt;ctp "MTandMTbro"&gt;&gt;
&lt;&lt;mt&gt;&gt;Stay in school, man.&lt;&lt;/mt&gt;&gt;
&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance 
"MTandMTbro"&gt;&gt;&lt;&lt;/button&gt;&gt;
&lt;&lt;ctpNext&gt;&gt;
&lt;&lt;mtbro&gt;&gt;Yeah, yeah, I will&amp;hellip;but Jason’s brother 
just got locked up for some weed. What’s the 
point?&lt;&lt;/mtbro&gt;&gt;
&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance 
"MTandMTbro"&gt;&gt;&lt;&lt;/button&gt;&gt;
&lt;&lt;ctpNext&gt;&gt;
You shake your head, but you know Malik's got a point.
&lt;&lt;/ctp&gt;&gt;
&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Just then, 
you overhear a news report on the 
radio...|MT2B]]&lt;/div&gt;&lt;/div&gt;</tw-passagedata><tw-passagedata pid="52" name="MT2B" tags="MT" position="125,550" size="100,100">&lt;img
 src="images/radio.JPG"/&gt;
You overhear a radio report:
&lt;&lt;ctp "radio"&gt;&gt;
&lt;&lt;radio&gt;&gt;Under the 1986 Anti-Drug Abuse 
Act,&lt;&lt;/radio&gt;&gt;
&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance 
"radio"&gt;&gt;&lt;&lt;/button&gt;&gt;
&lt;&lt;ctpNext&gt;&gt;
&lt;&lt;radio&gt;&gt;mandatory minimum sentences mean minor drug 
offenses could land you in prison for years.&lt;&lt;/radio&gt;&gt;
&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance 
"radio"&gt;&gt;&lt;&lt;/button&gt;&gt;
&lt;&lt;ctpNext&gt;&gt;
&lt;&lt;radio&gt;&gt;Critics argue this disproportionately impacts Black
 communities.&lt;&lt;/radio&gt;&gt;
&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance 
"radio"&gt;&gt;&lt;&lt;/button&gt;&gt;
&lt;&lt;ctpNext&gt;&gt;
After thinking for a minute, you shake your head&amp;hellip;
&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance 
"radio"&gt;&gt;&lt;&lt;/button&gt;&gt;
&lt;&lt;ctpNext&gt;&gt;
&lt;&lt;mt&gt;&gt;I'm not selling, so I'm 
fine&amp;hellip;right??&lt;&lt;/mt&gt;&gt;
&lt;&lt;/ctp&gt;&gt;
What do you do? Do you avoid cannabis entirely, only use casually, or 
start smoking regularly?
&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Avoid 
cannabis use entirely|MT2C][$wealth -=5]]&lt;/div&gt;&lt;/div&gt;
&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Casual 
use|MT2D][$legal +=10, $sysdis +=5,$MTprison to 
true]]&lt;/div&gt;&lt;/div&gt;
&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Association 
with users|MT2E][$legal +=10, $sysdis +=5,$MTprison to 
true]]&lt;/div&gt;&lt;/div&gt;</tw-passagedata><tw-passagedata pid="53" name="MT2C" tags="MT" position="50,700" size="100,100">You
 decide to avoid cannabis use entirely. You know its not worth the risk 
but its hard to go watch your friends use while you are avoiding. 
&lt;&lt;mt&gt;&gt;“Man, I’m not risking my future over this…but damn, 
same thing John’s rich friends do all the time and nobody 
cares."&lt;&lt;/mt&gt;&gt;
&lt;div class="center"&gt;&lt;div 
class="storychoice"&gt;[[Continue|MT4A]]&lt;/div&gt;&lt;/div&gt;</tw-passagedata><tw-passagedata pid="54" name="MT2D" tags="MT" position="175,700" size="100,100">&lt;img
 src="images/MT2D.JPG"/&gt;
As you talk with your brother outside the corner store, your friend 
passes you a joint.
&lt;&lt;ctp "MTandMTbro"&gt;&gt;
&lt;&lt;mt&gt;&gt;What’s the worst that could happen? It’s just a little
 weed…cops got bigger problems, right?&lt;&lt;/mt&gt;&gt;
&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance 
"MTandMTbro"&gt;&gt;&lt;&lt;/button&gt;&gt;
&lt;&lt;ctpNext&gt;&gt;
&lt;&lt;mtbro&gt;&gt;You said this stuff was 
stupid.&lt;&lt;/mtbro&gt;&gt;
&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance 
"MTandMTbro"&gt;&gt;&lt;&lt;/button&gt;&gt;
&lt;&lt;ctpNext&gt;&gt;
&lt;&lt;mt&gt;&gt;I don’t make the rules, man.&lt;&lt;/mt&gt;&gt;
&lt;&lt;/ctp&gt;&gt;
&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[The cops show
 up|MT2E]]&lt;/div&gt;&lt;/div&gt;</tw-passagedata><tw-passagedata pid="55" name="MT2E" tags="MT" position="250,550" size="100,100">&lt;img
 src="images/MT3A.JPG"/&gt;
The cops show up and you know you are screwed now. They caught you red 
handed with the joint in your hand. The cops arrest you and take you to 
jail. You can hear your moms distress when you call her from the 
jailhouse phone. Its too late for visitors now, you'll have to spend the
 night in jail before you can see your mom. She visits the next day:
&lt;&lt;ctp "MTandMTmom"&gt;&gt;
&lt;&lt;mt&gt;&gt;I just don't know how this 
happened.&lt;&lt;/mt&gt;&gt;
&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance 
"MTandMTmom"&gt;&gt;&lt;&lt;/button&gt;&gt;
&lt;&lt;ctpNext&gt;&gt;
&lt;&lt;mtmom&gt;&gt;Don't matter. I worked two jobs to keep you boys 
safe. Now…look at you.&lt;&lt;/mtmom&gt;&gt;
&lt;&lt;/ctp&gt;&gt;
&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[You had a 
good lawyer|MT20S]]&lt;/div&gt;&lt;/div&gt;
&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Wrong place, 
wrong time|MT00S]]&lt;/div&gt;&lt;/div&gt;</tw-passagedata><tw-passagedata pid="56" name="MT3A" tags="MT" position="500,825" size="100,100">&lt;img
 src="images/MT3B.JPG"/&gt;
You present yourself in the courtroom for sentencing.

&lt;&lt;ctp "MTandMTjudge"&gt;&gt;


&lt;&lt;mtjudge&gt;&gt;Under federal law, I have no discretion 
here.&lt;&lt;/mtjudge&gt;&gt;
&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance 
"MTandMTjudge"&gt;&gt;&lt;&lt;/button&gt;&gt;
&lt;&lt;ctpNext&gt;&gt;
&lt;&lt;mtjudge&gt;&gt;The sentence is set at 10 years regardless of 
circumstances.&lt;&lt;/mtjudge&gt;&gt;
&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance 
"MTandMTjudge"&gt;&gt;&lt;&lt;/button&gt;&gt;
&lt;&lt;ctpNext&gt;&gt;
Your mom stares blankly.
&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance 
"MTandMTjudge"&gt;&gt;&lt;&lt;/button&gt;&gt;
&lt;&lt;ctpNext&gt;&gt;
Your public defender doesn’t make eye contact.
&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance 
"MTandMTjudge"&gt;&gt;&lt;&lt;/button&gt;&gt;
&lt;&lt;ctpNext&gt;&gt;
You think to yourself...
&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance 
"MTandMTjudge"&gt;&gt;&lt;&lt;/button&gt;&gt;
&lt;&lt;ctpNext&gt;&gt;
&lt;&lt;mt&gt;&gt;Ten years? Ten damn years? There's no 
way…&lt;&lt;/mt&gt;&gt;
&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance 
"MTandMTjudge"&gt;&gt;&lt;&lt;/button&gt;&gt;
&lt;&lt;ctpNext&gt;&gt;
&lt;&lt;mt&gt;&gt;but I see the look on my lawyer’s face. This was 
decided before I even walked in.”&lt;&lt;/mt&gt;&gt;
&lt;&lt;/ctp&gt;&gt;
&lt;&lt;if $JWplayed is true&gt;&gt;
&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[MT6A][$wealth
 -=50, %health -=40, $sysdis +=20]]&lt;/div&gt;&lt;/div&gt;
&lt;&lt;else&gt;&gt;&lt;div class="center"&gt;&lt;div 
class="storychoice"&gt;[[MT5F][$wealth -=50, %health -=40, $sysdis 
+=20]]&lt;/div&gt;&lt;/div&gt;
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="57" name="MT4A" tags="MT" position="50,825" size="100,100">&lt;img
 src="images/MT4A.JPG"/&gt;
Social-equity business licenses become available for the cannabis 
industry following its legalization. Prior offenders face harder 
restrictions and decreased access to resources. Do you apply for a 
social-equity license to start a dispensary? Or keep working in facrtoy 
jobs?
&lt;&lt;if $MTprison is true&gt;&gt;&lt;div class="center"&gt;&lt;div 
class="storychoice"&gt;[[Continue|MT5A]]&lt;/div&gt;&lt;/
div&gt;&lt;&lt;else&gt;&gt;&lt;div class="center"&gt;&lt;div 
class="storychoice"&gt;[[Apply for a social-equity business liscense to 
open a dispensary|MT5B]]&lt;/div&gt;&lt;/div&gt;&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="58" name="MT5A" tags="MT" position="300,825" size="100,100">&lt;img src="images/MT5A.JPG"/&gt;
You continue to work in factory jobs but still struggle with the low income and not being able to make more money. 
&lt;&lt;set $MTplayed to true&gt;&gt;
&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Character Select]]&lt;/div&gt;&lt;/div&gt;</tw-passagedata><tw-passagedata pid="59" name="MT5B" tags="MT" position="0,950" size="100,100">&lt;img
 src="images/MT5B.JPG"/&gt;
After jumping through countless hoops, your application for a business 
license gets approved. You become a cannabis business owner due to 
social-equity programs.
&lt;&lt;if $JWplayed&gt;&gt;&lt;div class="center"&gt;&lt;div 
class="storychoice"&gt;[[MT6E]]&lt;/div&gt;&lt;/
div&gt;&lt;&lt;else&gt;&gt;&lt;div class="center"&gt;&lt;div 
class="storychoice"&gt;[[MT5C]]&lt;/div&gt;&lt;/div&gt;&lt;&lt;/if&gt;</tw-passagedata><tw-passagedata pid="60" name="MT5C" tags="MT" position="125,950" size="100,100">&lt;img src="images/MT5C.JPG"/&gt;
&lt;&lt;mt&gt;&gt;“I made it, but how many others like me never got the chance?”&lt;&lt;/mt&gt;
&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[MT5D]]&lt;/div&gt;&lt;/div&gt;</tw-passagedata><tw-passagedata pid="61" name="MT5D" tags="MT" position="250,950" size="100,100">&lt;img src="images/MT5D.JPG"/&gt;
&lt;&lt;mt&gt;&gt;“Malik wanted to start a business, too…until the system swallowed him whole.”&lt;&lt;/mt&gt;&gt;
&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[MT5E]]&lt;/div&gt;&lt;/div&gt;</tw-passagedata><tw-passagedata pid="62" name="MT5E" tags="MT" position="375,950" size="100,100">&lt;img
 src="images/MT5C.JPG"/&gt;
&lt;&lt;mt&gt;&gt;They said social equity would fix this, but if the 
system never broke us in the first place, we wouldn’t need ‘equity’ to 
begin with.”&lt;&lt;/mt&gt;&gt;
&lt;&lt;set$MTplayed to true&gt;&gt;
&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Character 
Select]]&lt;/div&gt;&lt;/div&gt;</tw-passagedata><tw-passagedata pid="63" name="MT5F" tags="MT" position="400,1200" size="100,100">&lt;img
 src="images/MT6B.JPG"/&gt;
&lt;&lt;ctp "MT"&gt;&gt;
&lt;&lt;mt&gt;&gt;They legalized it.&lt;&lt;/mt&gt;&gt;
&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance 
"MT"&gt;&gt;&lt;&lt;/button&gt;&gt;
&lt;&lt;ctpNext&gt;&gt;
&lt;&lt;mt&gt;&gt;Same thing that got me locked up…white kids are making
 millions off it now&lt;&lt;/mt&gt;&gt;
&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance 
"MT"&gt;&gt;&lt;&lt;/button&gt;&gt;
&lt;&lt;ctpNext&gt;&gt;
&lt;&lt;mt&gt;&gt;If I’d been born in a different zip 
code…&lt;&lt;/mt&gt;&gt;
&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance 
"MT"&gt;&gt;&lt;&lt;/button&gt;&gt;
&lt;&lt;ctpNext&gt;&gt;
&lt;&lt;mt&gt;&gt;If my skin were a little lighter…would I be at some 
investor’s table right now instead of here?”&lt;&lt;/mt&gt;&gt;
&lt;&lt;/ctp&gt;&gt;
&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Continue 
living in prison|MT5G]]&lt;/div&gt;&lt;/div&gt;</tw-passagedata><tw-passagedata pid="64" name="MT5G" tags="MT" position="575,1200" size="100,100">&lt;img
 src="images/MT5G.JPG"/&gt;
The years tick pass on your prison sentence, slowly but surely. You know
 your not getting out for a long time. Eventually you start to grow old 
in prison and know that you might die here one day. 

After a long prison sentence, Michael dies in prison.
&lt;&lt;Set $MTplayed to true&gt;&gt;
&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Character 
Select]]&lt;/div&gt;&lt;/div&gt;</tw-passagedata><tw-passagedata pid="65" name="MT6A" tags="MT Crossover JW" position="475,1075" size="100,100">You
 have been living in prison for a while now. The guards tell you that 
you have a new visitor, something that doesnt happen very often. The 
guards take you to the visitor center and you see your old friend, Jamal
 Washington. 
&lt;&lt;ctp "MTandJW"&gt;&gt;
 &lt;&lt;jw&gt;&gt;"Man. You remember when we used to talk about opening
 a shop together?&lt;&lt;/jw&gt;&gt;
 &lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance 
"MTandJW"&gt;&gt;&lt;&lt;/button&gt;&gt;
&lt;&lt;ctpNext&gt;&gt;
&lt;&lt;mt&gt;&gt;Yeah, before they decided I didn’t deserve a second 
chance.&lt;&lt;/mt&gt;&gt;
 &lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance 
"MTandJW"&gt;&gt;&lt;&lt;/button&gt;&gt;
&lt;&lt;ctpNext&gt;&gt;
&lt;&lt;jw&gt;&gt;They legalized it. You should be 
out.&lt;&lt;/jw&gt;&gt;
 &lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance 
"MTandJW"&gt;&gt;&lt;&lt;/button&gt;&gt;
&lt;&lt;ctpNext&gt;&gt;
&lt;&lt;mt&gt;&gt;Should. But ain’t nobody rushing to undo what they did
 to us.&lt;&lt;/mt&gt;&gt;
&lt;div class="center"&gt;&lt;div 
class="storychoice"&gt;[[MT5F]]&lt;/div&gt;&lt;/div&gt;</tw-passagedata><tw-passagedata pid="66" name="MT6E" tags="MT Crossover JW" position="275,1200" size="100,100">&lt;img
 src="images/MT5B.JPG"/&gt;
Your new dispensary has been running for a while with mild success. It's
 not an easy living but the business is staying afloat. One day when you
 are working the counter, you get a visit from an old friend, Jamal 
Washington. 
&lt;&lt;ctp "MTandJW"&gt;&gt;
&lt;&lt;jw&gt;&gt;Jamal: Man, you really did it&lt;&lt;/jw&gt;&gt;
&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance 
"MTandJW"&gt;&gt;&lt;&lt;/button&gt;&gt;
&lt;&lt;ctpNext&gt;&gt;
&lt;&lt;mt&gt;&gt;Barely. They ain’t make it easy.&lt;&lt;/mt&gt;&gt;
&lt;&lt;button "Next"&gt;&gt;&lt;&lt;ctpAdvance 
"MTandJW"&gt;&gt;&lt;&lt;/button&gt;&gt;
&lt;&lt;ctpNext&gt;&gt;
&lt;&lt;jw&gt;&gt;Tell me about it…&lt;&lt;/jw&gt;&gt;
(his own shop struggles across town, competing against big 
corporations.)
&lt;&lt;/ctp&gt;&gt;
&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Character 
Select]]&lt;/div&gt;&lt;/div&gt;</tw-passagedata><tw-passagedata pid="67" name="MT80S" tags="MT" position="100,300" size="100,100">&lt;div class="chapterHead"&gt;&lt;h2&gt;Social Context&lt;/h2&gt;&lt;hr&gt;&lt;h1&gt;The 1980s&lt;/h1&gt;&lt;/div&gt;
&lt;&lt;video "videos/89-Snake.mp4" controls&gt;&gt;
&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Continue|MT1A]]&lt;/div&gt;&lt;/div&gt;</tw-passagedata><tw-passagedata pid="68" name="MT90S" tags="MT" position="125,425" size="100,100">&lt;div class="chapterHead"&gt;&lt;h2&gt;Social Context&lt;/h2&gt;&lt;hr&gt;&lt;h1&gt;The 1990s&lt;/h1&gt;&lt;/div&gt;
&lt;&lt;video "videos/90-StraightUp.mp4" controls&gt;&gt;
&lt;div class="center"&gt;&lt;div class="storychoice"&gt;[[Continue|MT2A]]&lt;/div&gt;&lt;/div&gt;</tw-passagedata><tw-passagedata pid="69" name="StoryInit" tags="Special-Passage" position="100,100" size="100,100">&lt;&lt;set $sysdis to 0&gt;&gt;
&lt;&lt;set $legal to 0&gt;&gt;
&lt;&lt;set $wealth to 0&gt;&gt;
&lt;&lt;set $health to 0&gt;&gt;
&lt;&lt;set $MTprison to false&gt;&gt;
&lt;&lt;set $MTplayed to false&gt;&gt;
&lt;&lt;set $JAplayed to false&gt;&gt;
&lt;&lt;set $JWplayed to false&gt;&gt;

&lt;&lt;character 'mtmom' 'Mom' 'images/MTmom.JPG'&gt;&gt;
&lt;&lt;character 'mtbro' 'Malik' 'images/MTbro.JPG'&gt;&gt;
&lt;&lt;character 'mtjudge' 'Judge' 'images/MTjudge.JPG'&gt;&gt;
&lt;&lt;character 'mt' 'Michael' 'images/MT.JPG'&gt;&gt;
&lt;&lt;character 'jw' 'Jamal' 'images/JW.JPG'&gt;&gt;
&lt;&lt;character 'ja' 'John' 'images/JA.JPG'&gt;&gt;
&lt;&lt;character 'jadad' 'Dad' 'images/JAdad.JPG'&gt;&gt;
&lt;&lt;character 'jwmom' 'Mom' 'images/JWmom.JPG'&gt;&gt;
&lt;&lt;character 'jwgmom' 'Grandmom' 'images/jwgmom.JPG'&gt;&gt;
&lt;&lt;character 'jafriend' 'Partner' 'images/JAfriend.JPG'&gt;&gt;
&lt;&lt;character 'radio' 'KGNU' 'images/radio.jpg'&gt;&gt;</tw-passagedata></tw-storydata> <script type="text/javascript"> !function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(e.document)return t(e);throw new Error("jQuery requires a window with a document")}:t(e)}("undefined"!=typeof window?window:this,function(C,O){"use strict";function v(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item}function g(e){return null!=e&&e===e.window}var t=[],I=Object.getPrototypeOf,s=t.slice,P=t.flat?function(e){return t.flat.call(e)}:function(e){return t.concat.apply([],e)},q=t.push,F=t.indexOf,B={},W=B.toString,z=B.hasOwnProperty,_=z.toString,U=_.call(Object),m={},T=C.document,J={type:!0,src:!0,nonce:!0,noModule:!0};function V(e,t,n){var o,r,i=(n=n||T).createElement("script");if(i.text=e,t)for(o in J)(r=t[o]||t.getAttribute&&t.getAttribute(o))&&i.setAttribute(o,r);n.head.appendChild(i).parentNode.removeChild(i)}function h(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?B[W.call(e)]||"object":typeof e}var e="3.6.0",S=function(e,t){return new S.fn.init(e,t)};function X(e){var t=!!e&&"length"in e&&e.length,n=h(e);return!v(e)&&!g(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}S.fn=S.prototype={jquery:e,constructor:S,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){e=S.merge(this.constructor(),e);return e.prevObject=this,e},each:function(e){return S.each(this,e)},map:function(n){return this.pushStack(S.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(S.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(S.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,e=+e+(e<0?t:0);return this.pushStack(0<=e&&e<t?[this[e]]:[])},end:function(){return this.prevObject||this.constructor()},push:q,sort:t.sort,splice:t.splice},S.extend=S.fn.extend=function(){var e,t,n,o,r,i=arguments[0]||{},a=1,s=arguments.length,l=!1;for("boolean"==typeof i&&(l=i,i=arguments[a]||{},a++),"object"==typeof i||v(i)||(i={}),a===s&&(i=this,a--);a<s;a++)if(null!=(e=arguments[a]))for(t in e)n=e[t],"__proto__"!==t&&i!==n&&(l&&n&&(S.isPlainObject(n)||(o=Array.isArray(n)))?(r=i[t],r=o&&!Array.isArray(r)?[]:o||S.isPlainObject(r)?r:{},o=!1,i[t]=S.extend(l,r,n)):void 0!==n&&(i[t]=n));return i},S.extend({expando:"jQuery"+(e+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){return!(!e||"[object Object]"!==W.call(e)||(e=I(e))&&("function"!=typeof(e=z.call(e,"constructor")&&e.constructor)||_.call(e)!==U))},isEmptyObject:function(e){for(var t in e)return!1;return!0},globalEval:function(e,t,n){V(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,o=0;if(X(e))for(n=e.length;o<n&&!1!==t.call(e[o],o,e[o]);o++);else for(o in e)if(!1===t.call(e[o],o,e[o]))break;return e},makeArray:function(e,t){t=t||[];return null!=e&&(X(Object(e))?S.merge(t,"string"==typeof e?[e]:e):q.call(t,e)),t},inArray:function(e,t,n){return null==t?-1:F.call(t,e,n)},merge:function(e,t){for(var n=+t.length,o=0,r=e.length;o<n;o++)e[r++]=t[o];return e.length=r,e},grep:function(e,t,n){for(var o=[],r=0,i=e.length,a=!n;r<i;r++)!t(e[r],r)!=a&&o.push(e[r]);return o},map:function(e,t,n){var o,r,i=0,a=[];if(X(e))for(o=e.length;i<o;i++)null!=(r=t(e[i],i,n))&&a.push(r);else for(i in e)null!=(r=t(e[i],i,n))&&a.push(r);return P(a)},guid:1,support:m}),"function"==typeof Symbol&&(S.fn[Symbol.iterator]=t[Symbol.iterator]),S.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){B["[object "+t+"]"]=t.toLowerCase()});function o(e,t,n){for(var o=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&S(e).is(n))break;o.push(e)}return o}function Q(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}var e=function(O){function f(e,t){return e="0x"+e.slice(1)-65536,t||(e<0?String.fromCharCode(65536+e):String.fromCharCode(e>>10|55296,1023&e|56320))}function I(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}function P(){C()}var e,p,w,i,q,d,F,B,x,l,c,C,T,n,S,h,o,r,g,k="sizzle"+ +new Date,u=O.document,N=0,W=0,z=L(),_=L(),U=L(),m=L(),J=function(e,t){return e===t&&(c=!0),0},V={}.hasOwnProperty,t=[],X=t.pop,Q=t.push,E=t.push,G=t.slice,v=function(e,t){for(var n=0,o=e.length;n<o;n++)if(e[n]===t)return n;return-1},K="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",a="[\\x20\\t\\r\\n\\f]",s="(?:\\\\[\\da-fA-F]{1,6}"+a+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Y="\\["+a+"*("+s+")(?:"+a+"*([*^$|!~]?=)"+a+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+s+"))|)"+a+"*\\]",Z=":("+s+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+Y+")*)|.*)\\)|)",ee=new RegExp(a+"+","g"),y=new RegExp("^"+a+"+|((?:^|[^\\\\])(?:\\\\.)*)"+a+"+$","g"),te=new RegExp("^"+a+"*,"+a+"*"),ne=new RegExp("^"+a+"*([>+~]|"+a+")"+a+"*"),oe=new RegExp(a+"|>"),re=new RegExp(Z),ie=new RegExp("^"+s+"$"),b={ID:new RegExp("^#("+s+")"),CLASS:new RegExp("^\\.("+s+")"),TAG:new RegExp("^("+s+"|[*])"),ATTR:new RegExp("^"+Y),PSEUDO:new RegExp("^"+Z),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+a+"*(even|odd|(([+-]|)(\\d*)n|)"+a+"*(?:([+-]|)"+a+"*(\\d+)|))"+a+"*\\)|)","i"),bool:new RegExp("^(?:"+K+")$","i"),needsContext:new RegExp("^"+a+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+a+"*((?:-\\d)?\\d*)"+a+"*\\)|)(?=[^-]|$)","i")},ae=/HTML$/i,se=/^(?:input|select|textarea|button)$/i,le=/^h\d$/i,j=/^[^{]+\{\s*\[native \w/,ce=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ue=/[+~]/,A=new RegExp("\\\\[\\da-fA-F]{1,6}"+a+"?|\\\\([^\\r\\n\\f])","g"),fe=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,pe=ve(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{E.apply(t=G.call(u.childNodes),u.childNodes),t[u.childNodes.length].nodeType}catch(e){E={apply:t.length?function(e,t){Q.apply(e,G.call(t))}:function(e,t){for(var n=e.length,o=0;e[n++]=t[o++];);e.length=n-1}}}function $(e,t,n,o){var r,i,a,s,l,c,u=t&&t.ownerDocument,f=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==f&&9!==f&&11!==f)return n;if(!o&&(C(t),t=t||T,S)){if(11!==f&&(s=ce.exec(e)))if(r=s[1]){if(9===f){if(!(c=t.getElementById(r)))return n;if(c.id===r)return n.push(c),n}else if(u&&(c=u.getElementById(r))&&g(t,c)&&c.id===r)return n.push(c),n}else{if(s[2])return E.apply(n,t.getElementsByTagName(e)),n;if((r=s[3])&&p.getElementsByClassName&&t.getElementsByClassName)return E.apply(n,t.getElementsByClassName(r)),n}if(p.qsa&&!m[e+" "]&&(!h||!h.test(e))&&(1!==f||"object"!==t.nodeName.toLowerCase())){if(c=e,u=t,1===f&&(oe.test(e)||ne.test(e))){for((u=ue.test(e)&&me(t.parentNode)||t)===t&&p.scope||((a=t.getAttribute("id"))?a=a.replace(fe,I):t.setAttribute("id",a=k)),i=(l=d(e)).length;i--;)l[i]=(a?"#"+a:":scope")+" "+H(l[i]);c=l.join(",")}try{return E.apply(n,u.querySelectorAll(c)),n}catch(t){m(e,!0)}finally{a===k&&t.removeAttribute("id")}}}return B(e.replace(y,"$1"),t,n,o)}function L(){var o=[];return function e(t,n){return o.push(t+" ")>w.cacheLength&&delete e[o.shift()],e[t+" "]=n}}function D(e){return e[k]=!0,e}function M(e){var t=T.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t)}}function de(e,t){for(var n=e.split("|"),o=n.length;o--;)w.attrHandle[n[o]]=t}function he(e,t){var n=t&&e,o=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(o)return o;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function ge(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&pe(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function R(a){return D(function(i){return i=+i,D(function(e,t){for(var n,o=a([],e.length,i),r=o.length;r--;)e[n=o[r]]&&(e[n]=!(t[n]=e[n]))})})}function me(e){return e&&void 0!==e.getElementsByTagName&&e}for(e in p=$.support={},q=$.isXML=function(e){var t=e&&e.namespaceURI,e=e&&(e.ownerDocument||e).documentElement;return!ae.test(t||e&&e.nodeName||"HTML")},C=$.setDocument=function(e){var e=e?e.ownerDocument||e:u;return e!=T&&9===e.nodeType&&e.documentElement&&(n=(T=e).documentElement,S=!q(T),u!=T&&(e=T.defaultView)&&e.top!==e&&(e.addEventListener?e.addEventListener("unload",P,!1):e.attachEvent&&e.attachEvent("onunload",P)),p.scope=M(function(e){return n.appendChild(e).appendChild(T.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length}),p.attributes=M(function(e){return e.className="i",!e.getAttribute("className")}),p.getElementsByTagName=M(function(e){return e.appendChild(T.createComment("")),!e.getElementsByTagName("*").length}),p.getElementsByClassName=j.test(T.getElementsByClassName),p.getById=M(function(e){return n.appendChild(e).id=k,!T.getElementsByName||!T.getElementsByName(k).length}),p.getById?(w.filter.ID=function(e){var t=e.replace(A,f);return function(e){return e.getAttribute("id")===t}},w.find.ID=function(e,t){if(void 0!==t.getElementById&&S)return(t=t.getElementById(e))?[t]:[]}):(w.filter.ID=function(e){var t=e.replace(A,f);return function(e){e=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return e&&e.value===t}},w.find.ID=function(e,t){if(void 0!==t.getElementById&&S){var n,o,r,i=t.getElementById(e);if(i){if((n=i.getAttributeNode("id"))&&n.value===e)return[i];for(r=t.getElementsByName(e),o=0;i=r[o++];)if((n=i.getAttributeNode("id"))&&n.value===e)return[i]}return[]}}),w.find.TAG=p.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):p.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,o=[],r=0,i=t.getElementsByTagName(e);if("*"!==e)return i;for(;n=i[r++];)1===n.nodeType&&o.push(n);return o},w.find.CLASS=p.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&S)return t.getElementsByClassName(e)},o=[],h=[],(p.qsa=j.test(T.querySelectorAll))&&(M(function(e){var t;n.appendChild(e).innerHTML="<a id='"+k+"'></a><select id='"+k+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&h.push("[*^$]="+a+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||h.push("\\["+a+"*(?:value|"+K+")"),e.querySelectorAll("[id~="+k+"-]").length||h.push("~="),(t=T.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||h.push("\\["+a+"*name"+a+"*="+a+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||h.push(":checked"),e.querySelectorAll("a#"+k+"+*").length||h.push(".#.+[+~]"),e.querySelectorAll("\\\f"),h.push("[\\r\\n\\f]")}),M(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=T.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&h.push("name"+a+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&h.push(":enabled",":disabled"),n.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&h.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),h.push(",.*:")})),(p.matchesSelector=j.test(r=n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.oMatchesSelector||n.msMatchesSelector))&&M(function(e){p.disconnectedMatch=r.call(e,"*"),r.call(e,"[s!='']:x"),o.push("!=",Z)}),h=h.length&&new RegExp(h.join("|")),o=o.length&&new RegExp(o.join("|")),e=j.test(n.compareDocumentPosition),g=e||j.test(n.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,t=t&&t.parentNode;return e===t||!(!t||1!==t.nodeType||!(n.contains?n.contains(t):e.compareDocumentPosition&&16&e.compareDocumentPosition(t)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},J=e?function(e,t){return e===t?(c=!0,0):!e.compareDocumentPosition-!t.compareDocumentPosition||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!p.sortDetached&&t.compareDocumentPosition(e)===n?e==T||e.ownerDocument==u&&g(u,e)?-1:t==T||t.ownerDocument==u&&g(u,t)?1:l?v(l,e)-v(l,t):0:4&n?-1:1);var n}:function(e,t){if(e===t)return c=!0,0;var n,o=0,r=e.parentNode,i=t.parentNode,a=[e],s=[t];if(!r||!i)return e==T?-1:t==T?1:r?-1:i?1:l?v(l,e)-v(l,t):0;if(r===i)return he(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[o]===s[o];)o++;return o?he(a[o],s[o]):a[o]==u?-1:s[o]==u?1:0}),T},$.matches=function(e,t){return $(e,null,null,t)},$.matchesSelector=function(e,t){if(C(e),p.matchesSelector&&S&&!m[t+" "]&&(!o||!o.test(t))&&(!h||!h.test(t)))try{var n=r.call(e,t);if(n||p.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){m(t,!0)}return 0<$(t,T,null,[e]).length},$.contains=function(e,t){return(e.ownerDocument||e)!=T&&C(e),g(e,t)},$.attr=function(e,t){(e.ownerDocument||e)!=T&&C(e);var n=w.attrHandle[t.toLowerCase()],n=n&&V.call(w.attrHandle,t.toLowerCase())?n(e,t,!S):void 0;return void 0!==n?n:p.attributes||!S?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},$.escape=function(e){return(e+"").replace(fe,I)},$.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},$.uniqueSort=function(e){var t,n=[],o=0,r=0;if(c=!p.detectDuplicates,l=!p.sortStable&&e.slice(0),e.sort(J),c){for(;t=e[r++];)t===e[r]&&(o=n.push(r));for(;o--;)e.splice(n[o],1)}return l=null,e},i=$.getText=function(e){var t,n="",o=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[o++];)n+=i(t);return n},(w=$.selectors={cacheLength:50,createPseudo:D,match:b,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(A,f),e[3]=(e[3]||e[4]||e[5]||"").replace(A,f),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||$.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&$.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return b.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&re.test(n)&&(t=d(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(A,f).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=z[e+" "];return t||(t=new RegExp("(^|"+a+")"+e+"("+a+"|$)"))&&z(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(t,n,o){return function(e){e=$.attr(e,t);return null==e?"!="===n:!n||(e+="","="===n?e===o:"!="===n?e!==o:"^="===n?o&&0===e.indexOf(o):"*="===n?o&&-1<e.indexOf(o):"$="===n?o&&e.slice(-o.length)===o:"~="===n?-1<(" "+e.replace(ee," ")+" ").indexOf(o):"|="===n&&(e===o||e.slice(0,o.length+1)===o+"-"))}},CHILD:function(h,e,t,g,m){var y="nth"!==h.slice(0,3),v="last"!==h.slice(-4),b="of-type"===e;return 1===g&&0===m?function(e){return!!e.parentNode}:function(e,t,n){var o,r,i,a,s,l,c=y!=v?"nextSibling":"previousSibling",u=e.parentNode,f=b&&e.nodeName.toLowerCase(),p=!n&&!b,d=!1;if(u){if(y){for(;c;){for(a=e;a=a[c];)if(b?a.nodeName.toLowerCase()===f:1===a.nodeType)return!1;l=c="only"===h&&!l&&"nextSibling"}return!0}if(l=[v?u.firstChild:u.lastChild],v&&p){for(d=(s=(o=(r=(i=(a=u)[k]||(a[k]={}))[a.uniqueID]||(i[a.uniqueID]={}))[h]||[])[0]===N&&o[1])&&o[2],a=s&&u.childNodes[s];a=++s&&a&&a[c]||(d=s=0)||l.pop();)if(1===a.nodeType&&++d&&a===e){r[h]=[N,s,d];break}}else if(!1===(d=p?s=(o=(r=(i=(a=e)[k]||(a[k]={}))[a.uniqueID]||(i[a.uniqueID]={}))[h]||[])[0]===N&&o[1]:d))for(;(a=++s&&a&&a[c]||(d=s=0)||l.pop())&&((b?a.nodeName.toLowerCase()!==f:1!==a.nodeType)||!++d||(p&&((r=(i=a[k]||(a[k]={}))[a.uniqueID]||(i[a.uniqueID]={}))[h]=[N,d]),a!==e)););return(d-=m)===g||d%g==0&&0<=d/g}}},PSEUDO:function(e,i){var t,a=w.pseudos[e]||w.setFilters[e.toLowerCase()]||$.error("unsupported pseudo: "+e);return a[k]?a(i):1<a.length?(t=[e,e,"",i],w.setFilters.hasOwnProperty(e.toLowerCase())?D(function(e,t){for(var n,o=a(e,i),r=o.length;r--;)e[n=v(e,o[r])]=!(t[n]=o[r])}):function(e){return a(e,0,t)}):a}},pseudos:{not:D(function(e){var o=[],r=[],s=F(e.replace(y,"$1"));return s[k]?D(function(e,t,n,o){for(var r,i=s(e,null,o,[]),a=e.length;a--;)(r=i[a])&&(e[a]=!(t[a]=r))}):function(e,t,n){return o[0]=e,s(o,null,n,r),o[0]=null,!r.pop()}}),has:D(function(t){return function(e){return 0<$(t,e).length}}),contains:D(function(t){return t=t.replace(A,f),function(e){return-1<(e.textContent||i(e)).indexOf(t)}}),lang:D(function(n){return ie.test(n||"")||$.error("unsupported lang: "+n),n=n.replace(A,f).toLowerCase(),function(e){var t;do{if(t=S?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=O.location&&O.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===n},focus:function(e){return e===T.activeElement&&(!T.hasFocus||T.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ge(!1),disabled:ge(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return le.test(e.nodeName)},input:function(e){return se.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(e=e.getAttribute("type"))||"text"===e.toLowerCase())},first:R(function(){return[0]}),last:R(function(e,t){return[t-1]}),eq:R(function(e,t,n){return[n<0?n+t:n]}),even:R(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:R(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:R(function(e,t,n){for(var o=n<0?n+t:t<n?t:n;0<=--o;)e.push(o);return e}),gt:R(function(e,t,n){for(var o=n<0?n+t:n;++o<t;)e.push(o);return e})}}).pseudos.nth=w.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[e]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(e);for(e in{submit:!0,reset:!0})w.pseudos[e]=function(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}(e);function ye(){}function H(e){for(var t=0,n=e.length,o="";t<n;t++)o+=e[t].value;return o}function ve(a,e,t){var s=e.dir,l=e.next,c=l||s,u=t&&"parentNode"===c,f=W++;return e.first?function(e,t,n){for(;e=e[s];)if(1===e.nodeType||u)return a(e,t,n);return!1}:function(e,t,n){var o,r,i=[N,f];if(n){for(;e=e[s];)if((1===e.nodeType||u)&&a(e,t,n))return!0}else for(;e=e[s];)if(1===e.nodeType||u)if(r=(r=e[k]||(e[k]={}))[e.uniqueID]||(r[e.uniqueID]={}),l&&l===e.nodeName.toLowerCase())e=e[s]||e;else{if((o=r[c])&&o[0]===N&&o[1]===f)return i[2]=o[2];if((r[c]=i)[2]=a(e,t,n))return!0}return!1}}function be(r){return 1<r.length?function(e,t,n){for(var o=r.length;o--;)if(!r[o](e,t,n))return!1;return!0}:r[0]}function we(e,t,n,o,r){for(var i,a=[],s=0,l=e.length,c=null!=t;s<l;s++)!(i=e[s])||n&&!n(i,o,r)||(a.push(i),c&&t.push(s));return a}function xe(e){for(var o,t,n,r=e.length,i=w.relative[e[0].type],a=i||w.relative[" "],s=i?1:0,l=ve(function(e){return e===o},a,!0),c=ve(function(e){return-1<v(o,e)},a,!0),u=[function(e,t,n){e=!i&&(n||t!==x)||((o=t).nodeType?l:c)(e,t,n);return o=null,e}];s<r;s++)if(t=w.relative[e[s].type])u=[ve(be(u),t)];else{if((t=w.filter[e[s].type].apply(null,e[s].matches))[k]){for(n=++s;n<r&&!w.relative[e[n].type];n++);return function e(d,h,g,m,y,t){return m&&!m[k]&&(m=e(m)),y&&!y[k]&&(y=e(y,t)),D(function(e,t,n,o){var r,i,a,s=[],l=[],c=t.length,u=e||function(e,t,n){for(var o=0,r=t.length;o<r;o++)$(e,t[o],n);return n}(h||"*",n.nodeType?[n]:n,[]),f=!d||!e&&h?u:we(u,s,d,n,o),p=g?y||(e?d:c||m)?[]:t:f;if(g&&g(f,p,n,o),m)for(r=we(p,l),m(r,[],n,o),i=r.length;i--;)(a=r[i])&&(p[l[i]]=!(f[l[i]]=a));if(e){if(y||d){if(y){for(r=[],i=p.length;i--;)(a=p[i])&&r.push(f[i]=a);y(null,p=[],r,o)}for(i=p.length;i--;)(a=p[i])&&-1<(r=y?v(e,a):s[i])&&(e[r]=!(t[r]=a))}}else p=we(p===t?p.splice(c,p.length):p),y?y(null,t,p,o):E.apply(t,p)})}(1<s&&be(u),1<s&&H(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(y,"$1"),t,s<n&&xe(e.slice(s,n)),n<r&&xe(e=e.slice(n)),n<r&&H(e))}u.push(t)}return be(u)}return ye.prototype=w.filters=w.pseudos,w.setFilters=new ye,d=$.tokenize=function(e,t){var n,o,r,i,a,s,l,c=_[e+" "];if(c)return t?0:c.slice(0);for(a=e,s=[],l=w.preFilter;a;){for(i in n&&!(o=te.exec(a))||(o&&(a=a.slice(o[0].length)||a),s.push(r=[])),n=!1,(o=ne.exec(a))&&(n=o.shift(),r.push({value:n,type:o[0].replace(y," ")}),a=a.slice(n.length)),w.filter)!(o=b[i].exec(a))||l[i]&&!(o=l[i](o))||(n=o.shift(),r.push({value:n,type:i,matches:o}),a=a.slice(n.length));if(!n)break}return t?a.length:a?$.error(e):_(e,s).slice(0)},F=$.compile=function(e,t){var n,m,y,v,b,o,r=[],i=[],a=U[e+" "];if(!a){for(n=(t=t||d(e)).length;n--;)((a=xe(t[n]))[k]?r:i).push(a);(a=U(e,(v=0<(y=r).length,b=0<(m=i).length,o=function(e,t,n,o,r){var i,a,s,l=0,c="0",u=e&&[],f=[],p=x,d=e||b&&w.find.TAG("*",r),h=N+=null==p?1:Math.random()||.1,g=d.length;for(r&&(x=t==T||t||r);c!==g&&null!=(i=d[c]);c++){if(b&&i){for(a=0,t||i.ownerDocument==T||(C(i),n=!S);s=m[a++];)if(s(i,t||T,n)){o.push(i);break}r&&(N=h)}v&&((i=!s&&i)&&l--,e&&u.push(i))}if(l+=c,v&&c!==l){for(a=0;s=y[a++];)s(u,f,t,n);if(e){if(0<l)for(;c--;)u[c]||f[c]||(f[c]=X.call(o));f=we(f)}E.apply(o,f),r&&!e&&0<f.length&&1<l+y.length&&$.uniqueSort(o)}return r&&(N=h,x=p),u},v?D(o):o))).selector=e}return a},B=$.select=function(e,t,n,o){var r,i,a,s,l,c="function"==typeof e&&e,u=!o&&d(e=c.selector||e);if(n=n||[],1===u.length){if(2<(i=u[0]=u[0].slice(0)).length&&"ID"===(a=i[0]).type&&9===t.nodeType&&S&&w.relative[i[1].type]){if(!(t=(w.find.ID(a.matches[0].replace(A,f),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(i.shift().value.length)}for(r=b.needsContext.test(e)?0:i.length;r--&&(a=i[r],!w.relative[s=a.type]);)if((l=w.find[s])&&(o=l(a.matches[0].replace(A,f),ue.test(i[0].type)&&me(t.parentNode)||t))){if(i.splice(r,1),e=o.length&&H(i))break;return E.apply(n,o),n}}return(c||F(e,u))(o,t,!S,n,!t||ue.test(e)&&me(t.parentNode)||t),n},p.sortStable=k.split("").sort(J).join("")===k,p.detectDuplicates=!!c,C(),p.sortDetached=M(function(e){return 1&e.compareDocumentPosition(T.createElement("fieldset"))}),M(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||de("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),p.attributes&&M(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||de("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),M(function(e){return null==e.getAttribute("disabled")})||de(K,function(e,t,n){if(!n)return!0===e[t]?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),$}(C),G=(S.find=e,S.expr=e.selectors,S.expr[":"]=S.expr.pseudos,S.uniqueSort=S.unique=e.uniqueSort,S.text=e.getText,S.isXMLDoc=e.isXML,S.contains=e.contains,S.escapeSelector=e.escape,S.expr.match.needsContext);function l(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var K=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Y(e,n,o){return v(n)?S.grep(e,function(e,t){return!!n.call(e,t,e)!==o}):n.nodeType?S.grep(e,function(e){return e===n!==o}):"string"!=typeof n?S.grep(e,function(e){return-1<F.call(n,e)!==o}):S.filter(n,e,o)}S.filter=function(e,t,n){var o=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===o.nodeType?S.find.matchesSelector(o,e)?[o]:[]:S.find.matches(e,S.grep(t,function(e){return 1===e.nodeType}))},S.fn.extend({find:function(e){var t,n,o=this.length,r=this;if("string"!=typeof e)return this.pushStack(S(e).filter(function(){for(t=0;t<o;t++)if(S.contains(r[t],this))return!0}));for(n=this.pushStack([]),t=0;t<o;t++)S.find(e,r[t],n);return 1<o?S.uniqueSort(n):n},filter:function(e){return this.pushStack(Y(this,e||[],!1))},not:function(e){return this.pushStack(Y(this,e||[],!0))},is:function(e){return!!Y(this,"string"==typeof e&&G.test(e)?S(e):e||[],!1).length}});var Z,ee=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,te=((S.fn.init=function(e,t,n){if(e){if(n=n||Z,"string"!=typeof e)return e.nodeType?(this[0]=e,this.length=1,this):v(e)?void 0!==n.ready?n.ready(e):e(S):S.makeArray(e,this);if(!(o="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:ee.exec(e))||!o[1]&&t)return(!t||t.jquery?t||n:this.constructor(t)).find(e);if(o[1]){if(t=t instanceof S?t[0]:t,S.merge(this,S.parseHTML(o[1],t&&t.nodeType?t.ownerDocument||t:T,!0)),K.test(o[1])&&S.isPlainObject(t))for(var o in t)v(this[o])?this[o](t[o]):this.attr(o,t[o])}else(n=T.getElementById(o[2]))&&(this[0]=n,this.length=1)}return this}).prototype=S.fn,Z=S(T),/^(?:parents|prev(?:Until|All))/),ne={children:!0,contents:!0,next:!0,prev:!0};function oe(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}S.fn.extend({has:function(e){var t=S(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(S.contains(this,t[e]))return!0})},closest:function(e,t){var n,o=0,r=this.length,i=[],a="string"!=typeof e&&S(e);if(!G.test(e))for(;o<r;o++)for(n=this[o];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&S.find.matchesSelector(n,e))){i.push(n);break}return this.pushStack(1<i.length?S.uniqueSort(i):i)},index:function(e){return e?"string"==typeof e?F.call(S(e),this[0]):F.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(S.uniqueSort(S.merge(this.get(),S(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),S.each({parent:function(e){e=e.parentNode;return e&&11!==e.nodeType?e:null},parents:function(e){return o(e,"parentNode")},parentsUntil:function(e,t,n){return o(e,"parentNode",n)},next:function(e){return oe(e,"nextSibling")},prev:function(e){return oe(e,"previousSibling")},nextAll:function(e){return o(e,"nextSibling")},prevAll:function(e){return o(e,"previousSibling")},nextUntil:function(e,t,n){return o(e,"nextSibling",n)},prevUntil:function(e,t,n){return o(e,"previousSibling",n)},siblings:function(e){return Q((e.parentNode||{}).firstChild,e)},children:function(e){return Q(e.firstChild)},contents:function(e){return null!=e.contentDocument&&I(e.contentDocument)?e.contentDocument:(l(e,"template")&&(e=e.content||e),S.merge([],e.childNodes))}},function(o,r){S.fn[o]=function(e,t){var n=S.map(this,r,e);return(t="Until"!==o.slice(-5)?e:t)&&"string"==typeof t&&(n=S.filter(t,n)),1<this.length&&(ne[o]||S.uniqueSort(n),te.test(o)&&n.reverse()),this.pushStack(n)}});var k=/[^\x20\t\r\n\f]+/g;function u(e){return e}function re(e){throw e}function ie(e,t,n,o){var r;try{e&&v(r=e.promise)?r.call(e).done(t).fail(n):e&&v(r=e.then)?r.call(e,t,n):t.apply(void 0,[e].slice(o))}catch(e){n.apply(void 0,[e])}}S.Callbacks=function(o){var e,n;o="string"==typeof o?(e=o,n={},S.each(e.match(k)||[],function(e,t){n[t]=!0}),n):S.extend({},o);function r(){for(s=s||o.once,a=i=!0;c.length;u=-1)for(t=c.shift();++u<l.length;)!1===l[u].apply(t[0],t[1])&&o.stopOnFalse&&(u=l.length,t=!1);o.memory||(t=!1),i=!1,s&&(l=t?[]:"")}var i,t,a,s,l=[],c=[],u=-1,f={add:function(){return l&&(t&&!i&&(u=l.length-1,c.push(t)),function n(e){S.each(e,function(e,t){v(t)?o.unique&&f.has(t)||l.push(t):t&&t.length&&"string"!==h(t)&&n(t)})}(arguments),t&&!i&&r()),this},remove:function(){return S.each(arguments,function(e,t){for(var n;-1<(n=S.inArray(t,l,n));)l.splice(n,1),n<=u&&u--}),this},has:function(e){return e?-1<S.inArray(e,l):0<l.length},empty:function(){return l=l&&[],this},disable:function(){return s=c=[],l=t="",this},disabled:function(){return!l},lock:function(){return s=c=[],t||i||(l=t=""),this},locked:function(){return!!s},fireWith:function(e,t){return s||(t=[e,(t=t||[]).slice?t.slice():t],c.push(t),i||r()),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!a}};return f},S.extend({Deferred:function(e){var i=[["notify","progress",S.Callbacks("memory"),S.Callbacks("memory"),2],["resolve","done",S.Callbacks("once memory"),S.Callbacks("once memory"),0,"resolved"],["reject","fail",S.Callbacks("once memory"),S.Callbacks("once memory"),1,"rejected"]],r="pending",a={state:function(){return r},always:function(){return s.done(arguments).fail(arguments),this},catch:function(e){return a.then(null,e)},pipe:function(){var r=arguments;return S.Deferred(function(o){S.each(i,function(e,t){var n=v(r[t[4]])&&r[t[4]];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&v(e.promise)?e.promise().progress(o.notify).done(o.resolve).fail(o.reject):o[t[0]+"With"](this,n?[e]:arguments)})}),r=null}).promise()},then:function(t,n,o){var l=0;function c(r,i,a,s){return function(){function e(){var e,t;if(!(r<l)){if((e=a.apply(n,o))===i.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,v(t)?s?t.call(e,c(l,i,u,s),c(l,i,re,s)):(l++,t.call(e,c(l,i,u,s),c(l,i,re,s),c(l,i,u,i.notifyWith))):(a!==u&&(n=void 0,o=[e]),(s||i.resolveWith)(n,o))}}var n=this,o=arguments,t=s?e:function(){try{e()}catch(e){S.Deferred.exceptionHook&&S.Deferred.exceptionHook(e,t.stackTrace),l<=r+1&&(a!==re&&(n=void 0,o=[e]),i.rejectWith(n,o))}};r?t():(S.Deferred.getStackHook&&(t.stackTrace=S.Deferred.getStackHook()),C.setTimeout(t))}}return S.Deferred(function(e){i[0][3].add(c(0,e,v(o)?o:u,e.notifyWith)),i[1][3].add(c(0,e,v(t)?t:u)),i[2][3].add(c(0,e,v(n)?n:re))}).promise()},promise:function(e){return null!=e?S.extend(e,a):a}},s={};return S.each(i,function(e,t){var n=t[2],o=t[5];a[t[1]]=n.add,o&&n.add(function(){r=o},i[3-e][2].disable,i[3-e][3].disable,i[0][2].lock,i[0][3].lock),n.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){function t(t){return function(e){r[t]=this,i[t]=1<arguments.length?s.call(arguments):e,--n||a.resolveWith(r,i)}}var n=arguments.length,o=n,r=Array(o),i=s.call(arguments),a=S.Deferred();if(n<=1&&(ie(e,a.done(t(o)).resolve,a.reject,!n),"pending"===a.state()||v(i[o]&&i[o].then)))return a.then();for(;o--;)ie(i[o],t(o),a.reject);return a.promise()}});var ae=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/,se=(S.Deferred.exceptionHook=function(e,t){C.console&&C.console.warn&&e&&ae.test(e.name)&&C.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},S.readyException=function(e){C.setTimeout(function(){throw e})},S.Deferred());function le(){T.removeEventListener("DOMContentLoaded",le),C.removeEventListener("load",le),S.ready()}S.fn.ready=function(e){return se.then(e).catch(function(e){S.readyException(e)}),this},S.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--S.readyWait:S.isReady)||(S.isReady=!0)!==e&&0<--S.readyWait||se.resolveWith(T,[S])}}),S.ready.then=se.then,"complete"===T.readyState||"loading"!==T.readyState&&!T.documentElement.doScroll?C.setTimeout(S.ready):(T.addEventListener("DOMContentLoaded",le),C.addEventListener("load",le));function f(e,t,n,o,r,i,a){var s=0,l=e.length,c=null==n;if("object"===h(n))for(s in r=!0,n)f(e,t,s,n[s],!0,i,a);else if(void 0!==o&&(r=!0,v(o)||(a=!0),t=c?a?(t.call(e,o),null):(c=t,function(e,t,n){return c.call(S(e),n)}):t))for(;s<l;s++)t(e[s],n,a?o:o.call(e[s],s,t(e[s],n)));return r?e:c?t.call(e):l?t(e[0],n):i}var ce=/^-ms-/,ue=/-([a-z])/g;function fe(e,t){return t.toUpperCase()}function b(e){return e.replace(ce,"ms-").replace(ue,fe)}function y(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType}function pe(){this.expando=S.expando+pe.uid++}pe.uid=1,pe.prototype={cache:function(e){var t=e[this.expando];return t||(t={},y(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var o,r=this.cache(e);if("string"==typeof t)r[b(t)]=n;else for(o in t)r[b(o)]=t[o];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][b(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,o=e[this.expando];if(void 0!==o){if(void 0!==t){n=(t=Array.isArray(t)?t.map(b):(t=b(t))in o?[t]:t.match(k)||[]).length;for(;n--;)delete o[t[n]]}void 0!==t&&!S.isEmptyObject(o)||(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){e=e[this.expando];return void 0!==e&&!S.isEmptyObject(e)}};var w=new pe,c=new pe,de=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,he=/[A-Z]/g;function ge(e,t,n){var o,r;if(void 0===n&&1===e.nodeType)if(o="data-"+t.replace(he,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(o))){try{n="true"===(r=n)||"false"!==r&&("null"===r?null:r===+r+""?+r:de.test(r)?JSON.parse(r):r)}catch(e){}c.set(e,t,n)}else n=void 0;return n}S.extend({hasData:function(e){return c.hasData(e)||w.hasData(e)},data:function(e,t,n){return c.access(e,t,n)},removeData:function(e,t){c.remove(e,t)},_data:function(e,t,n){return w.access(e,t,n)},_removeData:function(e,t){w.remove(e,t)}}),S.fn.extend({data:function(n,e){var t,o,r,i=this[0],a=i&&i.attributes;if(void 0!==n)return"object"==typeof n?this.each(function(){c.set(this,n)}):f(this,function(e){var t;if(i&&void 0===e)return void 0!==(t=c.get(i,n))||void 0!==(t=ge(i,n))?t:void 0;this.each(function(){c.set(this,n,e)})},null,e,1<arguments.length,null,!0);if(this.length&&(r=c.get(i),1===i.nodeType&&!w.get(i,"hasDataAttrs"))){for(t=a.length;t--;)a[t]&&0===(o=a[t].name).indexOf("data-")&&(o=b(o.slice(5)),ge(i,o,r[o]));w.set(i,"hasDataAttrs",!0)}return r},removeData:function(e){return this.each(function(){c.remove(this,e)})}}),S.extend({queue:function(e,t,n){var o;if(e)return o=w.get(e,t=(t||"fx")+"queue"),n&&(!o||Array.isArray(n)?o=w.access(e,t,S.makeArray(n)):o.push(n)),o||[]},dequeue:function(e,t){t=t||"fx";var n=S.queue(e,t),o=n.length,r=n.shift(),i=S._queueHooks(e,t);"inprogress"===r&&(r=n.shift(),o--),r&&("fx"===t&&n.unshift("inprogress"),delete i.stop,r.call(e,function(){S.dequeue(e,t)},i)),!o&&i&&i.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return w.get(e,n)||w.access(e,n,{empty:S.Callbacks("once memory").add(function(){w.remove(e,[t+"queue",n])})})}}),S.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?S.queue(this[0],t):void 0===n?this:this.each(function(){var e=S.queue(this,t,n);S._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&S.dequeue(this,t)})},dequeue:function(e){return this.each(function(){S.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){function n(){--r||i.resolveWith(a,[a])}var o,r=1,i=S.Deferred(),a=this,s=this.length;for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(o=w.get(a[s],e+"queueHooks"))&&o.empty&&(r++,o.empty.add(n));return n(),i.promise(t)}});function me(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&N(e)&&"none"===S.css(e,"display")}var e=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ye=new RegExp("^(?:([+-])=|)("+e+")([a-z%]*)$","i"),p=["Top","Right","Bottom","Left"],x=T.documentElement,N=function(e){return S.contains(e.ownerDocument,e)},ve={composed:!0};x.getRootNode&&(N=function(e){return S.contains(e.ownerDocument,e)||e.getRootNode(ve)===e.ownerDocument});function be(e,t,n,o){var r,i,a=20,s=o?function(){return o.cur()}:function(){return S.css(e,t,"")},l=s(),c=n&&n[3]||(S.cssNumber[t]?"":"px"),u=e.nodeType&&(S.cssNumber[t]||"px"!==c&&+l)&&ye.exec(S.css(e,t));if(u&&u[3]!==c){for(c=c||u[3],u=+(l/=2)||1;a--;)S.style(e,t,u+c),(1-i)*(1-(i=s()/l||.5))<=0&&(a=0),u/=i;S.style(e,t,(u*=2)+c),n=n||[]}return n&&(u=+u||+l||0,r=n[1]?u+(n[1]+1)*n[2]:+n[2],o&&(o.unit=c,o.start=u,o.end=r)),r}var we={};function E(e,t){for(var n,o,r,i,a,s,l=[],c=0,u=e.length;c<u;c++)(o=e[c]).style&&(n=o.style.display,t?("none"===n&&(l[c]=w.get(o,"display")||null,l[c]||(o.style.display="")),""===o.style.display&&me(o)&&(l[c]=(s=i=r=void 0,i=o.ownerDocument,a=o.nodeName,(s=we[a])||(r=i.body.appendChild(i.createElement(a)),s=S.css(r,"display"),r.parentNode.removeChild(r),we[a]=s="none"===s?"block":s)))):"none"!==n&&(l[c]="none",w.set(o,"display",n)));for(c=0;c<u;c++)null!=l[c]&&(e[c].style.display=l[c]);return e}S.fn.extend({show:function(){return E(this,!0)},hide:function(){return E(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){me(this)?S(this).show():S(this).hide()})}});var xe=/^(?:checkbox|radio)$/i,Ce=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Te=/^$|^module$|\/(?:java|ecma)script/i,n=T.createDocumentFragment().appendChild(T.createElement("div")),j=((D=T.createElement("input")).setAttribute("type","radio"),D.setAttribute("checked","checked"),D.setAttribute("name","t"),n.appendChild(D),m.checkClone=n.cloneNode(!0).cloneNode(!0).lastChild.checked,n.innerHTML="<textarea>x</textarea>",m.noCloneChecked=!!n.cloneNode(!0).lastChild.defaultValue,n.innerHTML="<option></option>",m.option=!!n.lastChild,{thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]});function A(e,t){var n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&l(e,t)?S.merge([e],n):n}function Se(e,t){for(var n=0,o=e.length;n<o;n++)w.set(e[n],"globalEval",!t||w.get(t[n],"globalEval"))}j.tbody=j.tfoot=j.colgroup=j.caption=j.thead,j.th=j.td,m.option||(j.optgroup=j.option=[1,"<select multiple='multiple'>","</select>"]);var ke=/<|&#?\w+;/;function Ne(e,t,n,o,r){for(var i,a,s,l,c,u=t.createDocumentFragment(),f=[],p=0,d=e.length;p<d;p++)if((i=e[p])||0===i)if("object"===h(i))S.merge(f,i.nodeType?[i]:i);else if(ke.test(i)){for(a=a||u.appendChild(t.createElement("div")),s=(Ce.exec(i)||["",""])[1].toLowerCase(),s=j[s]||j._default,a.innerHTML=s[1]+S.htmlPrefilter(i)+s[2],c=s[0];c--;)a=a.lastChild;S.merge(f,a.childNodes),(a=u.firstChild).textContent=""}else f.push(t.createTextNode(i));for(u.textContent="",p=0;i=f[p++];)if(o&&-1<S.inArray(i,o))r&&r.push(i);else if(l=N(i),a=A(u.appendChild(i),"script"),l&&Se(a),n)for(c=0;i=a[c++];)Te.test(i.type||"")&&n.push(i);return u}var Ee=/^([^.]*)(?:\.(.+)|)/;function a(){return!0}function d(){return!1}function je(e,t){return e===function(){try{return T.activeElement}catch(e){}}()==("focus"===t)}function Ae(e,t,n,o,r,i){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(o=o||n,n=void 0),t)Ae(e,s,n,o,t[s],i);return e}if(null==o&&null==r?(r=n,o=n=void 0):null==r&&("string"==typeof n?(r=o,o=void 0):(r=o,o=n,n=void 0)),!1===r)r=d;else if(!r)return e;return 1===i&&(a=r,(r=function(e){return S().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=S.guid++)),e.each(function(){S.event.add(this,t,r,o,n)})}function $e(e,r,i){i?(w.set(e,r,!1),S.event.add(e,r,{namespace:!1,handler:function(e){var t,n,o=w.get(this,r);if(1&e.isTrigger&&this[r]){if(o.length)(S.event.special[r]||{}).delegateType&&e.stopPropagation();else if(o=s.call(arguments),w.set(this,r,o),t=i(this,r),this[r](),o!==(n=w.get(this,r))||t?w.set(this,r,!1):n={},o!==n)return e.stopImmediatePropagation(),e.preventDefault(),n&&n.value}else o.length&&(w.set(this,r,{value:S.event.trigger(S.extend(o[0],S.Event.prototype),o.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===w.get(e,r)&&S.event.add(e,r,a)}S.event={global:{},add:function(t,e,n,o,r){var i,a,s,l,c,u,f,p,d,h=w.get(t);if(y(t))for(n.handler&&(n=(i=n).handler,r=i.selector),r&&S.find.matchesSelector(x,r),n.guid||(n.guid=S.guid++),(s=h.events)||(s=h.events=Object.create(null)),(a=h.handle)||(a=h.handle=function(e){return void 0!==S&&S.event.triggered!==e.type?S.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(k)||[""]).length;l--;)f=d=(p=Ee.exec(e[l])||[])[1],p=(p[2]||"").split(".").sort(),f&&(c=S.event.special[f]||{},f=(r?c.delegateType:c.bindType)||f,c=S.event.special[f]||{},d=S.extend({type:f,origType:d,data:o,handler:n,guid:n.guid,selector:r,needsContext:r&&S.expr.match.needsContext.test(r),namespace:p.join(".")},i),(u=s[f])||((u=s[f]=[]).delegateCount=0,c.setup&&!1!==c.setup.call(t,o,p,a)||t.addEventListener&&t.addEventListener(f,a)),c.add&&(c.add.call(t,d),d.handler.guid||(d.handler.guid=n.guid)),r?u.splice(u.delegateCount++,0,d):u.push(d),S.event.global[f]=!0)},remove:function(e,t,n,o,r){var i,a,s,l,c,u,f,p,d,h,g,m=w.hasData(e)&&w.get(e);if(m&&(l=m.events)){for(c=(t=(t||"").match(k)||[""]).length;c--;)if(d=g=(s=Ee.exec(t[c])||[])[1],h=(s[2]||"").split(".").sort(),d){for(f=S.event.special[d]||{},p=l[d=(o?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=i=p.length;i--;)u=p[i],!r&&g!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||o&&o!==u.selector&&("**"!==o||!u.selector)||(p.splice(i,1),u.selector&&p.delegateCount--,f.remove&&f.remove.call(e,u));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,m.handle)||S.removeEvent(e,d,m.handle),delete l[d])}else for(d in l)S.event.remove(e,d+t[c],n,o,!0);S.isEmptyObject(l)&&w.remove(e,"handle events")}},dispatch:function(e){var t,n,o,r,i,a=new Array(arguments.length),s=S.event.fix(e),e=(w.get(this,"events")||Object.create(null))[s.type]||[],l=S.event.special[s.type]||{};for(a[0]=s,t=1;t<arguments.length;t++)a[t]=arguments[t];if(s.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,s)){for(i=S.event.handlers.call(this,s,e),t=0;(o=i[t++])&&!s.isPropagationStopped();)for(s.currentTarget=o.elem,n=0;(r=o.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!1!==r.namespace&&!s.rnamespace.test(r.namespace)||(s.handleObj=r,s.data=r.data,void 0!==(r=((S.event.special[r.origType]||{}).handle||r.handler).apply(o.elem,a))&&!1===(s.result=r)&&(s.preventDefault(),s.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,o,r,i,a,s=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&1<=e.button))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(i=[],a={},n=0;n<l;n++)void 0===a[r=(o=t[n]).selector+" "]&&(a[r]=o.needsContext?-1<S(r,this).index(c):S.find(r,this,null,[c]).length),a[r]&&i.push(o);i.length&&s.push({elem:c,handlers:i})}return c=this,l<t.length&&s.push({elem:c,handlers:t.slice(l)}),s},addProp:function(t,e){Object.defineProperty(S.Event.prototype,t,{enumerable:!0,configurable:!0,get:v(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[S.expando]?e:new S.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){e=this||e;return xe.test(e.type)&&e.click&&l(e,"input")&&$e(e,"click",a),!1},trigger:function(e){e=this||e;return xe.test(e.type)&&e.click&&l(e,"input")&&$e(e,"click"),!0},_default:function(e){e=e.target;return xe.test(e.type)&&e.click&&l(e,"input")&&w.get(e,"click")||l(e,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},S.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},S.Event=function(e,t){if(!(this instanceof S.Event))return new S.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?a:d,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&S.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[S.expando]=!0},S.Event.prototype={constructor:S.Event,isDefaultPrevented:d,isPropagationStopped:d,isImmediatePropagationStopped:d,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=a,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=a,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=a,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},S.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},S.event.addProp),S.each({focus:"focusin",blur:"focusout"},function(e,t){S.event.special[e]={setup:function(){return $e(this,e,je),!1},trigger:function(){return $e(this,e),!0},_default:function(){return!0},delegateType:t}}),S.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,r){S.event.special[e]={delegateType:r,bindType:r,handle:function(e){var t,n=e.relatedTarget,o=e.handleObj;return n&&(n===this||S.contains(this,n))||(e.type=o.origType,t=o.handler.apply(this,arguments),e.type=r),t}}}),S.fn.extend({on:function(e,t,n,o){return Ae(this,e,t,n,o)},one:function(e,t,n,o){return Ae(this,e,t,n,o,1)},off:function(e,t,n){var o,r;if(e&&e.preventDefault&&e.handleObj)o=e.handleObj,S(e.delegateTarget).off(o.namespace?o.origType+"."+o.namespace:o.origType,o.selector,o.handler);else{if("object"!=typeof e)return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=d),this.each(function(){S.event.remove(this,e,n,t)});for(r in e)this.off(r,t,e[r])}return this}});var Le=/<script|<style|<link/i,De=/checked\s*(?:[^=]|=\s*.checked.)/i,Me=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Re(e,t){return l(e,"table")&&l(11!==t.nodeType?t:t.firstChild,"tr")&&S(e).children("tbody")[0]||e}function He(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Oe(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Ie(e,t){var n,o,r,i;if(1===t.nodeType){if(w.hasData(e)&&(i=w.get(e).events))for(r in w.remove(t,"handle events"),i)for(n=0,o=i[r].length;n<o;n++)S.event.add(t,r,i[r][n]);c.hasData(e)&&(e=c.access(e),e=S.extend({},e),c.set(t,e))}}function $(n,o,r,i){o=P(o);var e,t,a,s,l,c,u=0,f=n.length,p=f-1,d=o[0],h=v(d);if(h||1<f&&"string"==typeof d&&!m.checkClone&&De.test(d))return n.each(function(e){var t=n.eq(e);h&&(o[0]=d.call(this,e,t.html())),$(t,o,r,i)});if(f&&(t=(e=Ne(o,n[0].ownerDocument,!1,n,i)).firstChild,1===e.childNodes.length&&(e=t),t||i)){for(s=(a=S.map(A(e,"script"),He)).length;u<f;u++)l=e,u!==p&&(l=S.clone(l,!0,!0),s&&S.merge(a,A(l,"script"))),r.call(n[u],l,u);if(s)for(c=a[a.length-1].ownerDocument,S.map(a,Oe),u=0;u<s;u++)l=a[u],Te.test(l.type||"")&&!w.access(l,"globalEval")&&S.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?S._evalUrl&&!l.noModule&&S._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")},c):V(l.textContent.replace(Me,""),l,c))}return n}function Pe(e,t,n){for(var o,r=t?S.filter(t,e):e,i=0;null!=(o=r[i]);i++)n||1!==o.nodeType||S.cleanData(A(o)),o.parentNode&&(n&&N(o)&&Se(A(o,"script")),o.parentNode.removeChild(o));return e}S.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var o,r,i,a,s,l,c,u=e.cloneNode(!0),f=N(e);if(!(m.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||S.isXMLDoc(e)))for(a=A(u),o=0,r=(i=A(e)).length;o<r;o++)s=i[o],"input"===(c=(l=a[o]).nodeName.toLowerCase())&&xe.test(s.type)?l.checked=s.checked:"input"!==c&&"textarea"!==c||(l.defaultValue=s.defaultValue);if(t)if(n)for(i=i||A(e),a=a||A(u),o=0,r=i.length;o<r;o++)Ie(i[o],a[o]);else Ie(e,u);return 0<(a=A(u,"script")).length&&Se(a,!f&&A(e,"script")),u},cleanData:function(e){for(var t,n,o,r=S.event.special,i=0;void 0!==(n=e[i]);i++)if(y(n)){if(t=n[w.expando]){if(t.events)for(o in t.events)r[o]?S.event.remove(n,o):S.removeEvent(n,o,t.handle);n[w.expando]=void 0}n[c.expando]&&(n[c.expando]=void 0)}}}),S.fn.extend({detach:function(e){return Pe(this,e,!0)},remove:function(e){return Pe(this,e)},text:function(e){return f(this,function(e){return void 0===e?S.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return $(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Re(this,e).appendChild(e)})},prepend:function(){return $(this,arguments,function(e){var t;1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(t=Re(this,e)).insertBefore(e,t.firstChild)})},before:function(){return $(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return $(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(S.cleanData(A(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return S.clone(this,e,t)})},html:function(e){return f(this,function(e){var t=this[0]||{},n=0,o=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Le.test(e)&&!j[(Ce.exec(e)||["",""])[1].toLowerCase()]){e=S.htmlPrefilter(e);try{for(;n<o;n++)1===(t=this[n]||{}).nodeType&&(S.cleanData(A(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return $(this,arguments,function(e){var t=this.parentNode;S.inArray(this,n)<0&&(S.cleanData(A(this)),t&&t.replaceChild(e,this))},n)}}),S.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){S.fn[e]=function(e){for(var t,n=[],o=S(e),r=o.length-1,i=0;i<=r;i++)t=i===r?this:this.clone(!0),S(o[i])[a](t),q.apply(n,t.get());return this.pushStack(n)}});function qe(e){var t=e.ownerDocument.defaultView;return(t=t&&t.opener?t:C).getComputedStyle(e)}function Fe(e,t,n){var o,r={};for(o in t)r[o]=e.style[o],e.style[o]=t[o];for(o in n=n.call(e),t)e.style[o]=r[o];return n}var Be,We,ze,_e,Ue,Je,Ve,r,Xe=new RegExp("^("+e+")(?!px)[a-z%]+$","i"),Qe=new RegExp(p.join("|"),"i");function Ge(e,t,n){var o,r,i=e.style;return(n=n||qe(e))&&(""!==(r=n.getPropertyValue(t)||n[t])||N(e)||(r=S.style(e,t)),!m.pixelBoxStyles()&&Xe.test(r)&&Qe.test(t)&&(e=i.width,t=i.minWidth,o=i.maxWidth,i.minWidth=i.maxWidth=i.width=r,r=n.width,i.width=e,i.minWidth=t,i.maxWidth=o)),void 0!==r?r+"":r}function Ke(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}function Ye(){var e;r&&(Ve.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",r.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",x.appendChild(Ve).appendChild(r),e=C.getComputedStyle(r),Be="1%"!==e.top,Je=12===Ze(e.marginLeft),r.style.right="60%",_e=36===Ze(e.right),We=36===Ze(e.width),r.style.position="absolute",ze=12===Ze(r.offsetWidth/3),x.removeChild(Ve),r=null)}function Ze(e){return Math.round(parseFloat(e))}Ve=T.createElement("div"),(r=T.createElement("div")).style&&(r.style.backgroundClip="content-box",r.cloneNode(!0).style.backgroundClip="",m.clearCloneStyle="content-box"===r.style.backgroundClip,S.extend(m,{boxSizingReliable:function(){return Ye(),We},pixelBoxStyles:function(){return Ye(),_e},pixelPosition:function(){return Ye(),Be},reliableMarginLeft:function(){return Ye(),Je},scrollboxSize:function(){return Ye(),ze},reliableTrDimensions:function(){var e,t,n;return null==Ue&&(e=T.createElement("table"),t=T.createElement("tr"),n=T.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",x.appendChild(e).appendChild(t).appendChild(n),n=C.getComputedStyle(t),Ue=parseInt(n.height,10)+parseInt(n.borderTopWidth,10)+parseInt(n.borderBottomWidth,10)===t.offsetHeight,x.removeChild(e)),Ue}}));var et=["Webkit","Moz","ms"],tt=T.createElement("div").style,nt={};function ot(e){return S.cssProps[e]||nt[e]||(e in tt?e:nt[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=et.length;n--;)if((e=et[n]+t)in tt)return e}(e)||e)}var rt=/^(none|table(?!-c[ea]).+)/,it=/^--/,at={position:"absolute",visibility:"hidden",display:"block"},st={letterSpacing:"0",fontWeight:"400"};function lt(e,t,n){var o=ye.exec(t);return o?Math.max(0,o[2]-(n||0))+(o[3]||"px"):t}function ct(e,t,n,o,r,i){var a="width"===t?1:0,s=0,l=0;if(n===(o?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(l+=S.css(e,n+p[a],!0,r)),o?("content"===n&&(l-=S.css(e,"padding"+p[a],!0,r)),"margin"!==n&&(l-=S.css(e,"border"+p[a]+"Width",!0,r))):(l+=S.css(e,"padding"+p[a],!0,r),"padding"!==n?l+=S.css(e,"border"+p[a]+"Width",!0,r):s+=S.css(e,"border"+p[a]+"Width",!0,r));return!o&&0<=i&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-i-l-s-.5))||0),l}function ut(e,t,n){var o=qe(e),r=(!m.boxSizingReliable()||n)&&"border-box"===S.css(e,"boxSizing",!1,o),i=r,a=Ge(e,t,o),s="offset"+t[0].toUpperCase()+t.slice(1);if(Xe.test(a)){if(!n)return a;a="auto"}return(!m.boxSizingReliable()&&r||!m.reliableTrDimensions()&&l(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===S.css(e,"display",!1,o))&&e.getClientRects().length&&(r="border-box"===S.css(e,"boxSizing",!1,o),(i=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+ct(e,t,n||(r?"border":"content"),i,o,a)+"px"}function i(e,t,n,o,r){return new i.prototype.init(e,t,n,o,r)}S.extend({cssHooks:{opacity:{get:function(e,t){if(t)return""===(t=Ge(e,"opacity"))?"1":t}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,o){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,i,a,s=b(t),l=it.test(t),c=e.style;if(l||(t=ot(s)),a=S.cssHooks[t]||S.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(r=a.get(e,!1,o))?r:c[t];"string"==(i=typeof n)&&(r=ye.exec(n))&&r[1]&&(n=be(e,t,r),i="number"),null!=n&&n==n&&("number"!==i||l||(n+=r&&r[3]||(S.cssNumber[s]?"":"px")),m.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,o))||(l?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,o){var r,i=b(t);return it.test(t)||(t=ot(i)),"normal"===(r=void 0===(r=(i=S.cssHooks[t]||S.cssHooks[i])&&"get"in i?i.get(e,!0,n):r)?Ge(e,t,o):r)&&t in st&&(r=st[t]),""===n||n?(i=parseFloat(r),!0===n||isFinite(i)?i||0:r):r}}),S.each(["height","width"],function(e,a){S.cssHooks[a]={get:function(e,t,n){if(t)return!rt.test(S.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?ut(e,a,n):Fe(e,at,function(){return ut(e,a,n)})},set:function(e,t,n){var o=qe(e),r=!m.scrollboxSize()&&"absolute"===o.position,i=(r||n)&&"border-box"===S.css(e,"boxSizing",!1,o),n=n?ct(e,a,n,i,o):0;return i&&r&&(n-=Math.ceil(e["offset"+a[0].toUpperCase()+a.slice(1)]-parseFloat(o[a])-ct(e,a,"border",!1,o)-.5)),n&&(i=ye.exec(t))&&"px"!==(i[3]||"px")&&(e.style[a]=t,t=S.css(e,a)),lt(0,t,n)}}}),S.cssHooks.marginLeft=Ke(m.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Ge(e,"marginLeft"))||e.getBoundingClientRect().left-Fe(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),S.each({margin:"",padding:"",border:"Width"},function(r,i){S.cssHooks[r+i]={expand:function(e){for(var t=0,n={},o="string"==typeof e?e.split(" "):[e];t<4;t++)n[r+p[t]+i]=o[t]||o[t-2]||o[0];return n}},"margin"!==r&&(S.cssHooks[r+i].set=lt)}),S.fn.extend({css:function(e,t){return f(this,function(e,t,n){var o,r,i={},a=0;if(Array.isArray(t)){for(o=qe(e),r=t.length;a<r;a++)i[t[a]]=S.css(e,t[a],!1,o);return i}return void 0!==n?S.style(e,t,n):S.css(e,t)},e,t,1<arguments.length)}}),((S.Tween=i).prototype={constructor:i,init:function(e,t,n,o,r,i){this.elem=e,this.prop=n,this.easing=r||S.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=o,this.unit=i||(S.cssNumber[n]?"":"px")},cur:function(){var e=i.propHooks[this.prop];return(e&&e.get?e:i.propHooks._default).get(this)},run:function(e){var t,n=i.propHooks[this.prop];return this.options.duration?this.pos=t=S.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),(n&&n.set?n:i.propHooks._default).set(this),this}}).init.prototype=i.prototype,(i.propHooks={_default:{get:function(e){return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(e=S.css(e.elem,e.prop,""))&&"auto"!==e?e:0},set:function(e){S.fx.step[e.prop]?S.fx.step[e.prop](e):1!==e.elem.nodeType||!S.cssHooks[e.prop]&&null==e.elem.style[ot(e.prop)]?e.elem[e.prop]=e.now:S.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=i.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},S.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},S.fx=i.prototype.init,S.fx.step={};var L,ft,D,pt=/^(?:toggle|show|hide)$/,dt=/queueHooks$/;function ht(){ft&&(!1===T.hidden&&C.requestAnimationFrame?C.requestAnimationFrame(ht):C.setTimeout(ht,S.fx.interval),S.fx.tick())}function gt(){return C.setTimeout(function(){L=void 0}),L=Date.now()}function mt(e,t){var n,o=0,r={height:e};for(t=t?1:0;o<4;o+=2-t)r["margin"+(n=p[o])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function yt(e,t,n){for(var o,r=(M.tweeners[t]||[]).concat(M.tweeners["*"]),i=0,a=r.length;i<a;i++)if(o=r[i].call(n,t,e))return o}function M(r,e,t){var n,i,o,a,s,l,c,u=0,f=M.prefilters.length,p=S.Deferred().always(function(){delete d.elem}),d=function(){if(i)return!1;for(var e=L||gt(),e=Math.max(0,h.startTime+h.duration-e),t=1-(e/h.duration||0),n=0,o=h.tweens.length;n<o;n++)h.tweens[n].run(t);return p.notifyWith(r,[h,t,e]),t<1&&o?e:(o||p.notifyWith(r,[h,1,0]),p.resolveWith(r,[h]),!1)},h=p.promise({elem:r,props:S.extend({},e),opts:S.extend(!0,{specialEasing:{},easing:S.easing._default},t),originalProperties:e,originalOptions:t,startTime:L||gt(),duration:t.duration,tweens:[],createTween:function(e,t){t=S.Tween(r,h.opts,e,t,h.opts.specialEasing[e]||h.opts.easing);return h.tweens.push(t),t},stop:function(e){var t=0,n=e?h.tweens.length:0;if(!i){for(i=!0;t<n;t++)h.tweens[t].run(1);e?(p.notifyWith(r,[h,1,0]),p.resolveWith(r,[h,e])):p.rejectWith(r,[h,e])}return this}}),g=h.props,m=g,y=h.opts.specialEasing;for(o in m)if(s=y[a=b(o)],l=m[o],Array.isArray(l)&&(s=l[1],l=m[o]=l[0]),o!==a&&(m[a]=l,delete m[o]),(c=S.cssHooks[a])&&"expand"in c)for(o in l=c.expand(l),delete m[a],l)o in m||(m[o]=l[o],y[o]=s);else y[a]=s;for(;u<f;u++)if(n=M.prefilters[u].call(h,r,g,h.opts))return v(n.stop)&&(S._queueHooks(h.elem,h.opts.queue).stop=n.stop.bind(n)),n;return S.map(g,yt,h),v(h.opts.start)&&h.opts.start.call(r,h),h.progress(h.opts.progress).done(h.opts.done,h.opts.complete).fail(h.opts.fail).always(h.opts.always),S.fx.timer(S.extend(d,{elem:r,anim:h,queue:h.opts.queue})),h}S.Animation=S.extend(M,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return be(n.elem,e,ye.exec(t),n),n}]},tweener:function(e,t){for(var n,o=0,r=(e=v(e)?(t=e,["*"]):e.match(k)).length;o<r;o++)n=e[o],M.tweeners[n]=M.tweeners[n]||[],M.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var o,r,i,a,s,l,c,u="width"in t||"height"in t,f=this,p={},d=e.style,h=e.nodeType&&me(e),g=w.get(e,"fxshow");for(o in n.queue||(null==(a=S._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,f.always(function(){f.always(function(){a.unqueued--,S.queue(e,"fx").length||a.empty.fire()})})),t)if(r=t[o],pt.test(r)){if(delete t[o],i=i||"toggle"===r,r===(h?"hide":"show")){if("show"!==r||!g||void 0===g[o])continue;h=!0}p[o]=g&&g[o]||S.style(e,o)}if((l=!S.isEmptyObject(t))||!S.isEmptyObject(p))for(o in u&&1===e.nodeType&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],null==(c=g&&g.display)&&(c=w.get(e,"display")),"none"===(u=S.css(e,"display"))&&(c?u=c:(E([e],!0),c=e.style.display||c,u=S.css(e,"display"),E([e]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===S.css(e,"float")&&(l||(f.done(function(){d.display=c}),null==c&&(u=d.display,c="none"===u?"":u)),d.display="inline-block")),n.overflow&&(d.overflow="hidden",f.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]})),l=!1,p)l||(g?"hidden"in g&&(h=g.hidden):g=w.access(e,"fxshow",{display:c}),i&&(g.hidden=!h),h&&E([e],!0),f.done(function(){for(o in h||E([e]),w.remove(e,"fxshow"),p)S.style(e,o,p[o])})),l=yt(h?g[o]:0,o,f),o in g||(g[o]=l.start,h&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?M.prefilters.unshift(e):M.prefilters.push(e)}}),S.speed=function(e,t,n){var o=e&&"object"==typeof e?S.extend({},e):{complete:n||!n&&t||v(e)&&e,duration:e,easing:n&&t||t&&!v(t)&&t};return S.fx.off?o.duration=0:"number"!=typeof o.duration&&(o.duration in S.fx.speeds?o.duration=S.fx.speeds[o.duration]:o.duration=S.fx.speeds._default),null!=o.queue&&!0!==o.queue||(o.queue="fx"),o.old=o.complete,o.complete=function(){v(o.old)&&o.old.call(this),o.queue&&S.dequeue(this,o.queue)},o},S.fn.extend({fadeTo:function(e,t,n,o){return this.filter(me).css("opacity",0).show().end().animate({opacity:t},e,n,o)},animate:function(t,e,n,o){function r(){var e=M(this,S.extend({},t),a);(i||w.get(this,"finish"))&&e.stop(!0)}var i=S.isEmptyObject(t),a=S.speed(e,n,o);return r.finish=r,i||!1===a.queue?this.each(r):this.queue(a.queue,r)},stop:function(r,e,i){function a(e){var t=e.stop;delete e.stop,t(i)}return"string"!=typeof r&&(i=e,e=r,r=void 0),e&&this.queue(r||"fx",[]),this.each(function(){var e=!0,t=null!=r&&r+"queueHooks",n=S.timers,o=w.get(this);if(t)o[t]&&o[t].stop&&a(o[t]);else for(t in o)o[t]&&o[t].stop&&dt.test(t)&&a(o[t]);for(t=n.length;t--;)n[t].elem!==this||null!=r&&n[t].queue!==r||(n[t].anim.stop(i),e=!1,n.splice(t,1));!e&&i||S.dequeue(this,r)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=w.get(this),n=t[a+"queue"],o=t[a+"queueHooks"],r=S.timers,i=n?n.length:0;for(t.finish=!0,S.queue(this,a,[]),o&&o.stop&&o.stop.call(this,!0),e=r.length;e--;)r[e].elem===this&&r[e].queue===a&&(r[e].anim.stop(!0),r.splice(e,1));for(e=0;e<i;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),S.each(["toggle","show","hide"],function(e,o){var r=S.fn[o];S.fn[o]=function(e,t,n){return null==e||"boolean"==typeof e?r.apply(this,arguments):this.animate(mt(o,!0),e,t,n)}}),S.each({slideDown:mt("show"),slideUp:mt("hide"),slideToggle:mt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,o){S.fn[e]=function(e,t,n){return this.animate(o,e,t,n)}}),S.timers=[],S.fx.tick=function(){var e,t=0,n=S.timers;for(L=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||S.fx.stop(),L=void 0},S.fx.timer=function(e){S.timers.push(e),S.fx.start()},S.fx.interval=13,S.fx.start=function(){ft||(ft=!0,ht())},S.fx.stop=function(){ft=null},S.fx.speeds={slow:600,fast:200,_default:400},S.fn.delay=function(o,e){return o=S.fx&&S.fx.speeds[o]||o,this.queue(e=e||"fx",function(e,t){var n=C.setTimeout(e,o);t.stop=function(){C.clearTimeout(n)}})},D=T.createElement("input"),n=T.createElement("select").appendChild(T.createElement("option")),D.type="checkbox",m.checkOn=""!==D.value,m.optSelected=n.selected,(D=T.createElement("input")).value="t",D.type="radio",m.radioValue="t"===D.value;var vt,bt=S.expr.attrHandle,wt=(S.fn.extend({attr:function(e,t){return f(this,S.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){S.removeAttr(this,e)})}}),S.extend({attr:function(e,t,n){var o,r,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return void 0===e.getAttribute?S.prop(e,t,n):(1===i&&S.isXMLDoc(e)||(r=S.attrHooks[t.toLowerCase()]||(S.expr.match.bool.test(t)?vt:void 0)),void 0!==n?null===n?void S.removeAttr(e,t):r&&"set"in r&&void 0!==(o=r.set(e,n,t))?o:(e.setAttribute(t,n+""),n):!(r&&"get"in r&&null!==(o=r.get(e,t)))&&null==(o=S.find.attr(e,t))?void 0:o)},attrHooks:{type:{set:function(e,t){var n;if(!m.radioValue&&"radio"===t&&l(e,"input"))return n=e.value,e.setAttribute("type",t),n&&(e.value=n),t}}},removeAttr:function(e,t){var n,o=0,r=t&&t.match(k);if(r&&1===e.nodeType)for(;n=r[o++];)e.removeAttribute(n)}}),vt={set:function(e,t,n){return!1===t?S.removeAttr(e,n):e.setAttribute(n,n),n}},S.each(S.expr.match.bool.source.match(/\w+/g),function(e,t){var a=bt[t]||S.find.attr;bt[t]=function(e,t,n){var o,r,i=t.toLowerCase();return n||(r=bt[i],bt[i]=o,o=null!=a(e,t,n)?i:null,bt[i]=r),o}}),/^(?:input|select|textarea|button)$/i),xt=/^(?:a|area)$/i;function R(e){return(e.match(k)||[]).join(" ")}function H(e){return e.getAttribute&&e.getAttribute("class")||""}function Ct(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(k)||[]}S.fn.extend({prop:function(e,t){return f(this,S.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[S.propFix[e]||e]})}}),S.extend({prop:function(e,t,n){var o,r,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return 1===i&&S.isXMLDoc(e)||(t=S.propFix[t]||t,r=S.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(o=r.set(e,n,t))?o:e[t]=n:r&&"get"in r&&null!==(o=r.get(e,t))?o:e[t]},propHooks:{tabIndex:{get:function(e){var t=S.find.attr(e,"tabindex");return t?parseInt(t,10):wt.test(e.nodeName)||xt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),m.optSelected||(S.propHooks.selected={get:function(e){e=e.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(e){e=e.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),S.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){S.propFix[this.toLowerCase()]=this}),S.fn.extend({addClass:function(t){var e,n,o,r,i,a,s=0;if(v(t))return this.each(function(e){S(this).addClass(t.call(this,e,H(this)))});if((e=Ct(t)).length)for(;n=this[s++];)if(a=H(n),o=1===n.nodeType&&" "+R(a)+" "){for(i=0;r=e[i++];)o.indexOf(" "+r+" ")<0&&(o+=r+" ");a!==(a=R(o))&&n.setAttribute("class",a)}return this},removeClass:function(t){var e,n,o,r,i,a,s=0;if(v(t))return this.each(function(e){S(this).removeClass(t.call(this,e,H(this)))});if(!arguments.length)return this.attr("class","");if((e=Ct(t)).length)for(;n=this[s++];)if(a=H(n),o=1===n.nodeType&&" "+R(a)+" "){for(i=0;r=e[i++];)for(;-1<o.indexOf(" "+r+" ");)o=o.replace(" "+r+" "," ");a!==(a=R(o))&&n.setAttribute("class",a)}return this},toggleClass:function(r,t){var i=typeof r,a="string"==i||Array.isArray(r);return"boolean"==typeof t&&a?t?this.addClass(r):this.removeClass(r):v(r)?this.each(function(e){S(this).toggleClass(r.call(this,e,H(this),t),t)}):this.each(function(){var e,t,n,o;if(a)for(t=0,n=S(this),o=Ct(r);e=o[t++];)n.hasClass(e)?n.removeClass(e):n.addClass(e);else void 0!==r&&"boolean"!=i||((e=H(this))&&w.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",!e&&!1!==r&&w.get(this,"__className__")||""))})},hasClass:function(e){for(var t,n=0,o=" "+e+" ";t=this[n++];)if(1===t.nodeType&&-1<(" "+R(H(t))+" ").indexOf(o))return!0;return!1}});function Tt(e){e.stopPropagation()}var St=/\r/g,kt=(S.fn.extend({val:function(t){var n,e,o,r=this[0];return arguments.length?(o=v(t),this.each(function(e){1===this.nodeType&&(null==(e=o?t.call(this,e,S(this).val()):t)?e="":"number"==typeof e?e+="":Array.isArray(e)&&(e=S.map(e,function(e){return null==e?"":e+""})),(n=S.valHooks[this.type]||S.valHooks[this.nodeName.toLowerCase()])&&"set"in n&&void 0!==n.set(this,e,"value")||(this.value=e))})):r?(n=S.valHooks[r.type]||S.valHooks[r.nodeName.toLowerCase()])&&"get"in n&&void 0!==(e=n.get(r,"value"))?e:"string"==typeof(e=r.value)?e.replace(St,""):null==e?"":e:void 0}}),S.extend({valHooks:{option:{get:function(e){var t=S.find.attr(e,"value");return null!=t?t:R(S.text(e))}},select:{get:function(e){for(var t,n=e.options,o=e.selectedIndex,r="select-one"===e.type,i=r?null:[],a=r?o+1:n.length,s=o<0?a:r?o:0;s<a;s++)if(((t=n[s]).selected||s===o)&&!t.disabled&&(!t.parentNode.disabled||!l(t.parentNode,"optgroup"))){if(t=S(t).val(),r)return t;i.push(t)}return i},set:function(e,t){for(var n,o,r=e.options,i=S.makeArray(t),a=r.length;a--;)((o=r[a]).selected=-1<S.inArray(S.valHooks.option.get(o),i))&&(n=!0);return n||(e.selectedIndex=-1),i}}}}),S.each(["radio","checkbox"],function(){S.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<S.inArray(S(e).val(),t)}},m.checkOn||(S.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),m.focusin="onfocusin"in C,/^(?:focusinfocus|focusoutblur)$/),Nt=(S.extend(S.event,{trigger:function(e,t,n,o){var r,i,a,s,l,c,u,f=[n||T],p=z.call(e,"type")?e.type:e,d=z.call(e,"namespace")?e.namespace.split("."):[],h=u=i=n=n||T;if(3!==n.nodeType&&8!==n.nodeType&&!kt.test(p+S.event.triggered)&&(-1<p.indexOf(".")&&(p=(d=p.split(".")).shift(),d.sort()),s=p.indexOf(":")<0&&"on"+p,(e=e[S.expando]?e:new S.Event(p,"object"==typeof e&&e)).isTrigger=o?2:3,e.namespace=d.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:S.makeArray(t,[e]),c=S.event.special[p]||{},o||!c.trigger||!1!==c.trigger.apply(n,t))){if(!o&&!c.noBubble&&!g(n)){for(a=c.delegateType||p,kt.test(a+p)||(h=h.parentNode);h;h=h.parentNode)f.push(h),i=h;i===(n.ownerDocument||T)&&f.push(i.defaultView||i.parentWindow||C)}for(r=0;(h=f[r++])&&!e.isPropagationStopped();)u=h,e.type=1<r?a:c.bindType||p,(l=(w.get(h,"events")||Object.create(null))[e.type]&&w.get(h,"handle"))&&l.apply(h,t),(l=s&&h[s])&&l.apply&&y(h)&&(e.result=l.apply(h,t),!1===e.result&&e.preventDefault());return e.type=p,o||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(f.pop(),t)||!y(n)||s&&v(n[p])&&!g(n)&&((i=n[s])&&(n[s]=null),S.event.triggered=p,e.isPropagationStopped()&&u.addEventListener(p,Tt),n[p](),e.isPropagationStopped()&&u.removeEventListener(p,Tt),S.event.triggered=void 0,i&&(n[s]=i)),e.result}},simulate:function(e,t,n){n=S.extend(new S.Event,n,{type:e,isSimulated:!0});S.event.trigger(n,null,t)}}),S.fn.extend({trigger:function(e,t){return this.each(function(){S.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return S.event.trigger(e,t,n,!0)}}),m.focusin||S.each({focus:"focusin",blur:"focusout"},function(n,o){function r(e){S.event.simulate(o,e.target,S.event.fix(e))}S.event.special[o]={setup:function(){var e=this.ownerDocument||this.document||this,t=w.access(e,o);t||e.addEventListener(n,r,!0),w.access(e,o,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this.document||this,t=w.access(e,o)-1;t?w.access(e,o,t):(e.removeEventListener(n,r,!0),w.remove(e,o))}}}),C.location),Et={guid:Date.now()},jt=/\?/,At=(S.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(new C.DOMParser).parseFromString(e,"text/xml")}catch(e){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||S.error("Invalid XML: "+(n?S.map(n.childNodes,function(e){return e.textContent}).join("\n"):e)),t},/\[\]$/),$t=/\r?\n/g,Lt=/^(?:submit|button|image|reset|file)$/i,Dt=/^(?:input|select|textarea|keygen)/i;S.param=function(e,t){function n(e,t){t=v(t)?t():t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==t?"":t)}var o,r=[];if(null==e)return"";if(Array.isArray(e)||e.jquery&&!S.isPlainObject(e))S.each(e,function(){n(this.name,this.value)});else for(o in e)!function n(o,e,r,i){if(Array.isArray(e))S.each(e,function(e,t){r||At.test(o)?i(o,t):n(o+"["+("object"==typeof t&&null!=t?e:"")+"]",t,r,i)});else if(r||"object"!==h(e))i(o,e);else for(var t in e)n(o+"["+t+"]",e[t],r,i)}(o,e[o],t,n);return r.join("&")},S.fn.extend({serialize:function(){return S.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=S.prop(this,"elements");return e?S.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!S(this).is(":disabled")&&Dt.test(this.nodeName)&&!Lt.test(e)&&(this.checked||!xe.test(e))}).map(function(e,t){var n=S(this).val();return null==n?null:Array.isArray(n)?S.map(n,function(e){return{name:t.name,value:e.replace($t,"\r\n")}}):{name:t.name,value:n.replace($t,"\r\n")}}).get()}});var Mt=/%20/g,Rt=/#.*$/,Ht=/([?&])_=[^&]*/,Ot=/^(.*?):[ \t]*([^\r\n]*)$/gm,It=/^(?:GET|HEAD)$/,Pt=/^\/\//,qt={},Ft={},Bt="*/".concat("*"),Wt=T.createElement("a");function zt(i){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,o=0,r=e.toLowerCase().match(k)||[];if(v(t))for(;n=r[o++];)"+"===n[0]?(n=n.slice(1)||"*",(i[n]=i[n]||[]).unshift(t)):(i[n]=i[n]||[]).push(t)}}function _t(t,o,r,i){var a={},s=t===Ft;function l(e){var n;return a[e]=!0,S.each(t[e]||[],function(e,t){t=t(o,r,i);return"string"!=typeof t||s||a[t]?s?!(n=t):void 0:(o.dataTypes.unshift(t),l(t),!1)}),n}return l(o.dataTypes[0])||!a["*"]&&l("*")}function Ut(e,t){var n,o,r=S.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:o=o||{})[n]=t[n]);return o&&S.extend(!0,e,o),e}Wt.href=Nt.href,S.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Nt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Nt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Bt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":S.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Ut(Ut(e,S.ajaxSettings),t):Ut(S.ajaxSettings,e)},ajaxPrefilter:zt(qt),ajaxTransport:zt(Ft),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0);var l,c,u,n,f,p,d,o,r,h=S.ajaxSetup({},t=t||{}),g=h.context||h,m=h.context&&(g.nodeType||g.jquery)?S(g):S.event,y=S.Deferred(),v=S.Callbacks("once memory"),b=h.statusCode||{},i={},a={},s="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(p){if(!n)for(n={};t=Ot.exec(u);)n[t[1].toLowerCase()+" "]=(n[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=n[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return p?u:null},setRequestHeader:function(e,t){return null==p&&(e=a[e.toLowerCase()]=a[e.toLowerCase()]||e,i[e]=t),this},overrideMimeType:function(e){return null==p&&(h.mimeType=e),this},statusCode:function(e){if(e)if(p)w.always(e[w.status]);else for(var t in e)b[t]=[b[t],e[t]];return this},abort:function(e){e=e||s;return l&&l.abort(e),x(0,e),this}};if(y.promise(w),h.url=((e||h.url||Nt.href)+"").replace(Pt,Nt.protocol+"//"),h.type=t.method||t.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match(k)||[""],null==h.crossDomain){r=T.createElement("a");try{r.href=h.url,r.href=r.href,h.crossDomain=Wt.protocol+"//"+Wt.host!=r.protocol+"//"+r.host}catch(e){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=S.param(h.data,h.traditional)),_t(qt,h,t,w),!p){for(o in(d=S.event&&h.global)&&0==S.active++&&S.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!It.test(h.type),c=h.url.replace(Rt,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace(Mt,"+")):(r=h.url.slice(c.length),h.data&&(h.processData||"string"==typeof h.data)&&(c+=(jt.test(c)?"&":"?")+h.data,delete h.data),!1===h.cache&&(c=c.replace(Ht,"$1"),r=(jt.test(c)?"&":"?")+"_="+Et.guid+++r),h.url=c+r),h.ifModified&&(S.lastModified[c]&&w.setRequestHeader("If-Modified-Since",S.lastModified[c]),S.etag[c]&&w.setRequestHeader("If-None-Match",S.etag[c])),(h.data&&h.hasContent&&!1!==h.contentType||t.contentType)&&w.setRequestHeader("Content-Type",h.contentType),w.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Bt+"; q=0.01":""):h.accepts["*"]),h.headers)w.setRequestHeader(o,h.headers[o]);if(h.beforeSend&&(!1===h.beforeSend.call(g,w,h)||p))return w.abort();if(s="abort",v.add(h.complete),w.done(h.success),w.fail(h.error),l=_t(Ft,h,t,w)){if(w.readyState=1,d&&m.trigger("ajaxSend",[w,h]),p)return w;h.async&&0<h.timeout&&(f=C.setTimeout(function(){w.abort("timeout")},h.timeout));try{p=!1,l.send(i,x)}catch(e){if(p)throw e;x(-1,e)}}else x(-1,"No Transport")}return w;function x(e,t,n,o){var r,i,a,s=t;p||(p=!0,f&&C.clearTimeout(f),l=void 0,u=o||"",w.readyState=0<e?4:0,o=200<=e&&e<300||304===e,n&&(a=function(e,t,n){for(var o,r,i,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===o&&(o=e.mimeType||t.getResponseHeader("Content-Type"));if(o)for(r in s)if(s[r]&&s[r].test(o)){l.unshift(r);break}if(l[0]in n)i=l[0];else{for(r in n){if(!l[0]||e.converters[r+" "+l[0]]){i=r;break}a=a||r}i=i||a}if(i)return i!==l[0]&&l.unshift(i),n[i]}(h,w,n)),!o&&-1<S.inArray("script",h.dataTypes)&&S.inArray("json",h.dataTypes)<0&&(h.converters["text script"]=function(){}),a=function(e,t,n,o){var r,i,a,s,l,c={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(i=u.shift();i;)if(e.responseFields[i]&&(n[e.responseFields[i]]=t),!l&&o&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=i,i=u.shift())if("*"===i)i=l;else if("*"!==l&&l!==i){if(!(a=c[l+" "+i]||c["* "+i]))for(r in c)if((s=r.split(" "))[1]===i&&(a=c[l+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[r]:!0!==c[r]&&(i=s[0],u.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+i}}}return{state:"success",data:t}}(h,a,w,o),o?(h.ifModified&&((n=w.getResponseHeader("Last-Modified"))&&(S.lastModified[c]=n),(n=w.getResponseHeader("etag"))&&(S.etag[c]=n)),204===e||"HEAD"===h.type?s="nocontent":304===e?s="notmodified":(s=a.state,r=a.data,o=!(i=a.error))):(i=s,!e&&s||(s="error",e<0&&(e=0))),w.status=e,w.statusText=(t||s)+"",o?y.resolveWith(g,[r,s,w]):y.rejectWith(g,[w,s,i]),w.statusCode(b),b=void 0,d&&m.trigger(o?"ajaxSuccess":"ajaxError",[w,h,o?r:i]),v.fireWith(g,[w,s]),d&&(m.trigger("ajaxComplete",[w,h]),--S.active||S.event.trigger("ajaxStop")))}},getJSON:function(e,t,n){return S.get(e,t,n,"json")},getScript:function(e,t){return S.get(e,void 0,t,"script")}}),S.each(["get","post"],function(e,r){S[r]=function(e,t,n,o){return v(t)&&(o=o||n,n=t,t=void 0),S.ajax(S.extend({url:e,type:r,dataType:o,data:t,success:n},S.isPlainObject(e)&&e))}}),S.ajaxPrefilter(function(e){for(var t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),S._evalUrl=function(e,t,n){return S.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){S.globalEval(e,t,n)}})},S.fn.extend({wrapAll:function(e){return this[0]&&(v(e)&&(e=e.call(this[0])),e=S(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return v(n)?this.each(function(e){S(this).wrapInner(n.call(this,e))}):this.each(function(){var e=S(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=v(t);return this.each(function(e){S(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){S(this).replaceWith(this.childNodes)}),this}}),S.expr.pseudos.hidden=function(e){return!S.expr.pseudos.visible(e)},S.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},S.ajaxSettings.xhr=function(){try{return new C.XMLHttpRequest}catch(e){}};var Jt={0:200,1223:204},Vt=S.ajaxSettings.xhr();m.cors=!!Vt&&"withCredentials"in Vt,m.ajax=Vt=!!Vt,S.ajaxTransport(function(r){var i,a;if(m.cors||Vt&&!r.crossDomain)return{send:function(e,t){var n,o=r.xhr();if(o.open(r.type,r.url,r.async,r.username,r.password),r.xhrFields)for(n in r.xhrFields)o[n]=r.xhrFields[n];for(n in r.mimeType&&o.overrideMimeType&&o.overrideMimeType(r.mimeType),r.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)o.setRequestHeader(n,e[n]);i=function(e){return function(){i&&(i=a=o.onload=o.onerror=o.onabort=o.ontimeout=o.onreadystatechange=null,"abort"===e?o.abort():"error"===e?"number"!=typeof o.status?t(0,"error"):t(o.status,o.statusText):t(Jt[o.status]||o.status,o.statusText,"text"!==(o.responseType||"text")||"string"!=typeof o.responseText?{binary:o.response}:{text:o.responseText},o.getAllResponseHeaders()))}},o.onload=i(),a=o.onerror=o.ontimeout=i("error"),void 0!==o.onabort?o.onabort=a:o.onreadystatechange=function(){4===o.readyState&&C.setTimeout(function(){i&&a()})},i=i("abort");try{o.send(r.hasContent&&r.data||null)}catch(e){if(i)throw e}},abort:function(){i&&i()}}}),S.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),S.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return S.globalEval(e),e}}}),S.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),S.ajaxTransport("script",function(n){var o,r;if(n.crossDomain||n.scriptAttrs)return{send:function(e,t){o=S("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",r=function(e){o.remove(),r=null,e&&t("error"===e.type?404:200,e.type)}),T.head.appendChild(o[0])},abort:function(){r&&r()}}});var Xt=[],Qt=/(=)\?(?=&|$)|\?\?/,Gt=(S.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Xt.pop()||S.expando+"_"+Et.guid++;return this[e]=!0,e}}),S.ajaxPrefilter("json jsonp",function(e,t,n){var o,r,i,a=!1!==e.jsonp&&(Qt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Qt.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return o=e.jsonpCallback=v(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Qt,"$1"+o):!1!==e.jsonp&&(e.url+=(jt.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return i||S.error(o+" was not called"),i[0]},e.dataTypes[0]="json",r=C[o],C[o]=function(){i=arguments},n.always(function(){void 0===r?S(C).removeProp(o):C[o]=r,e[o]&&(e.jsonpCallback=t.jsonpCallback,Xt.push(o)),i&&v(r)&&r(i[0]),i=r=void 0}),"script"}),m.createHTMLDocument=((e=T.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===e.childNodes.length),S.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(m.createHTMLDocument?((o=(t=T.implementation.createHTMLDocument("")).createElement("base")).href=T.location.href,t.head.appendChild(o)):t=T),o=!n&&[],(n=K.exec(e))?[t.createElement(n[1])]:(n=Ne([e],t,o),o&&o.length&&S(o).remove(),S.merge([],n.childNodes)));var o},S.fn.load=function(e,t,n){var o,r,i,a=this,s=e.indexOf(" ");return-1<s&&(o=R(e.slice(s)),e=e.slice(0,s)),v(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),0<a.length&&S.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){i=arguments,a.html(o?S("<div>").append(S.parseHTML(e)).find(o):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,i||[e.responseText,t,e])})}),this},S.expr.pseudos.animated=function(t){return S.grep(S.timers,function(e){return t===e.elem}).length},S.offset={setOffset:function(e,t,n){var o,r,i,a,s=S.css(e,"position"),l=S(e),c={};"static"===s&&(e.style.position="relative"),i=l.offset(),o=S.css(e,"top"),a=S.css(e,"left"),s=("absolute"===s||"fixed"===s)&&-1<(o+a).indexOf("auto")?(r=(s=l.position()).top,s.left):(r=parseFloat(o)||0,parseFloat(a)||0),null!=(t=v(t)?t.call(e,n,S.extend({},i)):t).top&&(c.top=t.top-i.top+r),null!=t.left&&(c.left=t.left-i.left+s),"using"in t?t.using.call(e,c):l.css(c)}},S.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){S.offset.setOffset(this,t,e)});var e,n=this[0];return n?n.getClientRects().length?(e=n.getBoundingClientRect(),n=n.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,o=this[0],r={top:0,left:0};if("fixed"===S.css(o,"position"))t=o.getBoundingClientRect();else{for(t=this.offset(),n=o.ownerDocument,e=o.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===S.css(e,"position");)e=e.parentNode;e&&e!==o&&1===e.nodeType&&((r=S(e).offset()).top+=S.css(e,"borderTopWidth",!0),r.left+=S.css(e,"borderLeftWidth",!0))}return{top:t.top-r.top-S.css(o,"marginTop",!0),left:t.left-r.left-S.css(o,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===S.css(e,"position");)e=e.offsetParent;return e||x})}}),S.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,r){var i="pageYOffset"===r;S.fn[t]=function(e){return f(this,function(e,t,n){var o;if(g(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===n)return o?o[r]:e[t];o?o.scrollTo(i?o.pageXOffset:n,i?n:o.pageYOffset):e[t]=n},t,e,arguments.length)}}),S.each(["top","left"],function(e,n){S.cssHooks[n]=Ke(m.pixelPosition,function(e,t){if(t)return t=Ge(e,n),Xe.test(t)?S(e).position()[n]+"px":t})}),S.each({Height:"height",Width:"width"},function(a,s){S.each({padding:"inner"+a,content:s,"":"outer"+a},function(o,i){S.fn[i]=function(e,t){var n=arguments.length&&(o||"boolean"!=typeof e),r=o||(!0===e||!0===t?"margin":"border");return f(this,function(e,t,n){var o;return g(e)?0===i.indexOf("outer")?e["inner"+a]:e.document.documentElement["client"+a]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+a],o["scroll"+a],e.body["offset"+a],o["offset"+a],o["client"+a])):void 0===n?S.css(e,t,r):S.style(e,t,n,r)},s,n?e:void 0,n)}})}),S.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){S.fn[t]=function(e){return this.on(t,e)}}),S.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,o){return this.on(t,e,n,o)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),S.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){S.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}}),/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g),Kt=(S.proxy=function(e,t){var n,o;if("string"==typeof t&&(o=e[t],t=e,e=o),v(e))return n=s.call(arguments,2),(o=function(){return e.apply(t||this,n.concat(s.call(arguments)))}).guid=e.guid=e.guid||S.guid++,o},S.holdReady=function(e){e?S.readyWait++:S.ready(!0)},S.isArray=Array.isArray,S.parseJSON=JSON.parse,S.nodeName=l,S.isFunction=v,S.isWindow=g,S.camelCase=b,S.type=h,S.now=Date.now,S.isNumeric=function(e){var t=S.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},S.trim=function(e){return null==e?"":(e+"").replace(Gt,"")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return S}),C.jQuery),Yt=C.$;return S.noConflict=function(e){return C.$===S&&(C.$=Yt),e&&C.jQuery===S&&(C.jQuery=Kt),S},void 0===O&&(C.jQuery=C.$=S),S}),function(e){var t="object"==typeof window&&window||"object"==typeof self&&self;"undefined"!=typeof exports?e(exports):t&&(t.hljs=e({}),"function"==typeof define&&define.amd&&define([],function(){return t.hljs}))}(function(o){function w(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function f(e){return e.nodeName.toLowerCase()}function x(e,t){e=e&&e.exec(t);return e&&0===e.index}function a(e){return r.test(e)}function l(e){var t,n={},o=Array.prototype.slice.call(arguments,1);for(t in e)n[t]=e[t];return o.forEach(function(e){for(t in e)n[t]=e[t]}),n}function s(e){var r=[];return function e(t,n){for(var o=t.firstChild;o;o=o.nextSibling)3===o.nodeType?n+=o.nodeValue.length:1===o.nodeType&&(r.push({event:"start",offset:n,node:o}),n=e(o,n),f(o).match(/br|hr|img|input/)||r.push({event:"stop",offset:n,node:o}));return n}(e,0),r}function c(e,t,n){function o(){return e.length&&t.length?e[0].offset!==t[0].offset?e[0].offset<t[0].offset?e:t:"start"===t[0].event?e:t:e.length?e:t}function r(e){l+="<"+f(e)+p.map.call(e.attributes,function(e){return" "+e.nodeName+'="'+w(e.value).replace('"',"&quot;")+'"'}).join("")+">"}function i(e){l+="</"+f(e)+">"}function a(e){("start"===e.event?r:i)(e.node)}for(var s=0,l="",c=[];e.length||t.length;){var u=o();if(l+=w(n.substring(s,u[0].offset)),s=u[0].offset,u===e){for(c.reverse().forEach(i);a(u.splice(0,1)[0]),(u=o())===e&&u.length&&u[0].offset===s;);c.reverse().forEach(r)}else"start"===u[0].event?c.push(u[0].node):c.pop(),a(u.splice(0,1)[0])}return l+w(n.substr(s))}function C(i){function a(e){return e&&e.source||e}function s(e,t){return new RegExp(a(e),"m"+(i.cI?"i":"")+(t?"g":""))}!function t(n,e){var o,r;n.compiled||(n.compiled=!0,n.k=n.k||n.bK,n.k&&(o={},r=function(t,e){(e=i.cI?e.toLowerCase():e).split(" ").forEach(function(e){e=e.split("|"),o[e[0]]=[t,e[1]?Number(e[1]):1]})},"string"==typeof n.k?r("keyword",n.k):d(n.k).forEach(function(e){r(e,n.k[e])}),n.k=o),n.lR=s(n.l||/\w+/,!0),e&&(n.bK&&(n.b="\\b("+n.bK.split(" ").join("|")+")\\b"),n.b||(n.b=/\B|\b/),n.bR=s(n.b),n.endSameAsBegin&&(n.e=n.b),n.e||n.eW||(n.e=/\B|\b/),n.e&&(n.eR=s(n.e)),n.tE=a(n.e)||"",n.eW&&e.tE&&(n.tE+=(n.e?"|":"")+e.tE)),n.i&&(n.iR=s(n.i)),null==n.r&&(n.r=1),n.c||(n.c=[]),n.c=Array.prototype.concat.apply([],n.c.map(function(e){return(t="self"===e?n:e).v&&!t.cached_variants&&(t.cached_variants=t.v.map(function(e){return l(t,{v:null},e)})),t.cached_variants||t.eW&&[l(t)]||[t];var t})),n.c.forEach(function(e){t(e,n)}),n.starts&&t(n.starts,e),e=n.c.map(function(e){return e.bK?"\\.?("+e.b+")\\.?":e.b}).concat([n.tE,n.i]).map(a).filter(Boolean),n.t=e.length?s(e.join("|"),!0):{exec:function(){return null}})}(i)}function T(e,t,r,n){function i(e,t){for(var n,o=0,r=t.c.length;o<r;o++)if(x(t.c[o].bR,e))return t.c[o].endSameAsBegin&&(t.c[o].eR=(n=t.c[o].bR.exec(e)[0],new RegExp(n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),"m"))),t.c[o]}function a(e,t,n,o){o='<span class="'+(o?"":j.classPrefix);return(o+=e+'">')+t+(n?"":E)}function o(){var e,t,n,o,r;if(!f.k)return w(g);for(n="",f.lR.lastIndex=e=0,t=f.lR.exec(g);t;)n+=w(g.substring(e,t.index)),o=f,r=t,r=u.cI?r[0].toLowerCase():r[0],(o=o.k.hasOwnProperty(r)&&o.k[r])?(m+=o[1],n+=a(o[0],w(t[0]))):n+=w(t[0]),e=f.lR.lastIndex,t=f.lR.exec(g);return n+w(g.substr(e))}function s(){d+=(null!=f.sL?function(){var e="string"==typeof f.sL;if(e&&!N[f.sL])return w(g);var t=e?T(f.sL,g,!0,p[f.sL]):S(g,f.sL.length?f.sL:void 0);return 0<f.r&&(m+=t.r),e&&(p[f.sL]=t.top),a(t.language,t.value,!1,!0)}:o)(),g=""}function l(e){d+=e.cN?a(e.cN,"",!0):"",f=Object.create(e,{parent:{value:f}})}function c(e,t){if(g+=e,null==t)return s(),0;e=i(t,f);if(e)return e.skip?g+=t:(e.eB&&(g+=t),s(),e.rB||e.eB||(g=t)),l(e),e.rB?0:t.length;var n,o=function e(t,n){if(x(t.eR,n)){for(;t.endsParent&&t.parent;)t=t.parent;return t}return t.eW?e(t.parent,n):void 0}(f,t);if(o){var e=f;for(e.skip?g+=t:(e.rE||e.eE||(g+=t),s(),e.eE&&(g=t));f.cN&&(d+=E),f.skip||f.sL||(m+=f.r),(f=f.parent)!==o.parent;);return o.starts&&(o.endSameAsBegin&&(o.starts.eR=o.eR),l(o.starts)),e.rE?0:t.length}if(e=t,n=f,!r&&x(n.iR,e))throw new Error('Illegal lexeme "'+t+'" for mode "'+(f.cN||"<unnamed>")+'"');return g+=t,t.length||1}var u=k(e);if(!u)throw new Error('Unknown language: "'+e+'"');C(u);for(var f=n||u,p={},d="",h=f;h!==u;h=h.parent)h.cN&&(d=a(h.cN,"",!0)+d);var g="",m=0;try{for(var y,v,b=0;f.t.lastIndex=b,y=f.t.exec(t);)v=c(t.substring(b,y.index),y[0]),b=y.index+v;for(c(t.substr(b)),h=f;h.parent;h=h.parent)h.cN&&(d+=E);return{r:m,value:d,language:e,top:f}}catch(e){if(e.message&&-1!==e.message.indexOf("Illegal"))return{r:0,value:w(t)};throw e}}function S(n,e){e=e||j.languages||d(N);var o={r:0,value:w(n)},r=o;return e.filter(k).filter(i).forEach(function(e){var t=T(e,n,!1);t.language=e,t.r>r.r&&(r=t),t.r>o.r&&(r=o,o=t)}),r.language&&(o.second_best=r),o}function u(e){return j.tabReplace||j.useBR?e.replace(m,function(e,t){return j.useBR&&"\n"===e?"<br>":j.tabReplace?t.replace(/\t/g,j.tabReplace):""}):e}function t(e){var t,n,o,r,i=function(e){var t,n,o,r=e.className+" ";if(r+=e.parentNode?e.parentNode.className:"",e=g.exec(r))return k(e[1])?e[1]:"no-highlight";for(t=0,n=(r=r.split(/\s+/)).length;t<n;t++)if(a(o=r[t])||k(o))return o}(e);a(i)||(j.useBR?(n=document.createElementNS("http://www.w3.org/1999/xhtml","div")).innerHTML=e.innerHTML.replace(/\n/g,"").replace(/<br[ \/]*>/g,"\n"):n=e,r=n.textContent,t=i?T(i,r,!0):S(r),(n=s(n)).length&&((o=document.createElementNS("http://www.w3.org/1999/xhtml","div")).innerHTML=t.value,t.value=c(n,s(o),r)),t.value=u(t.value),e.innerHTML=t.value,e.className=(n=e.className,o=i,r=t.language,o=o?h[o]:r,r=[n.trim()],n.match(/\bhljs\b/)||r.push("hljs"),-1===n.indexOf(o)&&r.push(o),r.join(" ").trim()),e.result={language:t.language,re:t.r},t.second_best&&(e.second_best={language:t.second_best.language,re:t.second_best.r}))}function n(){var e;n.called||(n.called=!0,e=document.querySelectorAll("pre code"),p.forEach.call(e,t))}function k(e){return e=(e||"").toLowerCase(),N[e]||N[h[e]]}function i(e){e=k(e);return e&&!e.disableAutodetect}var p=[],d=Object.keys,N={},h={},r=/^(no-?highlight|plain|text)$/i,g=/\blang(?:uage)?-([\w-]+)\b/i,m=/((^(<[^>]+>|\t|)+|(?:\n)))/gm,E="</span>",j={classPrefix:"hljs-",tabReplace:null,useBR:!1,languages:void 0};return o.highlight=T,o.highlightAuto=S,o.fixMarkup=u,o.highlightBlock=t,o.configure=function(e){j=l(j,e)},o.initHighlighting=n,o.initHighlightingOnLoad=function(){addEventListener("DOMContentLoaded",n,!1),addEventListener("load",n,!1)},o.registerLanguage=function(t,e){(e=N[t]=e(o)).aliases&&e.aliases.forEach(function(e){h[e]=t})},o.listLanguages=function(){return d(N)},o.getLanguage=k,o.autoDetection=i,o.inherit=l,o.IR="[a-zA-Z]\\w*",o.UIR="[a-zA-Z_]\\w*",o.NR="\\b\\d+(\\.\\d+)?",o.CNR="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",o.BNR="\\b(0b[01]+)",o.RSR="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",o.BE={b:"\\\\[\\s\\S]",r:0},o.ASM={cN:"string",b:"'",e:"'",i:"\\n",c:[o.BE]},o.QSM={cN:"string",b:'"',e:'"',i:"\\n",c:[o.BE]},o.PWM={b:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},o.C=function(e,t,n){e=o.inherit({cN:"comment",b:e,e:t,c:[]},n||{});return e.c.push(o.PWM),e.c.push({cN:"doctag",b:"(?:TODO|FIXME|NOTE|BUG|XXX):",r:0}),e},o.CLCM=o.C("//","$"),o.CBCM=o.C("/\\*","\\*/"),o.HCM=o.C("#","$"),o.NM={cN:"number",b:o.NR,r:0},o.CNM={cN:"number",b:o.CNR,r:0},o.BNM={cN:"number",b:o.BNR,r:0},o.CSSNM={cN:"number",b:o.NR+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",r:0},o.RM={cN:"regexp",b:/\//,e:/\/[gimuy]*/,i:/\n/,c:[o.BE,{b:/\[/,e:/\]/,r:0,c:[o.BE]}]},o.TM={cN:"title",b:o.IR,r:0},o.UTM={cN:"title",b:o.UIR,r:0},o.METHOD_GUARD={b:"\\.\\s*"+o.UIR,r:0},o}),hljs.registerLanguage("css",function(e){var t={b:/[A-Z\_\.\-]+\s*:/,rB:!0,e:";",eW:!0,c:[{cN:"attribute",b:/\S/,e:":",eE:!0,starts:{eW:!0,eE:!0,c:[{b:/[\w-]+\(/,rB:!0,c:[{cN:"built_in",b:/[\w-]+/},{b:/\(/,e:/\)/,c:[e.ASM,e.QSM]}]},e.CSSNM,e.QSM,e.ASM,e.CBCM,{cN:"number",b:"#[0-9A-Fa-f]+"},{cN:"meta",b:"!important"}]}}]};return{cI:!0,i:/[=\/|'\$]/,c:[e.CBCM,{cN:"selector-id",b:/#[A-Za-z0-9_-]+/},{cN:"selector-class",b:/\.[A-Za-z0-9_-]+/},{cN:"selector-attr",b:/\[/,e:/\]/,i:"$"},{cN:"selector-pseudo",b:/:(:)?[a-zA-Z0-9\_\-\+\(\)"'.]+/},{b:"@(font-face|page)",l:"[a-z-]+",k:"font-face page"},{b:"@",e:"[{;]",i:/:/,c:[{cN:"keyword",b:/\w+/},{b:/\s/,eW:!0,eE:!0,r:0,c:[e.ASM,e.QSM,e.CSSNM]}]},{cN:"selector-tag",b:"[a-zA-Z-][a-zA-Z0-9_-]*",r:0},{b:"{",e:"}",i:/\S/,c:[e.CBCM,t]}]}}),hljs.registerLanguage("javascript",function(e){var t="[A-Za-z$_][0-9A-Za-z$_]*",n={keyword:"in of if for while finally var new function do return void else break catch instanceof with throw case default try this switch continue typeof delete let yield const export super debugger as async await static import from as",literal:"true false null undefined NaN Infinity",built_in:"eval isFinite isNaN parseFloat parseInt decodeURI decodeURIComponent encodeURI encodeURIComponent escape unescape Object Function Boolean Error EvalError InternalError RangeError ReferenceError StopIteration SyntaxError TypeError URIError Number Math Date String RegExp Array Float32Array Float64Array Int16Array Int32Array Int8Array Uint16Array Uint32Array Uint8Array Uint8ClampedArray ArrayBuffer DataView JSON Intl arguments require module console window document Symbol Set Map WeakSet WeakMap Proxy Reflect Promise"},o={cN:"number",v:[{b:"\\b(0[bB][01]+)"},{b:"\\b(0[oO][0-7]+)"},{b:e.CNR}],r:0},r={cN:"subst",b:"\\$\\{",e:"\\}",k:n,c:[]},i={cN:"string",b:"`",e:"`",c:[e.BE,r]},r=(r.c=[e.ASM,e.QSM,i,o,e.RM],r.c.concat([e.CBCM,e.CLCM]));return{aliases:["js","jsx"],k:n,c:[{cN:"meta",r:10,b:/^\s*['"]use (strict|asm)['"]/},{cN:"meta",b:/^#!/,e:/$/},e.ASM,e.QSM,i,e.CLCM,e.CBCM,o,{b:/[{,]\s*/,r:0,c:[{b:t+"\\s*:",rB:!0,r:0,c:[{cN:"attr",b:t,r:0}]}]},{b:"("+e.RSR+"|\\b(case|return|throw)\\b)\\s*",k:"return throw case",c:[e.CLCM,e.CBCM,e.RM,{cN:"function",b:"(\\(.*?\\)|"+t+")\\s*=>",rB:!0,e:"\\s*=>",c:[{cN:"params",v:[{b:t},{b:/\(\s*\)/},{b:/\(/,e:/\)/,eB:!0,eE:!0,k:n,c:r}]}]},{b:/</,e:/(\/\w+|\w+\/)>/,sL:"xml",c:[{b:/<\w+\s*\/>/,skip:!0},{b:/<\w+/,e:/(\/\w+|\w+\/)>/,skip:!0,c:[{b:/<\w+\s*\/>/,skip:!0},"self"]}]}],r:0},{cN:"function",bK:"function",e:/\{/,eE:!0,c:[e.inherit(e.TM,{b:t}),{cN:"params",b:/\(/,e:/\)/,eB:!0,eE:!0,c:r}],i:/\[|%/},{b:/\$[(.]/},e.METHOD_GUARD,{cN:"class",bK:"class",e:/[{;=]/,eE:!0,i:/[:"\[\]]/,c:[{bK:"extends"},e.UTM]},{bK:"constructor",e:/\{/,eE:!0}],i:/#(?!!)/}}),function(o,r){"use strict";function t(e){try{var t,n=r.querySelectorAll("code.hljs");for(t in n)n.hasOwnProperty(t)&&i(n[t],e)}catch(e){o.console.error("LineNumbers error: ",e)}}function i(e,t){var n;"object"==typeof e&&(n=(t=t||{singleLine:!1}).singleLine?0:1,t=function(){(function e(t){var n=t.childNodes;for(var o in n)!n.hasOwnProperty(o)||0<l((o=n[o]).textContent)&&(0<o.childNodes.length?e(o):a(o.parentNode))})(e),e.innerHTML=function(e,t){var n=s(e);if(""===n[n.length-1].trim()&&n.pop(),n.length>t){for(var o="",r=0,i=n.length;r<i;r++)o+=c('<tr><td class="{0}"><div class="{1} {2}" {3}="{5}"></div></td><td class="{4}"><div class="{1}">{6}</div></td></tr>',[d,f,h,g,p,r+1,0<n[r].length?n[r]:" "]);return c('<table class="{0}">{1}</table>',[u,o])}return e}(e.innerHTML,n)},o.setTimeout(t,0))}function a(e){var t=e.className;if(/hljs-/.test(t)){for(var n=s(e.innerHTML),o=0,r="";o<n.length;o++)r+=c('<span class="{0}">{1}</span>\n',[t,n[o]]);e.innerHTML=r.trim()}}function s(e){return 0===e.length?[]:e.split(n)}function l(e){return(e.trim().match(n)||[]).length}function c(e,n){return e.replace(/\{(\d+)\}/g,function(e,t){return n[t]||e})}var e,u="hljs-ln",f="hljs-ln-line",p="hljs-ln-code",d="hljs-ln-numbers",h="hljs-ln-n",g="data-line-number",n=/\r\n|\r|\n/g;o.hljs?(o.hljs.initLineNumbersOnLoad=function(e){"complete"===r.readyState?t(e):o.addEventListener("DOMContentLoaded",function(){t(e)})},o.hljs.lineNumbersBlock=i,(e=r.createElement("style")).type="text/css",e.innerHTML=c(".{0}{border-collapse:collapse}.{0} td{padding:0}.{1}:before{content:attr({2})}",[u,h,g]),r.getElementsByTagName("head")[0].appendChild(e)):o.console.error("highlight.js not detected!")}(window,document),function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.download=t()}(this,function(){return function t(e,n,o){function r(e){return String(e)}var i=window,a="application/octet-stream",s=o||a,o=!n&&!o&&e,l=document.createElement("a"),c=i.Blob||i.MozBlob||i.WebKitBlob||r,u=n||"download",c=c.call?c.bind(i):Blob;if("true"===String(this)&&(s=(e=[e,s])[0],e=e[1]),o&&o.length<2048){var f,u=o.split("/").pop().split("?")[0];if(l.href=o,-1!==l.href.indexOf(o))return(f=new XMLHttpRequest).open("GET",o,!0),f.responseType="blob",f.onload=function(e){t(e.target.response,u,a)},setTimeout(function(){f.send()},0),f}if(/^data\:[\w+\-]+\/[\w+\-]+[,;]/.test(e)){if(!(2096103.424<e.length&&c!==r))return navigator.msSaveBlob?navigator.msSaveBlob(p(e),u):d(e);s=(e=p(e)).type||a}function p(e){for(var e=e.split(/[:;,]/),t=e[1],n=("base64"==e[2]?atob:decodeURIComponent)(e.pop()),o=n.length,r=0,i=new Uint8Array(o);r<o;++r)i[r]=n.charCodeAt(r);return new c([i],{type:t})}function d(e,t){if("download"in l)return l.href=e,l.setAttribute("download",u),l.className="download-js-link",l.innerHTML="downloading...",l.style.display="none",document.body.appendChild(l),setTimeout(function(){l.click(),document.body.removeChild(l),!0===t&&setTimeout(function(){i.URL.revokeObjectURL(l.href)},250)},66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return e=e.replace(/^data:([\w\/\-\+]+)/,a),window.open(e)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=e),!0;var n=document.createElement("iframe");document.body.appendChild(n),t||(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,a)),n.src=e,setTimeout(function(){document.body.removeChild(n)},333)}if(n=e instanceof c?e:new c([e],{type:s}),navigator.msSaveBlob)return navigator.msSaveBlob(n,u);if(i.URL)d(i.URL.createObjectURL(n),!0);else{if("string"==typeof n||n.constructor===r)try{return d("data:"+s+";base64,"+i.btoa(n))}catch(e){return d("data:"+s+","+encodeURIComponent(n))}(o=new FileReader).onload=function(e){d(this.result)},o.readAsDataURL(n)}return!0}}),function(){"use strict";window.Fast={filter:function(e,t){for(var n=e.length,o=[],r=0;r<n;r++)t(e[r],r,e)&&o.push(e[r]);return o},forEach:function(e,t){for(var n=e.length,o=0;o<n;o++)t(e[o],o,e)},map:function(e,t){for(var n=e.length,o=new Array(n),r=0;r<n;r++)o[r]=t(e[r],r,e);return o},find:function(e,t){for(var n=e.length,o=0;o<n;o++)if(t(e[o],o,e))return e[o]},findIndex:function(e,t){for(var n=e.length,o=0;o<n;o++)if(t(e[o],o,e))return o;return-1},every:function(e,t){for(var n=e.length,o=0;o<n;o++)if(!t(e[o],o,e))return!1;return!0}}}(),function(){"use strict";function a(e,t,n){var o="",e=(t.classes&&(Array.isArray(t.classes)&&(o=t.classes.join(" ")),"string"==typeof t.classes&&(o=t.classes),delete t.classes),$(document.createElement(e)).attr(t));return o&&e.addClass(o),n&&e.append(n),e}window.poof=window.poof||{},poof.el=a;function r(e){return e.replace(/"/g,'\\"').replace(/'/g,"\\'")}function t(e,t,n){if("string"!=typeof(e="object"==typeof e&&e.name&&"string"==typeof e.name?e.name:e))return!1;var o=$('.passage-card[name="'+r(e)+'"]');return!!o[0]&&("function"==typeof t&&t.call(null,e,o),o.removeClass("hide"),poof.modal.close(),$("html,body").animate({scrollTop:o.offset().top-37},function(){"function"==typeof n&&n.call(null,e,o)}),!0)}function s(e){return a("a",{classes:"jumpto",href:"javascript:void(0)",title:"Jump"},e).on("click",function(){t(e)})}function n(e){return"object"==typeof e&&e.name&&"string"==typeof e.name&&(e=e.name),!(!poof.passageNames||!Array.isArray(poof.passageNames)||"string"!=typeof e)&&poof.passageNames.includes(e)}var o={gray:"#AAAAAA",grey:"#AAAAAA",red:"#FF4136",orange:"#FF851B",yellow:"#FFDC00",green:"#2ECC40",blue:"#0074D9",purple:"#B10DC9"},i=Object.keys(o);poof.utils={backSlash:"\\",isPassage:n,filterPassages:function(e){return e&&Array.isArray(e)&&e.length?Fast.filter(e,n):[]},getStartingPassage:function(){var e;if(poof.data)return(e=(e=Fast.find(poof.passages,function(e){return e.id===poof.data.start}))||Fast.find(poof.passages,function(e){return"Start"===e.name}))?e:poof.passages[0]},scrollTo:t,jumpLink:s,referenceLinks:function(e){var t=!1,n=a("div",{classes:"passage-reference-wrapper"}),o=a("div",{title:"Links and other code in this passage that points to other passages."},"Refers to: "),r=a("div",{title:"Links and other code in other passages that points to this passage."},"Referred by: "),i=Fast.map(e.links.to,s);return(e=Fast.map(e.links.from,s)).length&&(t=!0,r.append(e).appendTo(n)),i.length&&(t=!0,o.append(i).appendTo(n)),!!t&&n},voidEl:function(){a("span",{classes:"void"})},stringNotEmpty:function(e){return e&&"string"==typeof e&&e.trim()},unescape:function(e){return e.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#039;/g,"'")},escape:function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")},escapeQuotes:r,tweeEscape:function(e){var t=1;return poof&&poof.config&&(t=poof.config.twee||1),e=e.replace(/\\/g,"\\\\").replace(/\[/g,"\\[").replace(/]/g,"\\]"),3===t&&(e=e.replace(/{/g,"\\{").replace(/}/g,"\\}")),e=2===t?e.replace(/</g,"\\<").replace(/>/g,"\\>"):e},getTagColor:function(e,t){return(t=t||poof.tagColors)&&"object"==typeof t?(t=(t=(t=t[e])&&"string"==typeof t?t:"").toLowerCase().trim(),i.includes(t)?o[t]:"#AAAAAA"):"#AAAAAA"},escComment:function(e){return e.replace(/[\u2018\u2019]/g,"'").replace(/[\u201C\u201D]/g,'"').replace(/[\u2010\u2011\u2012\u2013]/g,"-").replace(/[\u2014\u2015]/g,"--").replace(/[\u2026]/g,"...")}}}(),function(){"use strict";function o(){$(".modale").addClass("opened").attr("aria-hidden","false").find('a[tabindex="-1"]').attr({tabindex:"0","aria-hidden":"false"})}function r(e,t){var n=$("#modal-body");t||n.empty(),n.append(e)}function i(e,t){var n=$("#modal-footer");t||n.empty(),n.append(e)}function a(e){$("#modal-title").empty().append(e)}window.poof=window.poof||{},$(document).ready(function(){$(".closemodale").click(function(e){e.preventDefault(),$(".modale").removeClass("opened")})}),window.poof.modal={open:o,close:function(){$(".modale").removeClass("opened").attr("aria-hidden","true").find('a[tabindex="0"]').attr({tabindex:"-1","aria-hidden":"true"})},write:function(e,t,n){a(e),r(t),i(n),o()},title:a,body:r,footer:i}}(),function(){"use strict";function n(e,t,n){var o={disabled:!1,primary:!1,attr:{},classes:[]},n=(n&&"object"==typeof n?n.classes&&"string"==typeof n.classes&&(n.classes=[n.classes]):n={},Object.assign(o,n),o.classes||[]);return o.disabled&&n.push("pure-button-disabled"),o.primary&&n.push("pure-button-primary"),n.push("pure-button"),poof.el("button",o.attr).append(e).addClass(n).on("click",function(){t&&"function"==typeof t&&t()})}window.poof=window.poof||{},window.poof.btn={create:n,normal:function(e,t){return n(e,t,{})},primary:function(e,t){return n(e,t,{primary:!0})},grayed:function(e){return n(e,null,{disabled:!0})},disable:function(e,t){var n;if(e instanceof jQuery?n=e:"string"!=typeof e&&"object"!=typeof e||(n=$(e)),n.hasClass("pure-button"))return t?n.addClass("pure-button-disabled"):null==t?n.toggleClass("pure-button-disabled"):n.removeClass("pure-button-disabled"),button},isDisabled:function(e){var t;if(e instanceof jQuery?t=e:"string"!=typeof e&&"object"!=typeof e||(t=$(e)),t.hasClass("pure-button"))return t.hasClass("pure-button-disabled")}}}(),function(){"use strict";window.poof=window.poof||{},window.poof.forms={form:function(e){return poof.el("form",{classes:"pure-form pure-form-aligned left-align"},poof.el("fieldset",{},e))},text:function(e,t,n,o){return poof.el("div",{classes:"pure-control-group"},[poof.el("label",{for:e},t),poof.el("input",{id:e,type:"text",placeholder:n||""}),poof.el("span",{classes:"pure-form-message-inline"},o||"")])},textlist:function(e,t,n,o){var r=e+"-list";return poof.el("form",{classes:"pure-form"},poof.el("fieldset",{},[poof.el("label",{},[t,poof.el("input",{list:r,id:e,placeholder:n})]),poof.el("datalist",{id:r},Fast.map(o,function(e){return poof.el("option",{value:e})}))]))},check:function(e,t){return poof.el("div",{class:"pure-controls"},poof.el("label",{for:e},[poof.el("input",{id:e,type:"checkbox"}),t]))},select:function(e,t,n){if(n&&Array.isArray(n)&&n.length)return poof.el("div",{class:"pure-controls"},[poof.el("label",{for:e},t),poof.el("select",{id:e},Fast.map(n,function(e){return poof.el("option",{},e)}))])},confirm:function(e,t){return poof.btn.primary(e,t).addClass("confirm-btn")},cancel:function(e,t){return poof.btn.normal(e,t).addClass("cancel-btn")}}}(),function(){"use strict";window.poof=window.poof||{};var o=$("tw-storydata").find('tw-passagedata[name="poof.config"]'),r=["very small","small","normal","large","very large"],i=["serif","sans-serif","monospace"],a=[1,2,3];function s(e,t){return"string"!=typeof e&&(e=String(e)),(e=t?e.toLowerCase():e).trim()}function l(e){return"number"!=typeof e&&(e=Number(e)),e=Number.isNaN(e)?0:e}var t=function(){var e,t={ignoreTag:"poof.ignore",format:{name:"",version:""},simplified:!1,lineNumbers:!0,codeHeightLimit:!0,nightMode:!0,fonts:{main:"",code:""},globals:[],pdf:{font:"sans",fontSize:"normal",lineHeight:1.15},json:{pretty:0,verbose:!1},twee:3,parse:!0},n=o.text()||'{ "noConfig" : true }';try{if(n=JSON.parse(n),Object.assign(t,n),t.simplified=!!t.simplified,t.lineNumbers=!!t.lineNumbers,t.codeHeightLimit=!!t.codeHeightLimit,t.nightMode=!!t.nightMode,t.parse=!!t.parse,t.json.verbose=!!t.json.verbose,t.ignoreTag=s(t.ignoreTag),t.format.name=s(t.format.name),t.format.version=s(t.format.version),t.fonts.main=s(t.fonts.main),t.fonts.code=s(t.fonts.code),t.pdf.font=s(t.pdf.font,!0),t.pdf.fontSize=s(t.pdf.fontSize,!0),t.pdf.lineHeight=l(t.pdf.lineHeight),t.twee=Math.trunc(l(t.twee)),t.json.pretty=Math.trunc(l(t.json.pretty)),i.includes(t.pdf.font)||(t.pdf.font="sans"),r.includes(t.pdf.fontSize)||(t.pdf.fontSize="normal"),a.includes(t.twee)||(t.twee="default"),t.pdf.lineHeight<1&&(t.pdf.lineHeight=1),2<t.pdf.lineHeight&&(t.pdf.lineHeight=2),8<t.json.pretty&&(t.json.pretty=8),t.json.pretty<0&&(t.json.pretty=0),t.globals=e=(e=t.globals)&&Array.isArray(e)?e:[],t.globals=Fast.map(Fast.filter(t.globals,function(e){return"string"==typeof e&&/[A-Za-z_$]/.test(e[0])}),function(e){return s(e)}),!a.includes(t.twee))return 1}catch(e){console.warn("Config passage was not parsed:",e),alert("Poof couldn't parse your config passage, check the console for more information.")}finally{return console.log("Poof Settings Loaded",t),t}}();function n(e,t,n){void 0===n?e[t]||delete e[t]:e[t]===n&&delete e[t]}function c(e,t){var n=Object.keys(e[t]);n.length&&!n.every(function(e){return void 0===e})||delete e[t]}window.poof.configPassage=o.remove(),window.poof.config=t,window.poof.configExport=function(e){return n((e=JSON.parse(JSON.stringify(e||t))).fonts,"main",""),n(e.fonts,"code",""),c(e,"fonts"),n(e.format,"name",""),n(e.format,"version",""),c(e,"format"),e.globals.length||delete e.globals,n(e,"twee",3),n(e,"ingoreTag","poof.ignore"),n(e,"parse",!0),n(e.pdf,"font","sans"),n(e.pdf,"fontSize","normal"),n(e.pdf,"lineHeight",1.15),c(e,"pdf"),n(e.json,"pretty",0),n(e.json,"verbose",!1),c(e,"json"),JSON.stringify(e,null,2)}}(),function(){"use strict";window.poof=window.poof||{};var e="",t="";poof.config.format&&"object"==typeof poof.config.format&&(poof.config.format.name&&"string"==typeof poof.config.format.name&&"harlow"===(e=poof.config.format.name.toLowerCase().trim())&&(e="harlowe"),poof.config.format.version&&"string"==typeof poof.config.format.version?t=poof.config.format.version.toLowerCase().trim():e&&(t="sugarcube"===e||"harlowe"===e?"2.x":"1.x"));var n,o=["$","jQuery","macros","state","tale","SaveSystem","UISystem","strings","config","prehistory","predisplay","prerender","postrender","postdisplay","options","setup","either","lastVisited","passage","previous","random","randomFloat","tags","turns","visited","visitedTags"],r=["$","jQuery","State","Macro","Config","Engine","LoadScreen","Passage","Setting","Save","Story","UI","UIBar","Dialog","Template","SimpleAudio","l10nStrings","setup","settings","postdisplay","postrender","predisplay","prerender","prehistory","clone","either","forget","hasVisited","lastVisited","importScripts","importStyles","memorize","passage","previous","random","randomFloat","recall","setPageElement","tags","temporary","time","turns","variables","visited","visitedTags"],i=["$","jQuery"],a=["$","jQuery","_","story","passage"],s=["$","jQuery","_","story","passage","either","hasVisited","visited","renderToSelector","getStyles"],l=["browser","config","engine","now","passage","random","sound","story","history","state","process","output"],t=(e=e||$("tw-storydata").attr("format").toLowerCase().trim(),t=t||$("tw-storydata").attr("format-version").toLowerCase().trim(),n=t.split(".")[0],{name:e,version:t,major:n,sexy:"sugarcube"===e?"SugarCube":e.charAt(0).toUpperCase()+e.slice(1)});function c(e){var t={};return Fast.forEach(e,function(e){t[e]=!1}),t}window.poof.format=t,window.poof.lint={objectify:c,options:{strict:"implied",undef:!0,browser:!0,devel:!0},globals:"sugarcube"===t.name?c("1"===t.major?o:r):"snowman"===t.name?c("1"===t.major?a:s):"harlowe"===t.name?c(i):"chapbook"===t.name?c(l):{}}}(),function(){"use strict";window.poof=window.poof||{};var n=[],e=$("tw-storydata"),o=(e.children("tw-passagedata").each(function(){var e=$(this);e.attr("tags").toLowerCase().includes(poof.config.ignoreTag)||n.push({name:e.attr("name"),id:Number(e.attr("pid")),tags:e.attr("tags"),pos:e.attr("position"),size:e.attr("size"),source:e.html(),links:{to:[],from:[]}})}),{}),t=(e.children("tw-tag").each(function(){var e=$(this);o[e.attr("name")]=e.attr("color")}),n=n.sort(function(e,t){return e.id-t.id}),Fast.map(n,function(e){return e.name})),r={name:e.attr("name"),compiler:e.attr("creator"),compilerVersion:e.attr("creator-version"),ifid:e.attr("ifid")||"NO IFID. Consider fixing this!",start:Number(e.attr("starnode")),zoom:Number(e.attr("zoom"))};function i(){var t;try{t=JSON.stringify({ifid:r.ifid||"",format:poof.config.format.name||e.attr("format"),"format-version":poof.config.format.version||e.attr("format-version"),start:poof.utils.getStartingPassage().name||n[0].name,"tag-colors":o,zoom:Number.isNaN(r.zoom)?1:r.zoom},null,4)}catch(e){t="{}",console.error("Error parsing story metadata.")}finally{return t}}var a=(a=Fast.map(e.children('*[type="text/twine-javascript"]').toArray(),function(e){return $(e).html()}))&&a.length?a.join("\n\n").trim():"";function s(e){var t="",n="";switch(poof.config.twee){case 2:t=":: StorySettings [twee2]\nTwee2::build_config.story_ifid = '"+e.ifid+"'\n\n";break;case 3:t=":: StoryData\n"+i()+"\n\n";break;default:t=":: StorySettings\nifid:"+e.ifid+"\n\n"}return poof.configPassage&&poof.utils.stringNotEmpty(poof.configPassage.text())&&(n=":: poof.config",n=(n=poof.utils.stringNotEmpty(poof.configPassage.attr("tags"))?n+"["+poof.configPassage.attr("tags")+"]":n)+"\n"+poof.configPassage.text().trim()+"\n\n"),poof.utils.stringNotEmpty(n)&&(t+=n),t+":: StoryTitle\n"+e.name+"\n\n"}function l(){return a.trim()?":: Twine_UserScript [script]\n"+a+"\n\n":""}function c(){return f.trim()?":: Twine_UserStylesheet [stylesheet]\n"+f+"\n\n":""}function u(t){if(!t)return"";var e=t.pos||"",n=t.size||"",o="",r="",e="string"==typeof e?e.trim():"",n="string"==typeof n?n.trim():"";if(1===poof.config.twee||2===poof.config.twee&&!e||3===poof.config.twee&&!e&&!n)o="";else if(2===poof.config.twee)o="<"+e+">";else{var i={};e&&(i.position=e),n&&(i.sizing=n);try{o=JSON.stringify(i)}catch(e){console.error('Passage metadata could not be encoded for passage "'+t.name+'".'),o=""}}return t.tags&&t.tags.trim()&&(r=poof.utils.tweeEscape(t.tags.trim())),":: "+poof.utils.tweeEscape(t.name)+(r?" ["+r+"]":"")+(o?" "+o+"\n":"\n")+t.source}var f=(f=Fast.map(e.children('*[type="text/twine-css"]').toArray(),function(e){return $(e).html()}))&&f.length?f.join("\n\n").trim():"",p={html:function(){var e,t=Fast.map(n,function(e){return e=(t=e).tags.replace(/\s+/g," ").trim(),n=t.tags.trim()?"":"hide",o=poof.utils.referenceLinks(t),e=poof.el("div",{"data-id":t.id,classes:"passage-card"}).append(poof.el("div",{classes:"edit",role:"button",title:"Create a comment using this passage's text."},"&#9998;").on("click",function(){$(document).trigger({type:":comment-from-passage-text",passage:t})})).append(poof.el("h2",{classes:"passage-title"},t.name)).append(poof.el("p",{classes:"passage-tags"},poof.el("span",{classes:"tag-title"},"Tags: ")).append(Fast.map(e.split(" "),function(e){return $(document).on(":filter-complete",function(){0}),poof.el("span",{classes:"tag-listing",title:"Filter..."},e).css({display:"inline-block","border-width":"0 1.1em","border-left-style":"solid","border-color":poof.utils.getTagColor(e),padding:"0 0.1rem","margin-right":"0.5rem"}).on("click",function(){confirm("Would you like to filter the passage view using this tag?")&&poof&&poof.filter&&poof.filter.run&&"function"==typeof poof.filter.run&&($(document).trigger(":filter-start"),poof.filter.run("tags",e),$(document).trigger(":filter-complete"))})})).addClass(n)).append(o?poof.el("div",{classes:"passage-references"},[poof.el("h3",{classes:"passage-references-title"},"References to Other Passages: "),o]):poof.utils.voidEl()).append(poof.el("div",{classes:"passage-source",tabindex:"0"},poof.el("pre",{},t.source.trim()))).append(poof.el("div",{classes:"passage-footer closed"},[poof.el("button",{classes:"comment-open pure-button pure-button-primary",title:"View this passage's comments."},"&#128172;").on("click",function(){$(this).toggleClass("pure-button-primary").parent(".passage-footer").toggleClass("closed"),$(document).trigger({type:":comment-open",passage:t})}),poof.el("div",{classes:"comment-wrapper"})])).attr({name:t.name,"data-pid":t.id,"data-lt":t.source.length}),t.$el=e;var t,n,o});return poof.el("div",{id:"main",classes:"collapse"},(e=r,poof.el("div",{id:"story-data"}).append(poof.el("h1",{id:"title"},"Story: "+e.name)).append(poof.el("p",{id:"format"},poof.format.sexy+" v"+poof.format.version)).append(poof.el("p",{id:"ifid"},"IFID: "+e.ifid)).append(poof.el("p",{id:"compile"},"Made with: "+e.compiler+" "+e.compilerVersion)))).append(t)},p2tw:u,data2tw:function(){return s(r)+c()+l()},tagColors:o,metadata:i,twee:function(){var e=Fast.map(n,u).join("\n\n"),e=s(r)+c()+l()+e;return $(document.createDocumentFragment()).append(e).text()},data:r,passages:n,passageNames:t,scripts:a,styles:f,$scripts:(t=a.trim()?poof.el("pre",{classes:"story-code javascript","data-language":"javascript"},a):poof.utils.voidEl(),poof.el("div",{id:"story-javascript",classes:"passage-card"}).append(poof.el("h2",{classes:"passage-title"},"Story JavaScript")).append(poof.el("div",{classes:"passage-source"}).append(t)).append(poof.el("div",{classes:"lint-btn-wrapper"},poof.el("button",{classes:"lint-btn pure-button pure-button-disabled",id:"lint"},"Lint").attr("title","Requires an Internet connection...").on("click",function(){var e,t;JSHINT&&(t=poof.lint&&poof.lint.options||{},e=poof.lint&&poof.lint.globals||{},JSHINT(a,t,e),t=JSHINT.errors&&Array.isArray(JSHINT.errors)&&JSHINT.errors.length?poof.el("div",{classes:"errors js-errors"},Fast.map(JSHINT.errors,function(e){return poof.el("p",{classes:"error-p"}).append(poof.el("span",{classes:"error-line"},e.line),poof.el("span",{classes:"error-msg"},e.reason))})):poof.el("div",{classes:"errors js-errors no-errors"},"No errors found"),poof.modal.write("Linting Report",t,poof.el("button",{classes:"pure-button"},"Close").on("click",poof.modal.close)))})))),$styles:(t=f.trim()?poof.el("pre",{classes:"story-code css","data-language":"css"},f):poof.utils.voidEl(),poof.el("div",{id:"story-stylesheet",classes:"passage-card"}).append(poof.el("h2",{classes:"passage-title"},"Story StyleSheet")).append(poof.el("div",{classes:"passage-source"}).append(t))),sortState:"pid"};Object.assign(poof,p),window.poof.init={proofing:function(){$("#content").append(p.html()),$("#overlay").append(p.$scripts.addClass("hide"),p.$styles.addClass("hide"))}}}(),function(){"use strict";var t,e;function n(e){return t[e]&&"generic"!==e?t.generic.concat(t[e]):t.generic}function o(e,t){var r,i;{if("string"==typeof(e="object"==typeof e&&e.source&&"string"==typeof e.source?e.source:e))return r=[],i=poof.utils.unescape(e),Fast.forEach(t,function(n){var o=[],e=i.match(n.regex);e&&Fast.forEach(e,function(e){var t=n.regex.exec(e)||n.regex.exec(e);t||"markup"!==n.name||(e=e.replace(/\[+/g,"[[").replace(/(]\[.*]+|]+)/g,"]]"),t=/\[{2,}(.*?)]{2,}/g.exec(e)),t&&(e=t[n.group],"markup"===n.name&&(e=(t="["===(t=e)[0]&&"["===t[1]?t.substr(2,t.length-2):t).includes("|")?t.split("|")[1]||t:t.includes("->")?t.split("->")[1]||t:t.includes("<-")&&t.split("<-")[0]||t),o.includes(e)||o.push(poof.utils.unescape(e)))}),o.length&&(r=r.concat(o))}),r;console.warn("reference parser -> passage text could not be found.")}}function r(){Fast.forEach(poof.passages,function(n){poof.utils.stringNotEmpty(n.source)&&(n.links.to=poof.utils.filterPassages(o(n.source,e)),Fast.forEach(n.links.to,function(t){var e=Fast.findIndex(poof.passages,function(e){return t===e.name}),e=poof.passages[e];e&&!e.links.from.includes(n.name)&&e.links.from.push(n.name)}))})}poof&&poof.utils&&poof.format&&poof.passageNames&&poof.config?(t={generic:[{name:"markup",regex:/\[{2,}(.*?)](\[.*?])?]{1,}/gi,group:1}],sugarcube:[{name:"linkMacro",regex:/<<(link|button)\s*["'](.*?)["']\s*['"](.*?)['"]\s*?>>/gi,group:3},{name:"gotoMacro",regex:/<<goto\s*["'](.*?)["']\s*?>>/gi,group:1},{name:"includeMacro",regex:/<<(include|display)\s*["'](.*?)["']\s*?.*?>>/gi,group:2}],harlowe:[{name:"linkMacro",regex:/\((link|click)-?go-?to:\s*?["'](.*?)['"],\s*?['"](.*?)['"]\s*?\)/gi,group:3},{name:"linkRevealMacro",regex:/\((link|click|mouse-?over|mouse-?out)-?reveal-?go-?to:\s*?["'](.*?)['"],\s*?['"](.*?)['"]\s*?\)/gi,group:3},{name:"gotoMacro",regex:/\(go-?to:\s*?["'](.*?)['"]\s*?\)/gi,group:1},{name:"redirectMacro",regex:/\(redirect:\s*?["'](.*?)['"]\s*?\)/gi,group:1},{name:"includeMacro",regex:/\(display:\s*?["'](.*?)['"]\s*?\)/gi,group:1}],chapbook:[{name:"linkInsert",regex:/{\s*?link\s+to\s+["'](.*?)["'].*?}/gi,group:1},{name:"embedInsert",regex:/{\s*?embed\s+passage(\s+named)?:\s+["'](.*?)["']\s*?}/gi,group:2},{name:"revealInsert",regex:/{\s*?reveal\s+link:.*?passage:\s+?['"](.*?)["'].*?}/gi,group:1}]},e=n(poof.format.name),poof.config.parse&&r(),poof.parser={getParsers:n,parsers:e,parsePassageSource:o,parse:r}):console.error("BUILD ERROR!")}(),function(){"use strict";window.poof=window.poof||{};var t="%%poof-"+poof.data.name+poof.data.ifid;window.poof.store=window.localStorage?{save:function(e){localStorage.setItem(t,JSON.stringify(e))},load:function(){try{return JSON.parse(localStorage.getItem(t)||'{ "hasData" : "hasData" }')}catch(e){return console.warn(e),!1}},del:function(){localStorage.removeItem(t)}}:(console.warn("Cannot access storage."),{save:function(){},load:function(){},del:function(){}})}(),function(){"use strict";function s(e){return e.trim().toLowerCase().replace(/\s+/g," ")}function r(e,o,r,i){var a;return Fast.filter(e,function(e){return"tags"!==o?(a="comments"===o?poof.state&&poof.state.comments&&poof.state.comments[e.name]&&Array.isArray(poof.state.comments[e.name])&&poof.state.comments[e.name].length:s(e[o]).includes(s(r)),i?!a:a):e.tags&&e.tags.trim()?(n=s(r).split(" "),t=s(e.tags),a=Fast.every(n,function(e){return t.includes(e)}),i?!a:a):!!i;var t,n})}function i(){var e=[],e=$(".passage-card.hide").toArray();return $(".passage-card").removeClass("hide"),e}function e(e){$(e).addClass("hide")}function a(e){return Fast.map(e,function(e){return e.$el})}window.poof.filter={normalize:s,run:function(e,t,n,o){return o||i(),o=r(poof.passages,e,t,!n),$(a(o)).each(function(){$(this).addClass("hide")}),o},clear:i,revert:e,passage:{show:function(e){e.$el.removeClass("hide")},hide:function(e){e.$el.addClass("hide")},to$:a}}}(),function(){"use strict";var a={"-name":"name",name:"name","-pid":"data-pid",pid:"data-pid","-length":"data-lt",length:"data-lt"};function s(){return $("#main").children(".passage-card").detach()}function l(e){$("#main").append(e)}window.poof.filter.sorting={run:function(e){var t,n,o,r,i;Object.keys(a).includes(e)?window.poof.sortState!==e&&(t=s(),n=!1,o="",e.includes("-")&&(n=!0),r=o=a[e],i=n="data-lt"===o?!n:n,t.sort(function(e,t){var n=r,o=i;return e=poof.filter.normalize($(e).attr(n)),t=poof.filter.normalize($(t).attr(n)),"name"===n?((n=e<t?-1:t<e?1:0)&&o&&(n*=-1),n):(e=Number(e),t=Number(t),o?t-e:e-t)}),l(t),window.poof.sortState=e):console.error("Invalid sorting property or attribute!")},detach:s,attach:l}}(),function(){"use strict";var r=Fast.map(poof.passages,function(e){return e.name}),i={"Passage Titles":"name","Passage IDs":"pid","Source Code Length":"length"};function a(e){return e&&"string"==typeof e&&e.trim()}window.poof.tools={filter:function(){var e=poof.forms.text("title-filter","Passage Title: ","title..."),t=poof.forms.text("tags-filter","Passage Tags: ","tags...","Seperate tags with spaces."),n=poof.forms.text("source-filter","Passage Text: ","source..."),o=poof.forms.check("comment-filter","Passage has comments.").attr("title","Show only passages with poof comments."),r=poof.forms.check("invert-filter","Invert.").attr("title","Check to instead hide the passages that meet these criteria."),e=poof.forms.form([e,t,n,o,r]),t=poof.el("p",{classes:"form-expanation"},"Show only the passages that meet the following criteria."),n=poof.forms.confirm("Filter",function(){poof.modal.close(),$(document).trigger(":filter-start"),poof.filter.clear();var e=$("#title-filter").val(),t=$("#tags-filter").val(),n=$("#source-filter").val(),o=$("#comment-filter").prop("checked"),r=$("#invert-filter").prop("checked");a(e)&&poof.filter.run("name",e,r),a(t)&&poof.filter.run("tags",t,r),a(n)&&poof.filter.run("source",n,r),o&&poof.filter.run("comments",null,r),$(document).trigger(":filter-complete")}),o=poof.forms.cancel("Clear",function(){poof.modal.close(),$(document).trigger(":filter-start"),poof.filter.clear(),$(document).trigger(":filter-complete")});poof.modal.write("Filter Passages",[t,e],[n,o])},sort:function(){var e=poof.forms.select("sort-param","Select the property to sort by: ",["Passage Titles","Passage IDs","Source Code Length"]),t=poof.forms.check("sort-reverse","Reverse.").attr("title","Reverse the sorting order."),n=poof.el("p",{classes:"form-expanation"},"Sort the passage list using one of the following criteria."),e=poof.el("form",{classes:"pure-form"},poof.el("fieldset",{},[e,"<br />",t])),t=poof.forms.confirm("Sort",function(){poof.modal.close(),$(document).trigger(":sort-start");var e=$("#sort-reverse").prop("checked"),t=i[$("#sort-param").val()];console.log(t),e&&(t="-"+t),poof.filter.sorting.run(t),$(document).trigger(":sort-complete")}),o=poof.forms.cancel("Restore Default",function(){poof.modal.close(),$(document).trigger(":sort-start"),poof.filter.sorting.run("pid"),$(document).trigger(":sort-complete")});poof.modal.write("Sort Passages",[n,e],[t,o])},find:function(){var e=poof.forms.textlist("find-passage","Enter a passage title to look for: ","passage...",r),t=poof.el("div",{id:"find-error"}),n=poof.forms.confirm("Find",function(){var e=$("#find-passage").val();poof.utils.scrollTo(e,function(){$(document).trigger(":find-start")},function(){$(document).trigger(":find-complete")})||t.empty().append('<br/><br/>Cannot find a passage titled "'+e+'".')}),o=poof.forms.cancel("Cancel",function(){poof.modal.close()});poof.modal.write("Find Passages",[e,t],[n,o])},starting:function(){poof.utils.scrollTo(poof.utils.getStartingPassage().name||poof.passages[0].name)}}}(),function(){"use strict";var e=$("#sidebar ul"),t=$("#sidebar"),n=$("#sidebar-link");function o(e){n.empty().append(e?"&#10060;":"&#9776;")}function r(){t.toggleClass("closed"),t.hasClass("closed")?o(!1):o(!0)}function i(){t.addClass("closed"),o(!1)}function a(){return e.empty()}function s(){a().append(Fast.map($(".passage-card").not(".hide").map(function(){return $(this).attr("name")}),function(e){return $(document.createElement("li")).append(poof.utils.jumpLink(e).addClass("sidebar-jump").on("click",function(){i()}))}))}$(document).on(":filter-complete :sort-complete",function(){s()}),poof.sidebar={clear:a,populate:s,$el:t,$content:e,toggle:r,open:function(){t.removeClass("closed"),o(!0)},close:i},poof.init.sidebar=function(){n.on("click",function(){r()}),s()}}(),function(){function t(o){var r=[];return Fast.forEach(poof.passages,function(e){var t,n;r.push((e=e,t=o,n={},Object.assign(n,{name:e.name,pid:e.id,tags:e.tags.split(" ").filter(function(e){return!!e}),source:e.source}),t||Object.assign(n,{referTo:e.links.to,referFrom:e.links.from,position:e.pos,size:e.size,rawTags:e.tags}),n))}),r}function o(e){e=Object.assign({spaces:0,meta:!0},e);e.spaces=Math.trunc(e.spaces),"number"!=typeof e.spaces||e.spaces<0?e.spaces=0:8<e.spaces&&(e.spaces=8),e.meta=!!e.meta;try{return JSON.stringify(t(!e.meta),null,e.spaces||void 0)}catch(e){console.error("Export failed -> ",e.message,e),alert("Export failed--see console for more information.")}}poof.stringify=o,poof.getJSON=function(e){var t=poof.config.json.pretty,n=!!poof.config.json.verbose;download(o({spaces:t?4:0,meta:n}),e,"application/json;charset=utf-8"),$(document).trigger(":json-export-end")}}(),function(){"use strict";function i(e){return!!window[e]||(console.error('Script: "'+e+'" is not loaded...'),!1)}function a(){var e=$("tw-storydata").clone();return poof.configPassage&&poof.utils.stringNotEmpty(poof.configPassage.text())&&e.append(poof.configPassage),$(document.createDocumentFragment()).append(document.createTextNode(e[0].outerHTML)).text()}function s(){return{monospace:{normal:"monospace.ttf"},serif:{normal:"serif.ttf"},sans:{normal:"sans.ttf"},bold:{normal:"bold.ttf"},italic:{normal:"italic.ttf"}}}function l(e){pdfMake||alert("Creating a PDF requires an Internet connection. If you have a connection, please wait for a few seconds and try again."),$(document).trigger(":pdf-export-start");var t,n,o=$("div.passage-card").toArray(),r=[{text:"Story: "+poof.data.name+"\n\n",style:"storyTitle"},{text:"IFID: "+poof.data.ifid+"\n\n\n\n",style:"ifid"}],o=(Fast.forEach(o,function(t){var e;$(t).hasClass("hide")||(e=Fast.find(poof.passages,function(e){return Number($(t).attr("data-pid"))===e.id}))&&"object"==typeof e&&(r.push({text:"\n\n"+e.name,style:"title"}),e.tags&&r.push({text:"\n\nTags: "+e.tags,style:"tags"}),r.push({text:"\n\n"+poof.utils.unescape(e.source)+"\n\n",style:"content",preserveLeadingSpaces:!0}))}),o=function(){if(!(poof&&poof.config&&poof.config.pdf&&poof.config.pdf.fontSize))return 12;switch(poof.config.pdf.fontSize){case"very small":return 8;case"small":return 10;case"large":return 14;case"very large":return 16;default:return 12}}(),t=poof.config.pdf.lineHeight,n=poof&&poof.config&&poof.config.pdf&&poof.config.pdf.font?poof.config.pdf.font:"sans",{styles:{storyTitle:{fontSize:22<o+10?22:o+10,font:"sans",alignment:"center"},ifid:{fontSize:o+2,alignment:"center",font:"monospace"},title:{fontSize:o+4,alignment:"center",font:"sans"},tags:{fontSize:o,font:"italic"},content:{fontSize:o,lineHeight:t,font:n}}});o.content=r,console.log(s()),pdfMake.createPdf(o,null,s(),vfs).download(e,function(){$(document).trigger(":pdf-export-complete")})}window.poof=window.poof||{},window.poof.hasScript=i,window.poof.export={archive:a,PDF:l,config:function(){var e=poof.configExport(poof.config),t=poof.el("p",{},"To make your current settings the default for the current story, copy and paste the below JSON into a passage named <code>poof.config</code> in your story."),n=poof.el("textarea",{id:"config-json"}).css({width:"100%",height:"9em"}).text(e),e=poof.forms.confirm("Select All",function(){n.select()}),o=poof.forms.confirm("Copy to Clipboard",function(){n.select(),document.execCommand("copy")}).removeClass("confirm-btn").css("float","right");poof.modal.write("Export Configuration",[t,n],[e,o])}},window.poof.createDownload=function(e){var t,n;if(i("download"))if(window.poof){var o=e;if("txt"===o)switch(poof.config.twee){case 1:case 3:o="twee";break;case 2:o="tw2";break;default:extention="txt"}var r=poof.data.name.toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").trim()+"."+o;"txt"===e?download(poof.utils.unescape((t=$("div.passage-card").toArray(),n=[],Fast.forEach(t,function(t){var e;$(t).hasClass("hide")||(e=Fast.find(poof.passages,function(e){return Number($(t).attr("data-pid"))===e.id}),n.push(poof.p2tw(e)))}),n=n.join("\n\n"),poof.data2tw()+n)),r,"text/plain;charset=utf-8"):"html"===e?download(document.documentElement.outerHTML,r,"text/html;charset=utf-8"):"pdf"===e?l(r):"json"===e?poof.getJSON(r):(r+=".html",download(a(),r,"text/html;charset=utf-8"))}else console.error("Cannot find generated content output!")}}(),function(){"use strict";window.poof=window.poof||{},window.poof.init=window.poof.init||{};var a=poof.utils.escape,s=poof.utils.unescape;function r(e,i){var t=(0,poof.el)("div",{classes:"comments-list"}),e=Fast.map(e,function(e,t){return n=e,o=t,r=i,(e=poof.el)("div",{classes:"comment-readout"},[e("div",{classes:"number"},o+1),e("div",{classes:"title"},a(n.title)),e("div",{classes:"content"},a(n.body))]).attr({role:"button",title:n.title}).on("click",function(){$(document).trigger({type:":view-comment",comment:n,idx:o,passage:r})}).css("cursor","pointer");var n,o,r});return t.append(e),t}function l(e,t){return confirm("Are you sure you want to permanently delete this comment?")&&(poof.state.comments[e.name].splice(t,1),$(document).trigger({type:":refresh-comments",passage:e}),1)}function c(t,n){poof.state.comments[t.name]=poof.state.comments[t.name]||[];var o=poof.state.comments[t.name],r="number"==typeof n&&o[n],e="boolean"==typeof n&&n,i=poof.forms.text("comment-title","","Title..."),a=poof.el("textarea",{id:"comment-content",placeholder:"Write a comment...",spellcheck:"true",contenteditable:"true"}),e=(r?(i.find("#comment-title").val(o[n].title),a.val(o[n].body)):e&&(i.find("#comment-title").val(t.name),a.val(s(t.source))),poof.el("form",{classes:"pure-form"},poof.el("fieldset",{classes:"pure-group"},[i,a]))),i=poof.forms.confirm("Save",function(){var e={title:poof.utils.escComment($("#comment-title").val()),body:poof.utils.escComment($("#comment-content").val())};e.title||e.body?(r?(o[n]=e,$(document).trigger({type:":view-comment",comment:e})):(o.push(e),poof.modal.close()),$(document).trigger({type:":refresh-comments",passage:t})):poof.modal.write("Hmmm","Your comment is totally blank! Are you trying to delete it?",[poof.forms.confirm("No!",function(){c(t,n)}),poof.forms.cancel("Yes, delete it.",function(){"number"!=typeof n||l(t,n)?poof.modal.close():c(t,n)})])}),a=poof.forms.cancel("Cancel",function(){r?$(document).trigger({type:":view-comment",comment:o[n],passage:t,idx:n}):poof.modal.close()});poof.modal.write("Edit Comment",e,[i,a])}function i(){window.poof.store.save(window.poof.state),console.log("State saved!")}function u(){var n=poof.state.comments;Fast.forEach(Object.keys(n),function(e){var t=n[e].length;t&&(t="&#128172; "+t,$('.passage-card[name="'+e+'"]').find("button.comment-open").empty().append(t))})}$(document).on(":refresh-comments",function(e){i();var t=poof.state.comments[e.passage.name],n=e.passage.$el.children(".passage-footer"),o=n.children(".comment-wrapper");n.find("button.comment-open").empty().append("&#128172; "+(t.length||"")),n.hasClass("closed")||(n=poof.btn.primary("New Comment",function(){$(document).trigger({type:":new-comment",passage:e.passage})}),t=r(t,e.passage),o.empty().append(t,n))}),$(document).on(":comment-open",function(e){var t=poof.state.comments[e.passage.name],n=e.passage.$el.children(".passage-footer"),o=n.children(".comment-wrapper");n.hasClass("closed")?o.empty():t&&Array.isArray(t)&&t.length?(n=poof.btn.primary("New Comment",function(){$(document).trigger({type:":new-comment",passage:e.passage})}),t=r(t,e.passage),o.empty().append(t,n)):o.empty().append(poof.el("div",{role:"button",classes:"empty-comment add-comment"},"+ Add a comment...").on("click",function(){$(document).trigger({type:":new-comment",passage:e.passage})}))}),$(document).on(":new-comment",function(e){c(e.passage)}),$(document).on(":comment-from-passage-text",function(e){c(e.passage,!0)}),$(document).on(":view-comment",function(e){var t,n,o,r;t=e.comment,n=e.idx,o=e.passage,e=poof.forms.confirm("Edit",function(){c(o,n)}),r=poof.forms.cancel("Delete",function(){l(o,n)&&poof.modal.close()}),poof.modal.write(t.title,poof.el("p",{classes:"comment-content-out"},a(t.body)),[e,r])}),window.poof.comments={store:i,export:function(){var e=window.poof.state,t=poof.data.name.toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").trim()+".comments.poof";try{e=btoa(JSON.stringify(e))}catch(e){return console.warn(e),void alert('Something went wrong. Error code: "camel". Please report this bug at: https://github.com/ChapelR/poof/issues/new')}download(e,t,"text/plain;charset=utf-8")},import:function(e){var n,o=[],t={};try{n=JSON.parse(atob(e))}catch(e){return console.warn(e),void alert("This file could not be opened. It may be corrupted.")}if(n.ifid&&"string"==typeof n.ifid?n.ifid.trim().toLowerCase()!==poof.data.ifid.trim().toLowerCase()&&(o.push("This file has a different IFID than the loaded story."),t.ifid=poof.data.ifid):(o.push("This file is missing some of its metadata."),t.ifid=poof.data.ifid),n.comments&&"object"==typeof n.comments?Object.keys(n.comments).length||o.push("There appear to be no comments in this file."):(o.push("The comments in this file may be corrupted or missing."),t.comments={}),o.length){e="There "+(1<o.length?"are multiple ":"is a ")+"problem with this comment file: \n\n"+o.join("\n")+"\n\nWould you like to try to load it anyway?";if(!confirm(e))return;console.log("Attempting to fix malformed comment data: ",n,t),Object.assign(n,t),console.log("Fix restults: ",n)}function r(e){return e&&Array.isArray(e)&&e.length}$(".passage-footer").addClass("closed"),o=[],Fast.forEach(Object.keys(n.comments),function(t){-1===Fast.findIndex(poof.passages,function(e){return t===e.name})?o.push('Cannot find passage "'+t+'", ignoring comments.'):n.comments[t]&&r(n.comments[t])&&(poof.state.comments[t]&&r(poof.state.comments[t])?poof.state.comments[t]=poof.state.comments[t].concat(n.comments[t]):poof.state.comments[t]=n.comments[t])}),o.length&&(console.warn(o.join("\n")),alert("Some comments may not have been imported, check the console for more information.")),console.log("File import complete; updating state."),i(),u()}},window.poof.init.comments=function(){var e=(e=poof.store.load())?(console.log('Poof state loaded from local storage for story "'+poof.data.ifid+'".'),e):(console.log('Poof state generated for story "'+poof.data.ifid+'".'),!1);window.poof.state={ifid:poof.data.ifid,comments:e&&e.comments||{}},u()}}(),function(){"use strict";window.poof=window.poof||{},window.poof.comments=window.poof.comments||{},window.poof.comments.importer=function(){var e;poof.modal.write("Import Comments",(e="comment-file-importer",poof.el("label",{for:e},[poof.el("a",{classes:"pure-button pure-button-primary"},"Import a File"),poof.el("input",{id:e,type:"file"}).on("change",function(e){$(document).trigger(":load-open"),poof.modal.close();var e=e.target.files[0],t=new FileReader;$(t).on("load",function(e){e=e.currentTarget;if(e.result)try{poof.comments.import(e.result)}catch(e){console.warn(e),alert('Something went wrong. Error code: "raven". Please report this bug at: https://github.com/ChapelR/poof/issues/new')}finally{$(document).trigger(":load-close")}}),t.readAsText(e)})])),poof.btn.normal("Cancel",poof.modal.close))}}(),function(){"use strict";window.poof.viewModes={dark:function(e){$(document.documentElement).toggleClass("night").hasClass("night")?(poof.config.nightMode=!0,e.addClass("on")):(poof.config.nightMode=!1,e.removeClass("on"))},simple:function(e){$("#content").toggleClass("simple").hasClass("simple")?(poof.config.simplified=!0,e.addClass("on")):(poof.config.simplified=!1,e.removeClass("on"))},lineNo:function(e){$("td.hljs-ln-numbers").toggleClass("hide").hasClass("hide")?(poof.config.lineNumbers=!1,e.removeClass("on")):(poof.config.lineNumbers=!0,e.addClass("on"))},textHt:function(e){$("#main").toggleClass("collapse").hasClass("collapse")?(poof.config.codeHeightLimit=!0,e.addClass("on")):(poof.config.codeHeightLimit=!1,e.removeClass("on"))}}}(),function(){"use strict";function e(){$("#overlay").removeClass("hide"),$("#main").addClass("smallify")}function t(){$("#overlay").addClass("hide"),$("#main").removeClass("smallify")}function i(e,t,n){return poof.el("li",{classes:"credit-link"},[poof.el("a",{href:t,target:"_blank"},e)," ("+n+") "])}window.poof=window.poof||{},window.poof.init=window.poof.init||{},$(document).on(":load-open",function(){e(),$(".pure-menu").addClass("hide"),$("#story-stylesheet #story-javascript").addClass("hide"),$("#overlay").find(".loader").removeClass("hide")}),$(document).on(":load-close",function(){t(),$(".pure-menu").removeClass("hide"),$("#overlay").find(".loader").addClass("hide")}),$(document).on(":sort-start :filter-start :pdf-export-start",function(){$(document).trigger(":load-open")}),$(document).on(":sort-complete :filter-complete :pdf-export-complete",function(){$(document).trigger(":load-close")}),$(document).on(":filter-start :filter-complete",function(){var e=$("button#clear-filters");$(".passage-card.hide").length?e.show():e.hide()}),window.poof.init.menu=function(){$("#about").on("click",function(){var e=poof.el("p",{},$("body").attr("data-byline")+"."),t=poof.el("p",{},"Version: "+$("body").attr("data-version")),n=poof.el("p",{},"Open Source Software Credits: "),o=(o=i,poof.el("ul",{id:"credits"},[o("twinejs","http://twinery.org/","GPL-3.0"),o("pdfmake","http://pdfmake.org/","MIT"),o("download.js","http://danml.com/download.html","CC-BY-4.0"),o("jshint","https://jshint.com/","MIT"),o("highlight.js","https://highlightjs.org/","<a href='https://github.com/highlightjs/highlight.js/blob/master/LICENSE' target='_blank'>License</a>"),o("highlightjs-line-numbers.js","https://wcoder.github.io/highlightjs-line-numbers.js/","MIT"),o("jQuery","https://jquery.com/","MIT"),o("normalize.css","https://necolas.github.io/normalize.css/","MIT"),o("pure.css","https://purecss.io/","BSD")])),r=poof.btn.normal("Dismiss",function(){poof.modal.close()});poof.modal.write("About poof",[e,t,n,o],r)}).attr("title","About this story format."),$("#twee-export").on("click",function(){poof.createDownload("txt")}).attr("title","Export to plain text in Twee notation."),$("#html-export").on("click",function(){poof.createDownload("html")}).attr("title","Save this HTML view for sharing and later use."),$("#pdf-export").on("click",function(){poof.createDownload("pdf")}).attr("title","Export to PDF format for printing or sharing."),$("#archive-export").on("click",function(){poof.createDownload("archive")}).attr("title","Export to a Twine 2 archive HTML file."),$("#config-export").on("click",function(){poof.export.config()}).attr("title","Create a JSON configuration for your current settings."),$("#json-export").on("click",function(){poof.createDownload("json")}).attr("title","Export passage data in JSON format."),$("#night").on("click",function(){poof.viewModes.dark($(this))}).attr("title","Toggle night mode."),$("#simple").on("click",function(){poof.viewModes.simple($(this))}).attr("title","Toggle a simpler view mode."),$("#line-no").on("click",function(){poof.viewModes.lineNo($(this))}).attr("title","Toggle whether to show line numbers."),$("#collapse").on("click",function(){poof.viewModes.textHt($(this))}).attr("title","Toggle whether to use a scrollbar for lengthy text."),$("#passages").on("click",function(){t(),$("#story-stylesheet").addClass("hide"),$("#story-javascript").addClass("hide"),$("#sidebar-link").removeClass("invis")}).attr("title","View your passages."),$("#javascript").on("click",function(){e(),$("#story-stylesheet").addClass("hide"),$("#story-javascript").removeClass("hide"),$("#sidebar-link").addClass("invis"),JSHINT&&$("#lint").removeClass("pure-button-disabled").attr("title","Check your JavaScript code for errors.")}).attr("title","View your JavaScript code."),$("#stylesheet").on("click",function(){e(),$("#story-stylesheet").removeClass("hide"),$("#story-javascript").addClass("hide"),$("#sidebar-link").addClass("invis")}).attr("title","View your stylesheet."),$("#tools-filter").on("click",function(){poof.tools.filter()}).attr("title","Filter the displayed passages."),$("#tools-sort").on("click",function(){poof.tools.sort()}).attr("title","Sort the displayed passages."),$("#tools-find").on("click",function(){poof.tools.find()}).attr("title","Find a specific passage by title."),$("#tools-starting").on("click",function(){poof.tools.starting()}).attr("title","Locate the starting passage."),$("#comments-export").on("click",function(){poof.comments.export()}).attr("title","Export comments to file."),$("#comments-import").on("click",function(){poof.comments.importer()}).attr("title","Import comments from a file."),$(document.body).append(poof.el("button",{id:"clear-filters",label:"Clear all current filters.",classes:"pure-button pure-button-primary"},"Clear Filters").on("click",function(){$(document).trigger(":filter-start"),poof.filter.clear(),$(document).trigger(":filter-complete")}).hide())}}(),function(){"use strict";$(document).ready(function(){window.poof&&window.poof.init?(poof.init.proofing(),poof.init.comments(),poof.init.menu(),poof.init.sidebar(),poof.config.simplified&&poof.viewModes.simple($("#simple")),poof.config.codeHeightLimit||poof.viewModes.textHt($("#collapse")),poof.config.lineNumbers||poof.viewModes.lineNo($("#line-no")),poof.config.nightMode&&poof.viewModes.dark($("#night")),poof.config.fonts&&"object"==typeof poof.config.fonts&&(poof.config.fonts.main&&"string"==typeof poof.config.fonts.main&&$(document.body).css("font-family",poof.config.fonts.main),poof.config.fonts.code&&"string"==typeof poof.config.fonts.code&&$("div.passage-source pre").css("font-family",poof.config.fonts.code)),poof.config.globals&&Array.isArray(poof.config.globals)&&poof.config.globals.length&&Object.assign(poof.lint.globals,poof.lint.objectify(poof.config.globals)),$("pre.story-code").each(function(e,t){hljs.highlightBlock(t)}),$("pre").each(function(e,t){hljs.lineNumbersBlock(t)}),$(document).trigger(":load-close")):console.error("BUILD ERROR")})}(); </script> <script src="Poof_%20War%20on%20Drugs_files/jshint.min.js"></script> <script src="Poof_%20War%20on%20Drugs_files/pdfmake.min.js"></script> <script src="Poof_%20War%20on%20Drugs_files/vfs_fonts.js"></script>  <button id="clear-filters" label="Clear all current filters." class="pure-button pure-button-primary" style="display: none;">Clear Filters</button></body></html>